import{_ as g}from"./index.vue_vue_type_script_setup_true_lang-7079f67f.js";import{a as v,i as O,l as k,c as w,bh as C,o as _,e as N,s as t,a9 as x,v as S,t as o,r as B,f as a,q as P,x as i,z as A,a3 as T,g as V,n as $,A as z,bc as I}from"./index-ed5c6bde.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-66520c4d.js";const j={columns:{type:Array,default:()=>[]},labelWidth:{type:[Number,String],default:"100px"},labelPosition:{type:String},size:{type:String},showOpen:{type:Boolean,default:!0},colProps:{type:Object,default:()=>({xs:24,sm:12,md:8,lg:6,xl:6})},searchInfo:{type:Object}},D={class:"base-filter-action"},E=v({name:"BaseFilter",__name:"index",props:j,emits:["search"],setup(f,{emit:d}){const c=f,e=O({baseFilterForm:c.searchInfo,isOpen:!1}),b=k(),n=w(()=>c.columns.filter(s=>C(s.active)||s.active)),p=()=>{e.baseFilterForm.time&&e.baseFilterForm.time.length>0&&(e.baseFilterForm.startTime=e.baseFilterForm.time[0],e.baseFilterForm.endTime=e.baseFilterForm.time[1]),d("search",e.baseFilterForm)},u=()=>{a(n).forEach(s=>{var r;((r=s==null?void 0:s.config)==null?void 0:r.clearable)!==!1&&(e.baseFilterForm[s.fieldName]="")}),p()},F=()=>{e.isOpen=!e.isOpen};return(s,r)=>{const l=R,h=z,y=g;return _(),N("div",{ref_key:"baseFilterRef",ref:b},[t(y,{model:a(e).baseFilterForm,class:$(["base-filter",{open:a(e).isOpen}]),"label-width":s.labelWidth,inline:"","label-position":s.labelPosition,columns:a(n),"col-props":s.colProps},x({action:o(()=>[P("div",D,[t(l,{type:"primary",onClick:p},{default:o(()=>[i("查询")]),_:1}),t(l,{type:"primary",plain:"",onClick:u},{default:o(()=>[i(" 重置 ")]),_:1}),s.showOpen?(_(),A(l,{key:0,type:"primary",link:"",onClick:F,class:"open-action"},{default:o(()=>[i(T(a(e).isOpen?"收起":"展开")+" ",1),t(h,{name:a(e).isOpen?"el-icon-ArrowUp":"el-icon-ArrowDown",class:"ml-1"},null,8,["name"])]),_:1})):V("",!0)])]),_:2},[S(a(n),m=>({name:m.fieldName,fn:o(()=>[B(s.$slots,m.fieldName,{},void 0,!0)])}))]),1032,["model","label-width","label-position","columns","col-props","class"])],512)}}});const q=I(E,[["__scopeId","data-v-4c0bffdb"]]);export{q as _};
