import{cg as Ja,ch as Ot,bu as $t,b as _e,d as Ne,ci as ka,an as Ca,a as be,aY as Ge,u as we,as as Cn,a8 as ze,l as F,a2 as ie,ad as ge,a3 as Tt,c as M,Z as Xe,cj as el,ck as tl,a1 as wn,f as l,bL as nl,a4 as dt,o as O,z as ne,t as X,aG as bt,n as w,h as He,aO as Pe,aP as Ce,aj as ut,g as te,e as _,q as H,r as Je,ak as he,aF as ht,_ as Ie,aT as Oe,bw as Un,bH as al,a7 as Ze,m as rt,F as $e,v as Le,x as vt,ax as Ke,s as W,cl as ll,aX as Gn,aq as ol,aR as In,cm as re,aL as Vt,ah as An,at,ao as xe,$ as yt,bc as Nn,cn as It,co as zt,b9 as sl,ar as wa,aw as Sa,i as mt,y as Re,aC as At,b6 as nt,c6 as rl,w as Qn,b1 as Na,aA as Sn,ae as Da,aU as Kt,cp as _t,cq as Kn,b4 as Zt,cr as Ht,av as rn,cs as it,a5 as jt,p as il,ac as Oa,b3 as $a,ct as Lt,ap as Jt,cu as Dn,au as Ln,cv as ul,cw as dl,cx as Ma,aS as xt,cy as cl,aV as Ue,cd as fl,cz as pl,aD as hl,am as Pa,a0 as en,cA as Bn,cB as Ea,cC as la,aa as vl,b5 as Ft,b0 as On,a$ as ml,cD as gl,ab as bl,aM as yl,a9 as kl,aB as Ta,bV as Va,cE as oa,cF as Cl,bW as wl,ay as Sl,cG as Nl,bk as Dl}from"./index-11c9ca28.js";import{i as un,f as Ol,a as $l,p as dn,E as Ml,b as Pl}from"./el-checkbox-6c106ab0.js";import{E as El,a as Tl}from"./index-1885e19b.js";import{_ as Vl}from"./index.vue_vue_type_script_setup_true_lang-72584fdd.js";import{E as Il,t as Al}from"./el-tag-529cbab4.js";import{a as Xn,E as Ia,T as Kl,b as Ll,d as Bl}from"./el-popper-22c0e853.js";import{u as Rn}from"./index-636581fc.js";import{v as sa,p as ra,f as ia,m as $n,b as Mn,d as cn,g as Zn,a as Rl,r as Aa,e as Ka,c as La,l as Fl}from"./localeData-0b23e31a.js";import{_ as Yl}from"./index-323ddc35.js";import{B as zl}from"./index-b82e84ac.js";import{B as _l}from"./icon-selector-aca4f752.js";const Hl=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),xl=e=>Ja[e||"default"],Nt=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Wl=e=>({focus:()=>{var t,a;(a=(t=e.value)==null?void 0:t.focus)==null||a.call(t)}});var fn={exports:{}};fn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,u={},c=function(i){return(i=+i)+(i>68?1900:2e3)},p=function(i){return function(h){this[i]=+h}},C=[/[+-]\d\d:?(\d\d)?|Z/,function(i){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var P=h.match(/([+-]|\d\d)/g),y=60*P[1]+(+P[2]||0);return y===0?0:P[0]==="+"?-y:y}(i)}],b=function(i){var h=u[i];return h&&(h.indexOf?h:h.s.concat(h.f))},f=function(i,h){var P,y=u.meridiem;if(y){for(var m=1;m<=24;m+=1)if(i.indexOf(y(m,0,h))>-1){P=m>12;break}}else P=i===(h?"pm":"PM");return P},d={A:[r,function(i){this.afternoon=f(i,!1)}],a:[r,function(i){this.afternoon=f(i,!0)}],S:[/\d/,function(i){this.milliseconds=100*+i}],SS:[o,function(i){this.milliseconds=10*+i}],SSS:[/\d{3}/,function(i){this.milliseconds=+i}],s:[s,p("seconds")],ss:[s,p("seconds")],m:[s,p("minutes")],mm:[s,p("minutes")],H:[s,p("hours")],h:[s,p("hours")],HH:[s,p("hours")],hh:[s,p("hours")],D:[s,p("day")],DD:[o,p("day")],Do:[r,function(i){var h=u.ordinal,P=i.match(/\d+/);if(this.day=P[0],h)for(var y=1;y<=31;y+=1)h(y).replace(/\[|\]/g,"")===i&&(this.day=y)}],M:[s,p("month")],MM:[o,p("month")],MMM:[r,function(i){var h=b("months"),P=(b("monthsShort")||h.map(function(y){return y.slice(0,3)})).indexOf(i)+1;if(P<1)throw new Error;this.month=P%12||P}],MMMM:[r,function(i){var h=b("months").indexOf(i)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,p("year")],YY:[o,function(i){this.year=c(i)}],YYYY:[/\d{4}/,p("year")],Z:C,ZZ:C};function v(i){var h,P;h=i,P=u&&u.formats;for(var y=(i=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,R,Q){var ve=Q&&Q.toUpperCase();return R||P[Q]||a[Q]||P[ve].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Z,se,ye){return se||ye.slice(1)})})).match(n),m=y.length,T=0;T<m;T+=1){var S=y[T],Y=d[S],G=Y&&Y[0],z=Y&&Y[1];y[T]=z?{regex:G,parser:z}:S.replace(/^\[|\]$/g,"")}return function(A){for(var R={},Q=0,ve=0;Q<m;Q+=1){var Z=y[Q];if(typeof Z=="string")ve+=Z.length;else{var se=Z.regex,ye=Z.parser,fe=A.slice(ve),V=se.exec(fe)[0];ye.call(R,V),A=A.replace(V,"")}}return function(L){var k=L.afternoon;if(k!==void 0){var I=L.hours;k?I<12&&(L.hours+=12):I===12&&(L.hours=0),delete L.afternoon}}(R),R}}return function(i,h,P){P.p.customParseFormat=!0,i&&i.parseTwoDigitYear&&(c=i.parseTwoDigitYear);var y=h.prototype,m=y.parse;y.parse=function(T){var S=T.date,Y=T.utc,G=T.args;this.$u=Y;var z=G[1];if(typeof z=="string"){var A=G[2]===!0,R=G[3]===!0,Q=A||R,ve=G[2];R&&(ve=G[2]),u=this.$locale(),!A&&ve&&(u=P.Ls[ve]),this.$d=function(fe,V,L){try{if(["x","X"].indexOf(V)>-1)return new Date((V==="X"?1e3:1)*fe);var k=v(V)(fe),I=k.year,j=k.month,D=k.day,x=k.hours,J=k.minutes,ae=k.seconds,le=k.milliseconds,Se=k.zone,de=new Date,ke=D||(I||j?1:de.getDate()),me=I||de.getFullYear(),Fe=0;I&&!j||(Fe=j>0?j-1:de.getMonth());var Ee=x||0,Be=J||0,Te=ae||0,We=le||0;return Se?new Date(Date.UTC(me,Fe,ke,Ee,Be,Te,We+60*Se.offset*1e3)):L?new Date(Date.UTC(me,Fe,ke,Ee,Be,Te,We)):new Date(me,Fe,ke,Ee,Be,Te,We)}catch{return new Date("")}}(S,z,Y),this.init(),ve&&ve!==!0&&(this.$L=this.locale(ve).$L),Q&&S!=this.format(z)&&(this.$d=new Date("")),u={}}else if(z instanceof Array)for(var Z=z.length,se=1;se<=Z;se+=1){G[1]=z[se-1];var ye=P.apply(this,G);if(ye.isValid()){this.$d=ye.$d,this.$L=ye.$L,this.init();break}se===Z&&(this.$d=new Date(""))}else m.call(this,T)}}})})(fn,fn.exports);var ql=fn.exports;const jl=$t(ql),ua=["hours","minutes","seconds"],da="HH:mm:ss",Mt="YYYY-MM-DD",Ul={date:Mt,dates:Mt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Mt} ${da}`,monthrange:"YYYY-MM",daterange:Mt,datetimerange:`${Mt} ${da}`},Ba=_e({disabledHours:{type:Ne(Function)},disabledMinutes:{type:Ne(Function)},disabledSeconds:{type:Ne(Function)}}),Gl=_e({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Ra=_e({id:{type:Ne([Array,String])},name:{type:Ne([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ne([String,Object]),default:ka},editable:{type:Boolean,default:!0},prefixIcon:{type:Ne([String,Object]),default:""},size:Ca,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Ne(Object),default:()=>({})},modelValue:{type:Ne([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ne([Date,Array])},defaultTime:{type:Ne([Date,Array])},isRange:{type:Boolean,default:!1},...Ba,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:Ne([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ql=["id","name","placeholder","value","disabled","readonly"],Xl=["id","name","placeholder","value","disabled","readonly"],Zl=be({name:"Picker"}),Jl=be({...Zl,props:Ra,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:a}){const n=e,{lang:o}=Ge(),s=we("date"),r=we("input"),u=we("range"),{form:c,formItem:p}=Cn(),C=ze("ElPopperOptions",{}),b=F(),f=F(),d=F(!1),v=F(!1),i=F(null);let h=!1,P=!1;ie(d,g=>{g?ge(()=>{g&&(i.value=n.modelValue)}):(pe.value=null,ge(()=>{y(n.modelValue)}))});const y=(g,$)=>{($||!sa(g,i.value))&&(a("change",g),n.validateEvent&&(p==null||p.validate("change").catch(B=>Tt())))},m=g=>{if(!sa(n.modelValue,g)){let $;Xe(g)?$=g.map(B=>ia(B,n.valueFormat,o.value)):g&&($=ia(g,n.valueFormat,o.value)),a("update:modelValue",g&&$,o.value)}},T=g=>{a("keydown",g)},S=M(()=>{if(f.value){const g=Be.value?f.value:f.value.$el;return Array.from(g.querySelectorAll("input"))}return[]}),Y=(g,$,B)=>{const q=S.value;q.length&&(!B||B==="min"?(q[0].setSelectionRange(g,$),q[0].focus()):B==="max"&&(q[1].setSelectionRange(g,$),q[1].focus()))},G=()=>{ye(!0,!0),ge(()=>{P=!1})},z=(g="",$=!1)=>{$||(P=!0),d.value=$;let B;Xe(g)?B=g.map(q=>q.toDate()):B=g&&g.toDate(),pe.value=null,m(B)},A=()=>{v.value=!0},R=()=>{a("visible-change",!0)},Q=g=>{(g==null?void 0:g.key)===Oe.esc&&ye(!0,!0)},ve=()=>{v.value=!1,d.value=!1,P=!1,a("visible-change",!1)},Z=()=>{d.value=!0},se=()=>{d.value=!1},ye=(g=!0,$=!1)=>{P=$;const[B,q]=l(S);let Ae=B;!g&&Be.value&&(Ae=q),Ae&&Ae.focus()},fe=g=>{n.readonly||k.value||d.value||P||(d.value=!0,a("focus",g))};let V;const L=g=>{const $=async()=>{setTimeout(()=>{var B;V===$&&(!((B=b.value)!=null&&B.isFocusInsideContent()&&!h)&&S.value.filter(q=>q.contains(document.activeElement)).length===0&&(lt(),d.value=!1,a("blur",g),n.validateEvent&&(p==null||p.validate("blur").catch(q=>Tt()))),h=!1)},0)};V=$,$()},k=M(()=>n.disabled||(c==null?void 0:c.disabled)),I=M(()=>{let g;if(de.value?De.value.getDefaultValue&&(g=De.value.getDefaultValue()):Xe(n.modelValue)?g=n.modelValue.map($=>ra($,n.valueFormat,o.value)):g=ra(n.modelValue,n.valueFormat,o.value),De.value.getRangeAvailableTime){const $=De.value.getRangeAvailableTime(g);un($,g)||(g=$,m(Xe(g)?g.map(B=>B.toDate()):g.toDate()))}return Xe(g)&&g.some($=>!$)&&(g=[]),g}),j=M(()=>{if(!De.value.panelReady)return"";const g=qe(I.value);return Xe(pe.value)?[pe.value[0]||g&&g[0]||"",pe.value[1]||g&&g[1]||""]:pe.value!==null?pe.value:!x.value&&de.value||!d.value&&de.value?"":g?J.value?g.join(", "):g:""}),D=M(()=>n.type.includes("time")),x=M(()=>n.type.startsWith("time")),J=M(()=>n.type==="dates"),ae=M(()=>n.prefixIcon||(D.value?el:tl)),le=F(!1),Se=g=>{n.readonly||k.value||le.value&&(g.stopPropagation(),G(),m(null),y(null,!0),le.value=!1,d.value=!1,De.value.handleClear&&De.value.handleClear())},de=M(()=>{const{modelValue:g}=n;return!g||Xe(g)&&!g.filter(Boolean).length}),ke=async g=>{var $;n.readonly||k.value||((($=g.target)==null?void 0:$.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(d.value=!0)},me=()=>{n.readonly||k.value||!de.value&&n.clearable&&(le.value=!0)},Fe=()=>{le.value=!1},Ee=g=>{var $;n.readonly||k.value||((($=g.touches[0].target)==null?void 0:$.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(d.value=!0)},Be=M(()=>n.type.includes("range")),Te=wn(),We=M(()=>{var g,$;return($=(g=l(b))==null?void 0:g.popperRef)==null?void 0:$.contentRef}),Qe=M(()=>{var g;return l(Be)?l(f):(g=l(f))==null?void 0:g.$el});nl(Qe,g=>{const $=l(We),B=l(Qe);$&&(g.target===$||g.composedPath().includes($))||g.target===B||g.composedPath().includes(B)||(d.value=!1)});const pe=F(null),lt=()=>{if(pe.value){const g=Ye(j.value);g&&ot(g)&&(m(Xe(g)?g.map($=>$.toDate()):g.toDate()),pe.value=null)}pe.value===""&&(m(null),y(null),pe.value=null)},Ye=g=>g?De.value.parseUserInput(g):null,qe=g=>g?De.value.formatToString(g):null,ot=g=>De.value.isValidValue(g),ct=async g=>{if(n.readonly||k.value)return;const{code:$}=g;if(T(g),$===Oe.esc){d.value===!0&&(d.value=!1,g.preventDefault(),g.stopPropagation());return}if($===Oe.down&&(De.value.handleFocusPicker&&(g.preventDefault(),g.stopPropagation()),d.value===!1&&(d.value=!0,await ge()),De.value.handleFocusPicker)){De.value.handleFocusPicker();return}if($===Oe.tab){h=!0;return}if($===Oe.enter||$===Oe.numpadEnter){(pe.value===null||pe.value===""||ot(Ye(j.value)))&&(lt(),d.value=!1),g.stopPropagation();return}if(pe.value){g.stopPropagation();return}De.value.handleKeydownInput&&De.value.handleKeydownInput(g)},je=g=>{pe.value=g,d.value||(d.value=!0)},et=g=>{const $=g.target;pe.value?pe.value=[$.value,pe.value[1]]:pe.value=[$.value,null]},tt=g=>{const $=g.target;pe.value?pe.value=[pe.value[0],$.value]:pe.value=[null,$.value]},st=()=>{var g;const $=pe.value,B=Ye($&&$[0]),q=l(I);if(B&&B.isValid()){pe.value=[qe(B),((g=j.value)==null?void 0:g[1])||null];const Ae=[B,q&&(q[1]||null)];ot(Ae)&&(m(Ae),pe.value=null)}},ft=()=>{var g;const $=l(pe),B=Ye($&&$[1]),q=l(I);if(B&&B.isValid()){pe.value=[((g=l(j))==null?void 0:g[0])||null,qe(B)];const Ae=[q&&q[0],B];ot(Ae)&&(m(Ae),pe.value=null)}},De=F({}),E=g=>{De.value[g[0]]=g[1],De.value.panelReady=!0},U=g=>{a("calendar-change",g)},oe=(g,$,B)=>{a("panel-change",g,$,B)};return dt("EP_PICKER_BASE",{props:n}),t({focus:ye,handleFocusInput:fe,handleBlurInput:L,handleOpen:Z,handleClose:se,onPick:z}),(g,$)=>(O(),ne(l(Xn),ht({ref_key:"refPopper",ref:b,visible:d.value,effect:"light",pure:"",trigger:"click"},g.$attrs,{role:"dialog",teleported:"",transition:`${l(s).namespace.value}-zoom-in-top`,"popper-class":[`${l(s).namespace.value}-picker__popper`,g.popperClass],"popper-options":l(C),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:A,onShow:R,onHide:ve}),{default:X(()=>[l(Be)?(O(),_("div",{key:1,ref_key:"inputRef",ref:f,class:w([l(s).b("editor"),l(s).bm("editor",g.type),l(r).e("wrapper"),l(s).is("disabled",l(k)),l(s).is("active",d.value),l(u).b("editor"),l(Te)?l(u).bm("editor",l(Te)):"",g.$attrs.class]),style:He(g.$attrs.style),onClick:fe,onMouseenter:me,onMouseleave:Fe,onTouchstart:Ee,onKeydown:ct},[l(ae)?(O(),ne(l(Ce),{key:0,class:w([l(r).e("icon"),l(u).e("icon")]),onMousedown:Pe(ke,["prevent"]),onTouchstart:Ee},{default:X(()=>[(O(),ne(ut(l(ae))))]),_:1},8,["class","onMousedown"])):te("v-if",!0),H("input",{id:g.id&&g.id[0],autocomplete:"off",name:g.name&&g.name[0],placeholder:g.startPlaceholder,value:l(j)&&l(j)[0],disabled:l(k),readonly:!g.editable||g.readonly,class:w(l(u).b("input")),onMousedown:ke,onInput:et,onChange:st,onFocus:fe,onBlur:L},null,42,Ql),Je(g.$slots,"range-separator",{},()=>[H("span",{class:w(l(u).b("separator"))},he(g.rangeSeparator),3)]),H("input",{id:g.id&&g.id[1],autocomplete:"off",name:g.name&&g.name[1],placeholder:g.endPlaceholder,value:l(j)&&l(j)[1],disabled:l(k),readonly:!g.editable||g.readonly,class:w(l(u).b("input")),onMousedown:ke,onFocus:fe,onBlur:L,onInput:tt,onChange:ft},null,42,Xl),g.clearIcon?(O(),ne(l(Ce),{key:1,class:w([l(r).e("icon"),l(u).e("close-icon"),{[l(u).e("close-icon--hidden")]:!le.value}]),onClick:Se},{default:X(()=>[(O(),ne(ut(g.clearIcon)))]),_:1},8,["class"])):te("v-if",!0)],38)):(O(),ne(l(bt),{key:0,id:g.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":l(j),name:g.name,size:l(Te),disabled:l(k),placeholder:g.placeholder,class:w([l(s).b("editor"),l(s).bm("editor",g.type),g.$attrs.class]),style:He(g.$attrs.style),readonly:!g.editable||g.readonly||l(J)||g.type==="week",label:g.label,tabindex:g.tabindex,"validate-event":!1,onInput:je,onFocus:fe,onBlur:L,onKeydown:ct,onChange:lt,onMousedown:ke,onMouseenter:me,onMouseleave:Fe,onTouchstart:Ee,onClick:$[0]||($[0]=Pe(()=>{},["stop"]))},{prefix:X(()=>[l(ae)?(O(),ne(l(Ce),{key:0,class:w(l(r).e("icon")),onMousedown:Pe(ke,["prevent"]),onTouchstart:Ee},{default:X(()=>[(O(),ne(ut(l(ae))))]),_:1},8,["class","onMousedown"])):te("v-if",!0)]),suffix:X(()=>[le.value&&g.clearIcon?(O(),ne(l(Ce),{key:0,class:w(`${l(r).e("icon")} clear-icon`),onClick:Pe(Se,["stop"])},{default:X(()=>[(O(),ne(ut(g.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:X(()=>[Je(g.$slots,"default",{visible:d.value,actualVisible:v.value,parsedValue:l(I),format:g.format,unlinkPanels:g.unlinkPanels,type:g.type,defaultValue:g.defaultValue,onPick:z,onSelectRange:Y,onSetPickerOption:E,onCalendarChange:U,onPanelChange:oe,onKeydown:Q,onMousedown:$[1]||($[1]=Pe(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var eo=Ie(Jl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const to=_e({...Gl,datetimeRole:String,parsedValue:{type:Ne(Object)}}),no=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:a})=>{const n=(r,u,c,p)=>{const C={hour:e,minute:t,second:a};let b=r;return["hour","minute","second"].forEach(f=>{if(C[f]){let d;const v=C[f];switch(f){case"minute":{d=v(b.hour(),u,p);break}case"second":{d=v(b.hour(),b.minute(),u,p);break}default:{d=v(u,p);break}}if(d!=null&&d.length&&!d.includes(b[f]())){const i=c?0:d.length-1;b=b[f](d[i])}}}),b},o={};return{timePickerOptions:o,getAvailableTime:n,onSetOption:([r,u])=>{o[r]=u}}},Pn=e=>{const t=(n,o)=>n||o,a=n=>n!==!0;return e.map(t).filter(a)},Fa=(e,t,a)=>({getHoursList:(r,u)=>$n(24,e&&(()=>e==null?void 0:e(r,u))),getMinutesList:(r,u,c)=>$n(60,t&&(()=>t==null?void 0:t(r,u,c))),getSecondsList:(r,u,c,p)=>$n(60,a&&(()=>a==null?void 0:a(r,u,c,p)))}),ao=(e,t,a)=>{const{getHoursList:n,getMinutesList:o,getSecondsList:s}=Fa(e,t,a);return{getAvailableHours:(p,C)=>Pn(n(p,C)),getAvailableMinutes:(p,C,b)=>Pn(o(p,C,b)),getAvailableSeconds:(p,C,b,f)=>Pn(s(p,C,b,f))}},lo=e=>{const t=F(e.parsedValue);return ie(()=>e.visible,a=>{a||(t.value=e.parsedValue)}),t},Ct=new Map;let ca;Un&&(document.addEventListener("mousedown",e=>ca=e),document.addEventListener("mouseup",e=>{for(const t of Ct.values())for(const{documentHandler:a}of t)a(e,ca)}));function fa(e,t){let a=[];return Array.isArray(t.arg)?a=t.arg:al(t.arg)&&a.push(t.arg),function(n,o){const s=t.instance.popperRef,r=n.target,u=o==null?void 0:o.target,c=!t||!t.instance,p=!r||!u,C=e.contains(r)||e.contains(u),b=e===r,f=a.length&&a.some(v=>v==null?void 0:v.contains(r))||a.length&&a.includes(u),d=s&&(s.contains(r)||s.contains(u));c||p||C||b||f||d||t.value(n,o)}}const Wt={beforeMount(e,t){Ct.has(e)||Ct.set(e,[]),Ct.get(e).push({documentHandler:fa(e,t),bindingFn:t.value})},updated(e,t){Ct.has(e)||Ct.set(e,[]);const a=Ct.get(e),n=a.findIndex(s=>s.bindingFn===t.oldValue),o={documentHandler:fa(e,t),bindingFn:t.value};n>=0?a.splice(n,1,o):a.push(o)},unmounted(e){Ct.delete(e)}},oo=100,so=600,pa={beforeMount(e,t){const a=t.value,{interval:n=oo,delay:o=so}=Ze(a)?{}:a;let s,r;const u=()=>Ze(a)?a():a.handler(),c=()=>{r&&(clearTimeout(r),r=void 0),s&&(clearInterval(s),s=void 0)};e.addEventListener("mousedown",p=>{p.button===0&&(c(),u(),document.addEventListener("mouseup",()=>c(),{once:!0}),r=setTimeout(()=>{s=setInterval(()=>{u()},n)},o))})}},ro=_e({role:{type:String,required:!0},spinnerDate:{type:Ne(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ne(String),default:""},...Ba}),io=["onClick"],uo=["onMouseenter"],co=be({__name:"basic-time-spinner",props:ro,emits:["change","select-range","set-option"],setup(e,{emit:t}){const a=e,n=we("time"),{getHoursList:o,getMinutesList:s,getSecondsList:r}=Fa(a.disabledHours,a.disabledMinutes,a.disabledSeconds);let u=!1;const c=F(),p=F(),C=F(),b=F(),f={hours:p,minutes:C,seconds:b},d=M(()=>a.showSeconds?ua:ua.slice(0,2)),v=M(()=>{const{spinnerDate:k}=a,I=k.hour(),j=k.minute(),D=k.second();return{hours:I,minutes:j,seconds:D}}),i=M(()=>{const{hours:k,minutes:I}=l(v);return{hours:o(a.role),minutes:s(k,a.role),seconds:r(k,I,a.role)}}),h=M(()=>{const{hours:k,minutes:I,seconds:j}=l(v);return{hours:Mn(k,23),minutes:Mn(I,59),seconds:Mn(j,59)}}),P=cn(k=>{u=!1,T(k)},200),y=k=>{if(!!!a.amPmMode)return"";const j=a.amPmMode==="A";let D=k<12?" am":" pm";return j&&(D=D.toUpperCase()),D},m=k=>{let I;switch(k){case"hours":I=[0,2];break;case"minutes":I=[3,5];break;case"seconds":I=[6,8];break}const[j,D]=I;t("select-range",j,D),c.value=k},T=k=>{G(k,l(v)[k])},S=()=>{T("hours"),T("minutes"),T("seconds")},Y=k=>k.querySelector(`.${n.namespace.value}-scrollbar__wrap`),G=(k,I)=>{if(a.arrowControl)return;const j=l(f[k]);j&&j.$el&&(Y(j.$el).scrollTop=Math.max(0,I*z(k)))},z=k=>{const I=l(f[k]);return(I==null?void 0:I.$el.querySelector("li").offsetHeight)||0},A=()=>{Q(1)},R=()=>{Q(-1)},Q=k=>{c.value||m("hours");const I=c.value,j=l(v)[I],D=c.value==="hours"?24:60,x=ve(I,j,k,D);Z(I,x),G(I,x),ge(()=>m(I))},ve=(k,I,j,D)=>{let x=(I+j+D)%D;const J=l(i)[k];for(;J[x]&&x!==I;)x=(x+j+D)%D;return x},Z=(k,I)=>{if(l(i)[k][I])return;const{hours:x,minutes:J,seconds:ae}=l(v);let le;switch(k){case"hours":le=a.spinnerDate.hour(I).minute(J).second(ae);break;case"minutes":le=a.spinnerDate.hour(x).minute(I).second(ae);break;case"seconds":le=a.spinnerDate.hour(x).minute(J).second(I);break}t("change",le)},se=(k,{value:I,disabled:j})=>{j||(Z(k,I),m(k),G(k,I))},ye=k=>{u=!0,P(k);const I=Math.min(Math.round((Y(l(f[k]).$el).scrollTop-(fe(k)*.5-10)/z(k)+3)/z(k)),k==="hours"?23:59);Z(k,I)},fe=k=>l(f[k]).$el.offsetHeight,V=()=>{const k=I=>{const j=l(f[I]);j&&j.$el&&(Y(j.$el).onscroll=()=>{ye(I)})};k("hours"),k("minutes"),k("seconds")};rt(()=>{ge(()=>{!a.arrowControl&&V(),S(),a.role==="start"&&m("hours")})});const L=(k,I)=>{f[I].value=k};return t("set-option",[`${a.role}_scrollDown`,Q]),t("set-option",[`${a.role}_emitSelectRange`,m]),ie(()=>a.spinnerDate,()=>{u||S()}),(k,I)=>(O(),_("div",{class:w([l(n).b("spinner"),{"has-seconds":k.showSeconds}])},[k.arrowControl?te("v-if",!0):(O(!0),_($e,{key:0},Le(l(d),j=>(O(),ne(l(Ia),{key:j,ref_for:!0,ref:D=>L(D,j),class:w(l(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":l(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:D=>m(j),onMousemove:D=>T(j)},{default:X(()=>[(O(!0),_($e,null,Le(l(i)[j],(D,x)=>(O(),_("li",{key:x,class:w([l(n).be("spinner","item"),l(n).is("active",x===l(v)[j]),l(n).is("disabled",D)]),onClick:J=>se(j,{value:x,disabled:D})},[j==="hours"?(O(),_($e,{key:0},[vt(he(("0"+(k.amPmMode?x%12||12:x)).slice(-2))+he(y(x)),1)],64)):(O(),_($e,{key:1},[vt(he(("0"+x).slice(-2)),1)],64))],10,io))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),k.arrowControl?(O(!0),_($e,{key:1},Le(l(d),j=>(O(),_("div",{key:j,class:w([l(n).be("spinner","wrapper"),l(n).is("arrow")]),onMouseenter:D=>m(j)},[Ke((O(),ne(l(Ce),{class:w(["arrow-up",l(n).be("spinner","arrow")])},{default:X(()=>[W(l(ll))]),_:1},8,["class"])),[[l(pa),R]]),Ke((O(),ne(l(Ce),{class:w(["arrow-down",l(n).be("spinner","arrow")])},{default:X(()=>[W(l(Gn))]),_:1},8,["class"])),[[l(pa),A]]),H("ul",{class:w(l(n).be("spinner","list"))},[(O(!0),_($e,null,Le(l(h)[j],(D,x)=>(O(),_("li",{key:x,class:w([l(n).be("spinner","item"),l(n).is("active",D===l(v)[j]),l(n).is("disabled",l(i)[j][D])])},[typeof D=="number"?(O(),_($e,{key:0},[j==="hours"?(O(),_($e,{key:0},[vt(he(("0"+(k.amPmMode?D%12||12:D)).slice(-2))+he(y(D)),1)],64)):(O(),_($e,{key:1},[vt(he(("0"+D).slice(-2)),1)],64))],64)):te("v-if",!0)],2))),128))],2)],42,uo))),128)):te("v-if",!0)],2))}});var fo=Ie(co,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const po=be({__name:"panel-time-pick",props:to,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const a=e,n=ze("EP_PICKER_BASE"),{arrowControl:o,disabledHours:s,disabledMinutes:r,disabledSeconds:u,defaultValue:c}=n.props,{getAvailableHours:p,getAvailableMinutes:C,getAvailableSeconds:b}=ao(s,r,u),f=we("time"),{t:d,lang:v}=Ge(),i=F([0,2]),h=lo(a),P=M(()=>ol(a.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),y=M(()=>a.format.includes("ss")),m=M(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),T=L=>{const k=re(L).locale(v.value),I=se(k);return k.isSame(I)},S=()=>{t("pick",h.value,!1)},Y=(L=!1,k=!1)=>{k||t("pick",a.parsedValue,L)},G=L=>{if(!a.visible)return;const k=se(L).millisecond(0);t("pick",k,!0)},z=(L,k)=>{t("select-range",L,k),i.value=[L,k]},A=L=>{const k=[0,3].concat(y.value?[6]:[]),I=["hours","minutes"].concat(y.value?["seconds"]:[]),D=(k.indexOf(i.value[0])+L+k.length)%k.length;Q.start_emitSelectRange(I[D])},R=L=>{const k=L.code,{left:I,right:j,up:D,down:x}=Oe;if([I,j].includes(k)){A(k===I?-1:1),L.preventDefault();return}if([D,x].includes(k)){const J=k===D?-1:1;Q.start_scrollDown(J),L.preventDefault();return}},{timePickerOptions:Q,onSetOption:ve,getAvailableTime:Z}=no({getAvailableHours:p,getAvailableMinutes:C,getAvailableSeconds:b}),se=L=>Z(L,a.datetimeRole||"",!0),ye=L=>L?re(L,a.format).locale(v.value):null,fe=L=>L?L.format(a.format):null,V=()=>re(c).locale(v.value);return t("set-picker-option",["isValidValue",T]),t("set-picker-option",["formatToString",fe]),t("set-picker-option",["parseUserInput",ye]),t("set-picker-option",["handleKeydownInput",R]),t("set-picker-option",["getRangeAvailableTime",se]),t("set-picker-option",["getDefaultValue",V]),(L,k)=>(O(),ne(In,{name:l(P)},{default:X(()=>[L.actualVisible||L.visible?(O(),_("div",{key:0,class:w(l(f).b("panel"))},[H("div",{class:w([l(f).be("panel","content"),{"has-seconds":l(y)}])},[W(fo,{ref:"spinner",role:L.datetimeRole||"start","arrow-control":l(o),"show-seconds":l(y),"am-pm-mode":l(m),"spinner-date":L.parsedValue,"disabled-hours":l(s),"disabled-minutes":l(r),"disabled-seconds":l(u),onChange:G,onSetOption:l(ve),onSelectRange:z},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),H("div",{class:w(l(f).be("panel","footer"))},[H("button",{type:"button",class:w([l(f).be("panel","btn"),"cancel"]),onClick:S},he(l(d)("el.datepicker.cancel")),3),H("button",{type:"button",class:w([l(f).be("panel","btn"),"confirm"]),onClick:k[0]||(k[0]=I=>Y())},he(l(d)("el.datepicker.confirm")),3)],2)],2)):te("v-if",!0)]),_:1},8,["name"]))}});var Fn=Ie(po,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const ho=_e({color:{type:Ne(Object),required:!0},vertical:{type:Boolean,default:!1}});let En=!1;function qt(e,t){if(!Un)return;const a=function(s){var r;(r=t.drag)==null||r.call(t,s)},n=function(s){var r;document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,En=!1,(r=t.end)==null||r.call(t,s)},o=function(s){var r;En||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),document.addEventListener("touchmove",a),document.addEventListener("touchend",n),En=!0,(r=t.start)==null||r.call(t,s))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const vo=e=>{const t=at(),a=Vt(),n=Vt();function o(r){r.target!==a.value&&s(r)}function s(r){if(!n.value||!a.value)return;const c=t.vnode.el.getBoundingClientRect(),{clientX:p,clientY:C}=Zn(r);if(e.vertical){let b=C-c.top;b=Math.max(a.value.offsetHeight/2,b),b=Math.min(b,c.height-a.value.offsetHeight/2),e.color.set("alpha",Math.round((b-a.value.offsetHeight/2)/(c.height-a.value.offsetHeight)*100))}else{let b=p-c.left;b=Math.max(a.value.offsetWidth/2,b),b=Math.min(b,c.width-a.value.offsetWidth/2),e.color.set("alpha",Math.round((b-a.value.offsetWidth/2)/(c.width-a.value.offsetWidth)*100))}}return{thumb:a,bar:n,handleDrag:s,handleClick:o}},mo=(e,{bar:t,thumb:a,handleDrag:n})=>{const o=at(),s=we("color-alpha-slider"),r=F(0),u=F(0),c=F();function p(){if(!a.value||e.vertical)return 0;const y=o.vnode.el,m=e.color.get("alpha");return y?Math.round(m*(y.offsetWidth-a.value.offsetWidth/2)/100):0}function C(){if(!a.value)return 0;const y=o.vnode.el;if(!e.vertical)return 0;const m=e.color.get("alpha");return y?Math.round(m*(y.offsetHeight-a.value.offsetHeight/2)/100):0}function b(){if(e.color&&e.color.value){const{r:y,g:m,b:T}=e.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${m}, ${T}, 0) 0%, rgba(${y}, ${m}, ${T}, 1) 100%)`}return""}function f(){r.value=p(),u.value=C(),c.value=b()}rt(()=>{if(!t.value||!a.value)return;const y={drag:m=>{n(m)},end:m=>{n(m)}};qt(t.value,y),qt(a.value,y),f()}),ie(()=>e.color.get("alpha"),()=>f()),ie(()=>e.color.value,()=>f());const d=M(()=>[s.b(),s.is("vertical",e.vertical)]),v=M(()=>s.e("bar")),i=M(()=>s.e("thumb")),h=M(()=>({background:c.value})),P=M(()=>({left:An(r.value),top:An(u.value)}));return{rootKls:d,barKls:v,barStyle:h,thumbKls:i,thumbStyle:P,update:f}},go="ElColorAlphaSlider",bo=be({name:go}),yo=be({...bo,props:ho,setup(e,{expose:t}){const a=e,{bar:n,thumb:o,handleDrag:s,handleClick:r}=vo(a),{rootKls:u,barKls:c,barStyle:p,thumbKls:C,thumbStyle:b,update:f}=mo(a,{bar:n,thumb:o,handleDrag:s});return t({update:f,bar:n,thumb:o}),(d,v)=>(O(),_("div",{class:w(l(u))},[H("div",{ref_key:"bar",ref:n,class:w(l(c)),style:He(l(p)),onClick:v[0]||(v[0]=(...i)=>l(r)&&l(r)(...i))},null,6),H("div",{ref_key:"thumb",ref:o,class:w(l(C)),style:He(l(b))},null,6)],2))}});var ko=Ie(yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Co=be({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=we("color-hue-slider"),a=at(),n=F(),o=F(),s=F(0),r=F(0),u=M(()=>e.color.get("hue"));ie(()=>u.value,()=>{f()});function c(d){d.target!==n.value&&p(d)}function p(d){if(!o.value||!n.value)return;const i=a.vnode.el.getBoundingClientRect(),{clientX:h,clientY:P}=Zn(d);let y;if(e.vertical){let m=P-i.top;m=Math.min(m,i.height-n.value.offsetHeight/2),m=Math.max(n.value.offsetHeight/2,m),y=Math.round((m-n.value.offsetHeight/2)/(i.height-n.value.offsetHeight)*360)}else{let m=h-i.left;m=Math.min(m,i.width-n.value.offsetWidth/2),m=Math.max(n.value.offsetWidth/2,m),y=Math.round((m-n.value.offsetWidth/2)/(i.width-n.value.offsetWidth)*360)}e.color.set("hue",y)}function C(){if(!n.value)return 0;const d=a.vnode.el;if(e.vertical)return 0;const v=e.color.get("hue");return d?Math.round(v*(d.offsetWidth-n.value.offsetWidth/2)/360):0}function b(){if(!n.value)return 0;const d=a.vnode.el;if(!e.vertical)return 0;const v=e.color.get("hue");return d?Math.round(v*(d.offsetHeight-n.value.offsetHeight/2)/360):0}function f(){s.value=C(),r.value=b()}return rt(()=>{if(!o.value||!n.value)return;const d={drag:v=>{p(v)},end:v=>{p(v)}};qt(o.value,d),qt(n.value,d),f()}),{bar:o,thumb:n,thumbLeft:s,thumbTop:r,hueValue:u,handleClick:c,update:f,ns:t}}});function wo(e,t,a,n,o,s){return O(),_("div",{class:w([e.ns.b(),e.ns.is("vertical",e.vertical)])},[H("div",{ref:"bar",class:w(e.ns.e("bar")),onClick:t[0]||(t[0]=(...r)=>e.handleClick&&e.handleClick(...r))},null,2),H("div",{ref:"thumb",class:w(e.ns.e("thumb")),style:He({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var So=Ie(Co,[["render",wo],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const No=_e({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ca,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:Ne(Array)},validateEvent:{type:Boolean,default:!0}}),Do={[xe]:e=>yt(e)||Nn(e),[It]:e=>yt(e)||Nn(e),activeChange:e=>yt(e)||Nn(e)},Ya=Symbol("colorPickerContextKey"),ha=function(e,t,a){return[e,t*a/((e=(2-t)*a)<1?e:2-e)||0,e/2]},Oo=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},$o=function(e){return typeof e=="string"&&e.includes("%")},Pt=function(e,t){Oo(e)&&(e="100%");const a=$o(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),a&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},va={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},tn=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),a=e%16;return`${va[t]||t}${va[a]||a}`},ma=function({r:e,g:t,b:a}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+a)?"":`#${tn(e)}${tn(t)}${tn(a)}`},Tn={A:10,B:11,C:12,D:13,E:14,F:15},St=function(e){return e.length===2?(Tn[e[0].toUpperCase()]||+e[0])*16+(Tn[e[1].toUpperCase()]||+e[1]):Tn[e[1].toUpperCase()]||+e[1]},Mo=function(e,t,a){t=t/100,a=a/100;let n=t;const o=Math.max(a,.01);a*=2,t*=a<=1?a:2-a,n*=o<=1?o:2-o;const s=(a+t)/2,r=a===0?2*n/(o+n):2*t/(a+t);return{h:e,s:r*100,v:s*100}},ga=(e,t,a)=>{e=Pt(e,255),t=Pt(t,255),a=Pt(a,255);const n=Math.max(e,t,a),o=Math.min(e,t,a);let s;const r=n,u=n-o,c=n===0?0:u/n;if(n===o)s=0;else{switch(n){case e:{s=(t-a)/u+(t<a?6:0);break}case t:{s=(a-e)/u+2;break}case a:{s=(e-t)/u+4;break}}s/=6}return{h:s*360,s:c*100,v:r*100}},Bt=function(e,t,a){e=Pt(e,360)*6,t=Pt(t,100),a=Pt(a,100);const n=Math.floor(e),o=e-n,s=a*(1-t),r=a*(1-o*t),u=a*(1-(1-o)*t),c=n%6,p=[a,r,s,s,u,a][c],C=[u,a,a,r,s,s][c],b=[s,s,u,a,a,r][c];return{r:Math.round(p*255),g:Math.round(C*255),b:Math.round(b*255)}};class Yt{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const a in t)zt(t,a)&&(this[a]=t[a]);t.value?this.fromString(t.value):this.doOnChange()}set(t,a){if(arguments.length===1&&typeof t=="object"){for(const n in t)zt(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=a,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return Bt(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const a=(n,o,s)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,o)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s,v:r}=Mo(n[0],n[1],n[2]);a(o,s,r)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&a(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s,v:r}=ga(n[0],n[1],n[2]);a(o,s,r)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let o,s,r;n.length===3?(o=St(n[0]+n[0]),s=St(n[1]+n[1]),r=St(n[2]+n[2])):(n.length===6||n.length===8)&&(o=St(n.slice(0,2)),s=St(n.slice(2,4)),r=St(n.slice(4,6))),n.length===8?this._alpha=St(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:u,s:c,v:p}=ga(o,s,r);a(u,c,p)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:a,_value:n,_alpha:o,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const r=ha(t,a/100,n/100);this.value=`hsla(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(a)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${ma(Bt(t,a,n))}${tn(o*255/100)}`;break}default:{const{r,g:u,b:c}=Bt(t,a,n);this.value=`rgba(${r}, ${u}, ${c}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const r=ha(t,a/100,n/100);this.value=`hsl(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(a)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r,g:u,b:c}=Bt(t,a,n);this.value=`rgb(${r}, ${u}, ${c})`;break}default:this.value=ma(Bt(t,a,n))}}}const Po=be({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=we("color-predefine"),{currentColor:a}=ze(Ya),n=F(s(e.colors,e.color));ie(()=>a.value,r=>{const u=new Yt;u.fromString(r),n.value.forEach(c=>{c.selected=u.compare(c)})}),sl(()=>{n.value=s(e.colors,e.color)});function o(r){e.color.fromString(e.colors[r])}function s(r,u){return r.map(c=>{const p=new Yt;return p.enableAlpha=!0,p.format="rgba",p.fromString(c),p.selected=p.value===u.value,p})}return{rgbaColors:n,handleSelect:o,ns:t}}}),Eo=["onClick"];function To(e,t,a,n,o,s){return O(),_("div",{class:w(e.ns.b())},[H("div",{class:w(e.ns.e("colors"))},[(O(!0),_($e,null,Le(e.rgbaColors,(r,u)=>(O(),_("div",{key:e.colors[u],class:w([e.ns.e("color-selector"),e.ns.is("alpha",r._alpha<100),{selected:r.selected}]),onClick:c=>e.handleSelect(u)},[H("div",{style:He({backgroundColor:r.value})},null,4)],10,Eo))),128))],2)],2)}var Vo=Ie(Po,[["render",To],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const Io=be({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=we("color-svpanel"),a=at(),n=F(0),o=F(0),s=F("hsl(0, 100%, 50%)"),r=M(()=>{const p=e.color.get("hue"),C=e.color.get("value");return{hue:p,value:C}});function u(){const p=e.color.get("saturation"),C=e.color.get("value"),b=a.vnode.el,{clientWidth:f,clientHeight:d}=b;o.value=p*f/100,n.value=(100-C)*d/100,s.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function c(p){const b=a.vnode.el.getBoundingClientRect(),{clientX:f,clientY:d}=Zn(p);let v=f-b.left,i=d-b.top;v=Math.max(0,v),v=Math.min(v,b.width),i=Math.max(0,i),i=Math.min(i,b.height),o.value=v,n.value=i,e.color.set({saturation:v/b.width*100,value:100-i/b.height*100})}return ie(()=>r.value,()=>{u()}),rt(()=>{qt(a.vnode.el,{drag:p=>{c(p)},end:p=>{c(p)}}),u()}),{cursorTop:n,cursorLeft:o,background:s,colorValue:r,handleDrag:c,update:u,ns:t}}}),Ao=H("div",null,null,-1),Ko=[Ao];function Lo(e,t,a,n,o,s){return O(),_("div",{class:w(e.ns.b()),style:He({backgroundColor:e.background})},[H("div",{class:w(e.ns.e("white"))},null,2),H("div",{class:w(e.ns.e("black"))},null,2),H("div",{class:w(e.ns.e("cursor")),style:He({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},Ko,6)],6)}var Bo=Ie(Io,[["render",Lo],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const Ro=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],Fo=be({name:"ElColorPicker"}),Yo=be({...Fo,props:No,emits:Do,setup(e,{expose:t,emit:a}){const n=e,{t:o}=Ge(),s=we("color"),{formItem:r}=Cn(),u=wn(),c=wa(),{inputId:p,isLabeledByFormItem:C}=Sa(n,{formItemContext:r}),b=F(),f=F(),d=F(),v=F();let i=!0;const h=mt(new Yt({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),P=F(!1),y=F(!1),m=F(""),T=M(()=>!n.modelValue&&!y.value?"transparent":A(h,n.showAlpha)),S=M(()=>!n.modelValue&&!y.value?"":h.value),Y=M(()=>C.value?void 0:n.label||o("el.colorpicker.defaultLabel")),G=M(()=>C.value?r==null?void 0:r.labelId:void 0),z=M(()=>[s.b("picker"),s.is("disabled",c.value),s.bm("picker",u.value)]);function A(k,I){if(!(k instanceof Yt))throw new TypeError("color should be instance of _color Class");const{r:j,g:D,b:x}=k.toRgb();return I?`rgba(${j}, ${D}, ${x}, ${k.get("alpha")/100})`:`rgb(${j}, ${D}, ${x})`}function R(k){P.value=k}const Q=cn(R,100);function ve(){c.value||R(!0)}function Z(){Q(!1),se()}function se(){ge(()=>{n.modelValue?h.fromString(n.modelValue):(h.value="",ge(()=>{y.value=!1}))})}function ye(){c.value||Q(!P.value)}function fe(){h.fromString(m.value)}function V(){const k=h.value;a(xe,k),a("change",k),n.validateEvent&&(r==null||r.validate("change").catch(I=>Tt())),Q(!1),ge(()=>{const I=new Yt({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});h.compare(I)||se()})}function L(){Q(!1),a(xe,null),a("change",null),n.modelValue!==null&&n.validateEvent&&(r==null||r.validate("change").catch(k=>Tt())),se()}return rt(()=>{n.modelValue&&(m.value=S.value)}),ie(()=>n.modelValue,k=>{k?k&&k!==h.value&&(i=!1,h.fromString(k)):y.value=!1}),ie(()=>S.value,k=>{m.value=k,i&&a("activeChange",k),i=!0}),ie(()=>h.value,()=>{!n.modelValue&&!y.value&&(y.value=!0)}),ie(()=>P.value,()=>{ge(()=>{var k,I,j;(k=b.value)==null||k.update(),(I=f.value)==null||I.update(),(j=d.value)==null||j.update()})}),dt(Ya,{currentColor:S}),t({color:h,show:ve,hide:Z}),(k,I)=>(O(),ne(l(Xn),{ref_key:"popper",ref:v,visible:P.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[l(s).be("picker","panel"),l(s).b("dropdown"),k.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${l(s).namespace.value}-zoom-in-top`,persistent:""},{content:X(()=>[Ke((O(),_("div",null,[H("div",{class:w(l(s).be("dropdown","main-wrapper"))},[W(So,{ref_key:"hue",ref:b,class:"hue-slider",color:l(h),vertical:""},null,8,["color"]),W(Bo,{ref:"svPanel",color:l(h)},null,8,["color"])],2),k.showAlpha?(O(),ne(ko,{key:0,ref_key:"alpha",ref:d,color:l(h)},null,8,["color"])):te("v-if",!0),k.predefine?(O(),ne(Vo,{key:1,ref:"predefine",color:l(h),colors:k.predefine},null,8,["color","colors"])):te("v-if",!0),H("div",{class:w(l(s).be("dropdown","btns"))},[H("span",{class:w(l(s).be("dropdown","value"))},[W(l(bt),{modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=j=>m.value=j),"validate-event":!1,size:"small",onKeyup:Re(fe,["enter"]),onBlur:fe},null,8,["modelValue","onKeyup"])],2),W(l(At),{class:w(l(s).be("dropdown","link-btn")),text:"",size:"small",onClick:L},{default:X(()=>[vt(he(l(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),W(l(At),{plain:"",size:"small",class:w(l(s).be("dropdown","btn")),onClick:V},{default:X(()=>[vt(he(l(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[l(Wt),Z]])]),default:X(()=>[H("div",{id:l(p),class:w(l(z)),role:"button","aria-label":l(Y),"aria-labelledby":l(G),"aria-description":l(o)("el.colorpicker.description",{color:k.modelValue||""}),tabindex:k.tabindex,onKeydown:Re(ye,["enter"])},[l(c)?(O(),_("div",{key:0,class:w(l(s).be("picker","mask"))},null,2)):te("v-if",!0),H("div",{class:w(l(s).be("picker","trigger")),onClick:ye},[H("span",{class:w([l(s).be("picker","color"),l(s).is("alpha",k.showAlpha)])},[H("span",{class:w(l(s).be("picker","color-inner")),style:He({backgroundColor:l(T)})},[Ke(W(l(Ce),{class:w([l(s).be("picker","icon"),l(s).is("icon-arrow-down")])},{default:X(()=>[W(l(Gn))]),_:1},8,["class"]),[[nt,k.modelValue||y.value]]),!k.modelValue&&!y.value?(O(),ne(l(Ce),{key:0,class:w([l(s).be("picker","empty"),l(s).is("icon-close")])},{default:X(()=>[W(l(rl))]),_:1},8,["class"])):te("v-if",!0)],6)],2)],2)],42,Ro)]),_:1},8,["visible","popper-class","transition"]))}});var zo=Ie(Yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const _o=Qn(zo);var pn={exports:{}};pn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){return function(a,n){var o=n.prototype,s=o.format;o.format=function(r){var u=this,c=this.$locale();if(!this.isValid())return s.bind(this)(r);var p=this.$utils(),C=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return c.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return c.ordinal(u.week(),"W");case"w":case"ww":return p.s(u.week(),b==="w"?1:2,"0");case"W":case"WW":return p.s(u.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return p.s(String(u.$H===0?24:u.$H),b==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return b}});return s.bind(this)(C)}}})})(pn,pn.exports);var Ho=pn.exports;const xo=$t(Ho);var hn={exports:{}};hn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){var a="week",n="year";return function(o,s,r){var u=s.prototype;u.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var p=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=r(this).startOf(n).add(1,n).date(p),b=r(this).endOf(a);if(C.isBefore(b))return 1}var f=r(this).startOf(n).date(p).startOf(a).subtract(1,"millisecond"),d=this.diff(f,a,!0);return d<0?r(this).startOf("week").week():Math.ceil(d)},u.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(hn,hn.exports);var Wo=hn.exports;const qo=$t(Wo);var vn={exports:{}};vn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){return function(a,n){n.prototype.weekYear=function(){var o=this.month(),s=this.week(),r=this.year();return s===1&&o===11?r+1:o===0&&s>=52?r-1:r}}})})(vn,vn.exports);var jo=vn.exports;const Uo=$t(jo);var mn={exports:{}};mn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){return function(a,n,o){n.prototype.dayOfYear=function(s){var r=Math.round((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return s==null?r:this.add(s-r,"day")}}})})(mn,mn.exports);var Go=mn.exports;const Qo=$t(Go);var gn={exports:{}};gn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){return function(a,n){n.prototype.isSameOrAfter=function(o,s){return this.isSame(o,s)||this.isAfter(o,s)}}})})(gn,gn.exports);var Xo=gn.exports;const Zo=$t(Xo);var bn={exports:{}};bn.exports;(function(e,t){(function(a,n){e.exports=n()})(Ot,function(){return function(a,n){n.prototype.isSameOrBefore=function(o,s){return this.isSame(o,s)||this.isBefore(o,s)}}})})(bn,bn.exports);var Jo=bn.exports;const es=$t(Jo),Jn=Symbol(),ts=_e({...Ra,type:{type:Ne(String),default:"date"}}),ns=["date","dates","year","month","week","range"],ea=_e({disabledDate:{type:Ne(Function)},date:{type:Ne(Object),required:!0},minDate:{type:Ne(Object)},maxDate:{type:Ne(Object)},parsedValue:{type:Ne([Object,Array])},rangeState:{type:Ne(Object),default:()=>({endDate:null,selecting:!1})}}),za=_e({type:{type:Ne(String),required:!0,values:Rl}}),_a=_e({unlinkPanels:Boolean,parsedValue:{type:Ne(Array)}}),Ha=e=>({type:String,values:ns,default:e}),as=_e({...za,parsedValue:{type:Ne([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),ls=_e({...ea,cellClassName:{type:Ne(Function)},showWeekNumber:Boolean,selectionMode:Ha("date")}),Yn=e=>{if(!Xe(e))return!1;const[t,a]=e;return re.isDayjs(t)&&re.isDayjs(a)&&t.isSameOrBefore(a)},xa=(e,{lang:t,unit:a,unlinkPanels:n})=>{let o;if(Xe(e)){let[s,r]=e.map(u=>re(u).locale(t));return n||(r=s.add(1,a)),[s,r]}else e?o=re(e):o=re();return o=o.locale(t),[o,o.add(1,a)]},os=(e,t,{columnIndexOffset:a,startDate:n,nextEndDate:o,now:s,unit:r,relativeDateGetter:u,setCellMetadata:c,setRowMetadata:p})=>{for(let C=0;C<e.row;C++){const b=t[C];for(let f=0;f<e.column;f++){let d=b[f+a];d||(d={row:C,column:f,type:"normal",inRange:!1,start:!1,end:!1});const v=C*e.column+f,i=u(v);d.dayjs=i,d.date=i.toDate(),d.timestamp=i.valueOf(),d.type="normal",d.inRange=!!(n&&i.isSameOrAfter(n,r)&&o&&i.isSameOrBefore(o,r))||!!(n&&i.isSameOrBefore(n,r)&&o&&i.isSameOrAfter(o,r)),n!=null&&n.isSameOrAfter(o)?(d.start=!!o&&i.isSame(o,r),d.end=n&&i.isSame(n,r)):(d.start=!!n&&i.isSame(n,r),d.end=!!o&&i.isSame(o,r)),i.isSame(s,r)&&(d.type="today"),c==null||c(d,{rowIndex:C,columnIndex:f}),b[f+a]=d}p==null||p(b)}},ss=_e({cell:{type:Ne(Object)}});var rs=be({name:"ElDatePickerCell",props:ss,setup(e){const t=we("date-table-cell"),{slots:a}=ze(Jn);return()=>{const{cell:n}=e;if(a.default){const o=a.default(n).filter(s=>s.patchFlag!==-2&&s.type.toString()!=="Symbol(Comment)");if(o.length)return o}return W("div",{class:t.b()},[W("span",{class:t.e("text")},[n==null?void 0:n.text])])}}});const is=["aria-label","onMousedown"],us={key:0,scope:"col"},ds=["aria-label"],cs=["aria-current","aria-selected","tabindex"],fs=be({__name:"basic-date-table",props:ls,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=we("date-table"),{t:s,lang:r}=Ge(),u=F(),c=F(),p=F(),C=F(),b=F([[],[],[],[],[],[]]);let f=!1;const d=n.date.$locale().weekStart||7,v=n.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),i=M(()=>d>3?7-d:-d),h=M(()=>{const D=n.date.startOf("month");return D.subtract(D.day()||7,"day")}),P=M(()=>v.concat(v).slice(d,d+7)),y=M(()=>Ol(z.value).some(D=>D.isCurrent)),m=M(()=>{const D=n.date.startOf("month"),x=D.day()||7,J=D.daysInMonth(),ae=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:x,dateCountOfMonth:J,dateCountOfLastMonth:ae}}),T=M(()=>n.selectionMode==="dates"?Nt(n.parsedValue):[]),S=(D,{count:x,rowIndex:J,columnIndex:ae})=>{const{startOfMonthDay:le,dateCountOfMonth:Se,dateCountOfLastMonth:de}=l(m),ke=l(i);if(J>=0&&J<=1){const me=le+ke<0?7+le+ke:le+ke;if(ae+J*7>=me)return D.text=x,!0;D.text=de-(me-ae%7)+1+J*7,D.type="prev-month"}else return x<=Se?D.text=x:(D.text=x-Se,D.type="next-month"),!0;return!1},Y=(D,{columnIndex:x,rowIndex:J},ae)=>{const{disabledDate:le,cellClassName:Se}=n,de=l(T),ke=S(D,{count:ae,rowIndex:J,columnIndex:x}),me=D.dayjs.toDate();return D.selected=de.find(Fe=>Fe.valueOf()===D.dayjs.valueOf()),D.isSelected=!!D.selected,D.isCurrent=Q(D),D.disabled=le==null?void 0:le(me),D.customClass=Se==null?void 0:Se(me),ke},G=D=>{if(n.selectionMode==="week"){const[x,J]=n.showWeekNumber?[1,7]:[0,6],ae=j(D[x+1]);D[x].inRange=ae,D[x].start=ae,D[J].inRange=ae,D[J].end=ae}},z=M(()=>{const{minDate:D,maxDate:x,rangeState:J,showWeekNumber:ae}=n,le=i.value,Se=b.value,de="day";let ke=1;if(ae)for(let me=0;me<6;me++)Se[me][0]||(Se[me][0]={type:"week",text:h.value.add(me*7+1,de).week()});return os({row:6,column:7},Se,{startDate:D,columnIndexOffset:ae?1:0,nextEndDate:J.endDate||x||J.selecting&&D||null,now:re().locale(l(r)).startOf(de),unit:de,relativeDateGetter:me=>h.value.add(me-le,de),setCellMetadata:(...me)=>{Y(...me,ke)&&(ke+=1)},setRowMetadata:G}),Se});ie(()=>n.date,async()=>{var D,x;(D=u.value)!=null&&D.contains(document.activeElement)&&(await ge(),(x=c.value)==null||x.focus())});const A=async()=>{var D;(D=c.value)==null||D.focus()},R=(D="")=>["normal","today"].includes(D),Q=D=>n.selectionMode==="date"&&R(D.type)&&ve(D,n.parsedValue),ve=(D,x)=>x?re(x).locale(r.value).isSame(n.date.date(Number(D.text)),"day"):!1,Z=D=>{const x=[];return R(D.type)&&!D.disabled?(x.push("available"),D.type==="today"&&x.push("today")):x.push(D.type),Q(D)&&x.push("current"),D.inRange&&(R(D.type)||n.selectionMode==="week")&&(x.push("in-range"),D.start&&x.push("start-date"),D.end&&x.push("end-date")),D.disabled&&x.push("disabled"),D.selected&&x.push("selected"),D.customClass&&x.push(D.customClass),x.join(" ")},se=(D,x)=>{const J=D*7+(x-(n.showWeekNumber?1:0))-i.value;return h.value.add(J,"day")},ye=D=>{var x;if(!n.rangeState.selecting)return;let J=D.target;if(J.tagName==="SPAN"&&(J=(x=J.parentNode)==null?void 0:x.parentNode),J.tagName==="DIV"&&(J=J.parentNode),J.tagName!=="TD")return;const ae=J.parentNode.rowIndex-1,le=J.cellIndex;z.value[ae][le].disabled||(ae!==p.value||le!==C.value)&&(p.value=ae,C.value=le,a("changerange",{selecting:!0,endDate:se(ae,le)}))},fe=D=>!y.value&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,V=D=>{f||y.value||n.selectionMode!=="date"||I(D,!0)},L=D=>{D.target.closest("td")&&(f=!0)},k=D=>{D.target.closest("td")&&(f=!1)},I=(D,x=!1)=>{const J=D.target.closest("td");if(!J)return;const ae=J.parentNode.rowIndex-1,le=J.cellIndex,Se=z.value[ae][le];if(Se.disabled||Se.type==="week")return;const de=se(ae,le);if(n.selectionMode==="range")!n.rangeState.selecting||!n.minDate?(a("pick",{minDate:de,maxDate:null}),a("select",!0)):(de>=n.minDate?a("pick",{minDate:n.minDate,maxDate:de}):a("pick",{minDate:de,maxDate:n.minDate}),a("select",!1));else if(n.selectionMode==="date")a("pick",de,x);else if(n.selectionMode==="week"){const ke=de.week(),me=`${de.year()}w${ke}`;a("pick",{year:de.year(),week:ke,value:me,date:de.startOf("week")})}else if(n.selectionMode==="dates"){const ke=Se.selected?Nt(n.parsedValue).filter(me=>(me==null?void 0:me.valueOf())!==de.valueOf()):Nt(n.parsedValue).concat([de]);a("pick",ke)}},j=D=>{if(n.selectionMode!=="week")return!1;let x=n.date.startOf("day");if(D.type==="prev-month"&&(x=x.subtract(1,"month")),D.type==="next-month"&&(x=x.add(1,"month")),x=x.date(Number.parseInt(D.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const J=(n.parsedValue.day()-d+7)%7-1;return n.parsedValue.subtract(J,"day").isSame(x,"day")}return!1};return t({focus:A}),(D,x)=>(O(),_("table",{role:"grid","aria-label":l(s)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:w([l(o).b(),{"is-week-mode":D.selectionMode==="week"}]),onClick:I,onMousemove:ye,onMousedown:Pe(L,["prevent"]),onMouseup:k},[H("tbody",{ref_key:"tbodyRef",ref:u},[H("tr",null,[D.showWeekNumber?(O(),_("th",us,he(l(s)("el.datepicker.week")),1)):te("v-if",!0),(O(!0),_($e,null,Le(l(P),(J,ae)=>(O(),_("th",{key:ae,scope:"col","aria-label":l(s)("el.datepicker.weeksFull."+J)},he(l(s)("el.datepicker.weeks."+J)),9,ds))),128))]),(O(!0),_($e,null,Le(l(z),(J,ae)=>(O(),_("tr",{key:ae,class:w([l(o).e("row"),{current:j(J[1])}])},[(O(!0),_($e,null,Le(J,(le,Se)=>(O(),_("td",{key:`${ae}.${Se}`,ref_for:!0,ref:de=>fe(le)&&(c.value=de),class:w(Z(le)),"aria-current":le.isCurrent?"date":void 0,"aria-selected":le.isCurrent,tabindex:fe(le)?0:-1,onFocus:V},[W(l(rs),{cell:le},null,8,["cell"])],42,cs))),128))],2))),128))],512)],42,is))}});var zn=Ie(fs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const ps=_e({...ea,selectionMode:Ha("month")}),hs=["aria-label"],vs=["aria-selected","aria-label","tabindex","onKeydown"],ms={class:"cell"},gs=be({__name:"basic-month-table",props:ps,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=(T,S,Y)=>{const G=re().locale(Y).startOf("month").month(S).year(T),z=G.daysInMonth();return Aa(z).map(A=>G.add(A,"day").toDate())},s=we("month-table"),{t:r,lang:u}=Ge(),c=F(),p=F(),C=F(n.date.locale("en").localeData().monthsShort().map(T=>T.toLowerCase())),b=F([[],[],[]]),f=F(),d=F(),v=M(()=>{var T,S;const Y=b.value,G=re().locale(u.value).startOf("month");for(let z=0;z<3;z++){const A=Y[z];for(let R=0;R<4;R++){const Q=A[R]||(A[R]={row:z,column:R,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Q.type="normal";const ve=z*4+R,Z=n.date.startOf("year").month(ve),se=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;Q.inRange=!!(n.minDate&&Z.isSameOrAfter(n.minDate,"month")&&se&&Z.isSameOrBefore(se,"month"))||!!(n.minDate&&Z.isSameOrBefore(n.minDate,"month")&&se&&Z.isSameOrAfter(se,"month")),(T=n.minDate)!=null&&T.isSameOrAfter(se)?(Q.start=!!(se&&Z.isSame(se,"month")),Q.end=n.minDate&&Z.isSame(n.minDate,"month")):(Q.start=!!(n.minDate&&Z.isSame(n.minDate,"month")),Q.end=!!(se&&Z.isSame(se,"month"))),G.isSame(Z)&&(Q.type="today"),Q.text=ve,Q.disabled=((S=n.disabledDate)==null?void 0:S.call(n,Z.toDate()))||!1}}return Y}),i=()=>{var T;(T=p.value)==null||T.focus()},h=T=>{const S={},Y=n.date.year(),G=new Date,z=T.text;return S.disabled=n.disabledDate?o(Y,z,u.value).every(n.disabledDate):!1,S.current=Nt(n.parsedValue).findIndex(A=>re.isDayjs(A)&&A.year()===Y&&A.month()===z)>=0,S.today=G.getFullYear()===Y&&G.getMonth()===z,T.inRange&&(S["in-range"]=!0,T.start&&(S["start-date"]=!0),T.end&&(S["end-date"]=!0)),S},P=T=>{const S=n.date.year(),Y=T.text;return Nt(n.date).findIndex(G=>G.year()===S&&G.month()===Y)>=0},y=T=>{var S;if(!n.rangeState.selecting)return;let Y=T.target;if(Y.tagName==="A"&&(Y=(S=Y.parentNode)==null?void 0:S.parentNode),Y.tagName==="DIV"&&(Y=Y.parentNode),Y.tagName!=="TD")return;const G=Y.parentNode.rowIndex,z=Y.cellIndex;v.value[G][z].disabled||(G!==f.value||z!==d.value)&&(f.value=G,d.value=z,a("changerange",{selecting:!0,endDate:n.date.startOf("year").month(G*4+z)}))},m=T=>{var S;const Y=(S=T.target)==null?void 0:S.closest("td");if((Y==null?void 0:Y.tagName)!=="TD"||Na(Y,"disabled"))return;const G=Y.cellIndex,A=Y.parentNode.rowIndex*4+G,R=n.date.startOf("year").month(A);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&R>=n.minDate?a("pick",{minDate:n.minDate,maxDate:R}):a("pick",{minDate:R,maxDate:n.minDate}),a("select",!1)):(a("pick",{minDate:R,maxDate:null}),a("select",!0)):a("pick",A)};return ie(()=>n.date,async()=>{var T,S;(T=c.value)!=null&&T.contains(document.activeElement)&&(await ge(),(S=p.value)==null||S.focus())}),t({focus:i}),(T,S)=>(O(),_("table",{role:"grid","aria-label":l(r)("el.datepicker.monthTablePrompt"),class:w(l(s).b()),onClick:m,onMousemove:y},[H("tbody",{ref_key:"tbodyRef",ref:c},[(O(!0),_($e,null,Le(l(v),(Y,G)=>(O(),_("tr",{key:G},[(O(!0),_($e,null,Le(Y,(z,A)=>(O(),_("td",{key:A,ref_for:!0,ref:R=>P(z)&&(p.value=R),class:w(h(z)),"aria-selected":`${P(z)}`,"aria-label":l(r)(`el.datepicker.month${+z.text+1}`),tabindex:P(z)?0:-1,onKeydown:[Re(Pe(m,["prevent","stop"]),["space"]),Re(Pe(m,["prevent","stop"]),["enter"])]},[H("div",null,[H("span",ms,he(l(r)("el.datepicker.months."+C.value[z.text])),1)])],42,vs))),128))]))),128))],512)],42,hs))}});var _n=Ie(gs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:bs,disabledDate:ys,parsedValue:ks}=ea,Cs=_e({date:bs,disabledDate:ys,parsedValue:ks}),ws=["aria-label"],Ss=["aria-selected","tabindex","onKeydown"],Ns={class:"cell"},Ds={key:1},Os=be({__name:"basic-year-table",props:Cs,emits:["pick"],setup(e,{expose:t,emit:a}){const n=e,o=(i,h)=>{const P=re(String(i)).locale(h).startOf("year"),m=P.endOf("year").dayOfYear();return Aa(m).map(T=>P.add(T,"day").toDate())},s=we("year-table"),{t:r,lang:u}=Ge(),c=F(),p=F(),C=M(()=>Math.floor(n.date.year()/10)*10),b=()=>{var i;(i=p.value)==null||i.focus()},f=i=>{const h={},P=re().locale(u.value);return h.disabled=n.disabledDate?o(i,u.value).every(n.disabledDate):!1,h.current=Nt(n.parsedValue).findIndex(y=>y.year()===i)>=0,h.today=P.year()===i,h},d=i=>i===C.value&&n.date.year()<C.value&&n.date.year()>C.value+9||Nt(n.date).findIndex(h=>h.year()===i)>=0,v=i=>{const P=i.target.closest("td");if(P&&P.textContent){if(Na(P,"disabled"))return;const y=P.textContent||P.innerText;a("pick",Number(y))}};return ie(()=>n.date,async()=>{var i,h;(i=c.value)!=null&&i.contains(document.activeElement)&&(await ge(),(h=p.value)==null||h.focus())}),t({focus:b}),(i,h)=>(O(),_("table",{role:"grid","aria-label":l(r)("el.datepicker.yearTablePrompt"),class:w(l(s).b()),onClick:v},[H("tbody",{ref_key:"tbodyRef",ref:c},[(O(),_($e,null,Le(3,(P,y)=>H("tr",{key:y},[(O(),_($e,null,Le(4,(m,T)=>(O(),_($e,{key:y+"_"+T},[y*4+T<10?(O(),_("td",{key:0,ref_for:!0,ref:S=>d(l(C)+y*4+T)&&(p.value=S),class:w(["available",f(l(C)+y*4+T)]),"aria-selected":`${d(l(C)+y*4+T)}`,tabindex:d(l(C)+y*4+T)?0:-1,onKeydown:[Re(Pe(v,["prevent","stop"]),["space"]),Re(Pe(v,["prevent","stop"]),["enter"])]},[H("span",Ns,he(l(C)+y*4+T),1)],42,Ss)):(O(),_("td",Ds))],64))),64))])),64))],512)],10,ws))}});var $s=Ie(Os,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ms=["onClick"],Ps=["aria-label"],Es=["aria-label"],Ts=["aria-label"],Vs=["aria-label"],Is=be({__name:"panel-date-pick",props:as,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const a=e,n=(E,U,oe)=>!0,o=we("picker-panel"),s=we("date-picker"),r=Sn(),u=Da(),{t:c,lang:p}=Ge(),C=ze("EP_PICKER_BASE"),b=ze(Kl),{shortcuts:f,disabledDate:d,cellClassName:v,defaultTime:i,arrowControl:h}=C.props,P=Kt(C.props,"defaultValue"),y=F(),m=F(re().locale(p.value)),T=F(!1),S=M(()=>re(i).locale(p.value)),Y=M(()=>m.value.month()),G=M(()=>m.value.year()),z=F([]),A=F(null),R=F(null),Q=E=>z.value.length>0?n(E,z.value,a.format||"HH:mm:ss"):!0,ve=E=>i&&!Ee.value&&!T.value?S.value.year(E.year()).month(E.month()).date(E.date()):le.value?E.millisecond(0):E.startOf("day"),Z=(E,...U)=>{if(!E)t("pick",E,...U);else if(Xe(E)){const oe=E.map(ve);t("pick",oe,...U)}else t("pick",ve(E),...U);A.value=null,R.value=null,T.value=!1},se=(E,U)=>{if(I.value==="date"){E=E;let oe=a.parsedValue?a.parsedValue.year(E.year()).month(E.month()).date(E.date()):E;Q(oe)||(oe=z.value[0][0].year(E.year()).month(E.month()).date(E.date())),m.value=oe,Z(oe,le.value||U)}else I.value==="week"?Z(E.date):I.value==="dates"&&Z(E,!0)},ye=E=>{const U=E?"add":"subtract";m.value=m.value[U](1,"month"),De("month")},fe=E=>{const U=m.value,oe=E?"add":"subtract";m.value=V.value==="year"?U[oe](10,"year"):U[oe](1,"year"),De("year")},V=F("date"),L=M(()=>{const E=c("el.datepicker.year");if(V.value==="year"){const U=Math.floor(G.value/10)*10;return E?`${U} ${E} - ${U+9} ${E}`:`${U} - ${U+9}`}return`${G.value} ${E}`}),k=E=>{const U=Ze(E.value)?E.value():E.value;if(U){Z(re(U).locale(p.value));return}E.onClick&&E.onClick({attrs:r,slots:u,emit:t})},I=M(()=>{const{type:E}=a;return["week","month","year","dates"].includes(E)?E:"date"}),j=M(()=>I.value==="date"?V.value:I.value),D=M(()=>!!f.length),x=async E=>{m.value=m.value.startOf("month").month(E),I.value==="month"?Z(m.value,!1):(V.value="date",["month","year","date","week"].includes(I.value)&&(Z(m.value,!0),await ge(),tt())),De("month")},J=async E=>{I.value==="year"?(m.value=m.value.startOf("year").year(E),Z(m.value,!1)):(m.value=m.value.year(E),V.value="month",["month","year","date","week"].includes(I.value)&&(Z(m.value,!0),await ge(),tt())),De("year")},ae=async E=>{V.value=E,await ge(),tt()},le=M(()=>a.type==="datetime"||a.type==="datetimerange"),Se=M(()=>le.value||I.value==="dates"),de=()=>{if(I.value==="dates")Z(a.parsedValue);else{let E=a.parsedValue;if(!E){const U=re(i).locale(p.value),oe=et();E=U.year(oe.year()).month(oe.month()).date(oe.date())}m.value=E,Z(E)}},ke=()=>{const U=re().locale(p.value).toDate();T.value=!0,(!d||!d(U))&&Q(U)&&(m.value=re().locale(p.value),Z(m.value))},me=M(()=>Ka(a.format)),Fe=M(()=>La(a.format)),Ee=M(()=>{if(R.value)return R.value;if(!(!a.parsedValue&&!P.value))return(a.parsedValue||m.value).format(me.value)}),Be=M(()=>{if(A.value)return A.value;if(!(!a.parsedValue&&!P.value))return(a.parsedValue||m.value).format(Fe.value)}),Te=F(!1),We=()=>{Te.value=!0},Qe=()=>{Te.value=!1},pe=E=>({hour:E.hour(),minute:E.minute(),second:E.second(),year:E.year(),month:E.month(),date:E.date()}),lt=(E,U,oe)=>{const{hour:g,minute:$,second:B}=pe(E),q=a.parsedValue?a.parsedValue.hour(g).minute($).second(B):E;m.value=q,Z(m.value,!0),oe||(Te.value=U)},Ye=E=>{const U=re(E,me.value).locale(p.value);if(U.isValid()&&Q(U)){const{year:oe,month:g,date:$}=pe(m.value);m.value=U.year(oe).month(g).date($),R.value=null,Te.value=!1,Z(m.value,!0)}},qe=E=>{const U=re(E,Fe.value).locale(p.value);if(U.isValid()){if(d&&d(U.toDate()))return;const{hour:oe,minute:g,second:$}=pe(m.value);m.value=U.hour(oe).minute(g).second($),A.value=null,Z(m.value,!0)}},ot=E=>re.isDayjs(E)&&E.isValid()&&(d?!d(E.toDate()):!0),ct=E=>I.value==="dates"?E.map(U=>U.format(a.format)):E.format(a.format),je=E=>re(E,a.format).locale(p.value),et=()=>{const E=re(P.value).locale(p.value);if(!P.value){const U=S.value;return re().hour(U.hour()).minute(U.minute()).second(U.second()).locale(p.value)}return E},tt=async()=>{var E;["week","month","year","date"].includes(I.value)&&((E=y.value)==null||E.focus(),I.value==="week"&&ft(Oe.down))},st=E=>{const{code:U}=E;[Oe.up,Oe.down,Oe.left,Oe.right,Oe.home,Oe.end,Oe.pageUp,Oe.pageDown].includes(U)&&(ft(U),E.stopPropagation(),E.preventDefault()),[Oe.enter,Oe.space,Oe.numpadEnter].includes(U)&&A.value===null&&R.value===null&&(E.preventDefault(),Z(m.value,!1))},ft=E=>{var U;const{up:oe,down:g,left:$,right:B,home:q,end:Ae,pageUp:N,pageDown:K}=Oe,ee={year:{[oe]:-4,[g]:4,[$]:-1,[B]:1,offset:(ue,Me)=>ue.setFullYear(ue.getFullYear()+Me)},month:{[oe]:-4,[g]:4,[$]:-1,[B]:1,offset:(ue,Me)=>ue.setMonth(ue.getMonth()+Me)},week:{[oe]:-1,[g]:1,[$]:-1,[B]:1,offset:(ue,Me)=>ue.setDate(ue.getDate()+Me*7)},date:{[oe]:-7,[g]:7,[$]:-1,[B]:1,[q]:ue=>-ue.getDay(),[Ae]:ue=>-ue.getDay()+6,[N]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[K]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Me)=>ue.setDate(ue.getDate()+Me)}},ce=m.value.toDate();for(;Math.abs(m.value.diff(ce,"year",!0))<1;){const ue=ee[j.value];if(!ue)return;if(ue.offset(ce,Ze(ue[E])?ue[E](ce):(U=ue[E])!=null?U:0),d&&d(ce))break;const Me=re(ce).locale(p.value);m.value=Me,t("pick",Me,!0);break}},De=E=>{t("panel-change",m.value.toDate(),E,V.value)};return ie(()=>I.value,E=>{if(["month","year"].includes(E)){V.value=E;return}V.value="date"},{immediate:!0}),ie(()=>V.value,()=>{b==null||b.updatePopper()}),ie(()=>P.value,E=>{E&&(m.value=et())},{immediate:!0}),ie(()=>a.parsedValue,E=>{if(E){if(I.value==="dates"||Array.isArray(E))return;m.value=E}else m.value=et()},{immediate:!0}),t("set-picker-option",["isValidValue",ot]),t("set-picker-option",["formatToString",ct]),t("set-picker-option",["parseUserInput",je]),t("set-picker-option",["handleFocusPicker",tt]),(E,U)=>(O(),_("div",{class:w([l(o).b(),l(s).b(),{"has-sidebar":E.$slots.sidebar||l(D),"has-time":l(le)}])},[H("div",{class:w(l(o).e("body-wrapper"))},[Je(E.$slots,"sidebar",{class:w(l(o).e("sidebar"))}),l(D)?(O(),_("div",{key:0,class:w(l(o).e("sidebar"))},[(O(!0),_($e,null,Le(l(f),(oe,g)=>(O(),_("button",{key:g,type:"button",class:w(l(o).e("shortcut")),onClick:$=>k(oe)},he(oe.text),11,Ms))),128))],2)):te("v-if",!0),H("div",{class:w(l(o).e("body"))},[l(le)?(O(),_("div",{key:0,class:w(l(s).e("time-header"))},[H("span",{class:w(l(s).e("editor-wrap"))},[W(l(bt),{placeholder:l(c)("el.datepicker.selectDate"),"model-value":l(Be),size:"small","validate-event":!1,onInput:U[0]||(U[0]=oe=>A.value=oe),onChange:qe},null,8,["placeholder","model-value"])],2),Ke((O(),_("span",{class:w(l(s).e("editor-wrap"))},[W(l(bt),{placeholder:l(c)("el.datepicker.selectTime"),"model-value":l(Ee),size:"small","validate-event":!1,onFocus:We,onInput:U[1]||(U[1]=oe=>R.value=oe),onChange:Ye},null,8,["placeholder","model-value"]),W(l(Fn),{visible:Te.value,format:l(me),"time-arrow-control":l(h),"parsed-value":m.value,onPick:lt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),Qe]])],2)):te("v-if",!0),Ke(H("div",{class:w([l(s).e("header"),(V.value==="year"||V.value==="month")&&l(s).e("header--bordered")])},[H("span",{class:w(l(s).e("prev-btn"))},[H("button",{type:"button","aria-label":l(c)("el.datepicker.prevYear"),class:w(["d-arrow-left",l(o).e("icon-btn")]),onClick:U[2]||(U[2]=oe=>fe(!1))},[W(l(Ce),null,{default:X(()=>[W(l(_t))]),_:1})],10,Ps),Ke(H("button",{type:"button","aria-label":l(c)("el.datepicker.prevMonth"),class:w([l(o).e("icon-btn"),"arrow-left"]),onClick:U[3]||(U[3]=oe=>ye(!1))},[W(l(Ce),null,{default:X(()=>[W(l(Kn))]),_:1})],10,Es),[[nt,V.value==="date"]])],2),H("span",{role:"button",class:w(l(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:U[4]||(U[4]=Re(oe=>ae("year"),["enter"])),onClick:U[5]||(U[5]=oe=>ae("year"))},he(l(L)),35),Ke(H("span",{role:"button","aria-live":"polite",tabindex:"0",class:w([l(s).e("header-label"),{active:V.value==="month"}]),onKeydown:U[6]||(U[6]=Re(oe=>ae("month"),["enter"])),onClick:U[7]||(U[7]=oe=>ae("month"))},he(l(c)(`el.datepicker.month${l(Y)+1}`)),35),[[nt,V.value==="date"]]),H("span",{class:w(l(s).e("next-btn"))},[Ke(H("button",{type:"button","aria-label":l(c)("el.datepicker.nextMonth"),class:w([l(o).e("icon-btn"),"arrow-right"]),onClick:U[8]||(U[8]=oe=>ye(!0))},[W(l(Ce),null,{default:X(()=>[W(l(Zt))]),_:1})],10,Ts),[[nt,V.value==="date"]]),H("button",{type:"button","aria-label":l(c)("el.datepicker.nextYear"),class:w([l(o).e("icon-btn"),"d-arrow-right"]),onClick:U[9]||(U[9]=oe=>fe(!0))},[W(l(Ce),null,{default:X(()=>[W(l(Ht))]),_:1})],10,Vs)],2)],2),[[nt,V.value!=="time"]]),H("div",{class:w(l(o).e("content")),onKeydown:st},[V.value==="date"?(O(),ne(zn,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":l(I),date:m.value,"parsed-value":E.parsedValue,"disabled-date":l(d),"cell-class-name":l(v),onPick:se},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):te("v-if",!0),V.value==="year"?(O(),ne($s,{key:1,ref_key:"currentViewRef",ref:y,date:m.value,"disabled-date":l(d),"parsed-value":E.parsedValue,onPick:J},null,8,["date","disabled-date","parsed-value"])):te("v-if",!0),V.value==="month"?(O(),ne(_n,{key:2,ref_key:"currentViewRef",ref:y,date:m.value,"parsed-value":E.parsedValue,"disabled-date":l(d),onPick:x},null,8,["date","parsed-value","disabled-date"])):te("v-if",!0)],34)],2)],2),Ke(H("div",{class:w(l(o).e("footer"))},[Ke(W(l(At),{text:"",size:"small",class:w(l(o).e("link-btn")),onClick:ke},{default:X(()=>[vt(he(l(c)("el.datepicker.now")),1)]),_:1},8,["class"]),[[nt,l(I)!=="dates"]]),W(l(At),{plain:"",size:"small",class:w(l(o).e("link-btn")),onClick:de},{default:X(()=>[vt(he(l(c)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[nt,l(Se)&&V.value==="date"]])],2))}});var As=Ie(Is,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Ks=_e({...za,..._a}),Ls=e=>{const{emit:t}=at(),a=Sn(),n=Da();return s=>{const r=Ze(s.value)?s.value():s.value;if(r){t("pick",[re(r[0]).locale(e.value),re(r[1]).locale(e.value)]);return}s.onClick&&s.onClick({attrs:a,slots:n,emit:t})}},Wa=(e,{defaultValue:t,leftDate:a,rightDate:n,unit:o,onParsedValueChanged:s})=>{const{emit:r}=at(),{pickerNs:u}=ze(Jn),c=we("date-range-picker"),{t:p,lang:C}=Ge(),b=Ls(C),f=F(),d=F(),v=F({endDate:null,selecting:!1}),i=m=>{v.value=m},h=(m=!1)=>{const T=l(f),S=l(d);Yn([T,S])&&r("pick",[T,S],m)},P=m=>{v.value.selecting=m,m||(v.value.endDate=null)},y=()=>{const[m,T]=xa(l(t),{lang:l(C),unit:o,unlinkPanels:e.unlinkPanels});f.value=void 0,d.value=void 0,a.value=m,n.value=T};return ie(t,m=>{m&&y()},{immediate:!0}),ie(()=>e.parsedValue,m=>{if(Xe(m)&&m.length===2){const[T,S]=m;f.value=T,a.value=T,d.value=S,s(l(f),l(d))}else y()},{immediate:!0}),{minDate:f,maxDate:d,rangeState:v,lang:C,ppNs:u,drpNs:c,handleChangeRange:i,handleRangeConfirm:h,handleShortcutClick:b,onSelect:P,t:p}},Bs=["onClick"],Rs=["disabled"],Fs=["disabled"],Ys=["disabled"],zs=["disabled"],Gt="month",_s=be({__name:"panel-date-range",props:Ks,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const a=e,n=ze("EP_PICKER_BASE"),{disabledDate:o,cellClassName:s,format:r,defaultTime:u,arrowControl:c,clearable:p}=n.props,C=Kt(n.props,"shortcuts"),b=Kt(n.props,"defaultValue"),{lang:f}=Ge(),d=F(re().locale(f.value)),v=F(re().locale(f.value).add(1,Gt)),{minDate:i,maxDate:h,rangeState:P,ppNs:y,drpNs:m,handleChangeRange:T,handleRangeConfirm:S,handleShortcutClick:Y,onSelect:G,t:z}=Wa(a,{defaultValue:b,leftDate:d,rightDate:v,unit:Gt,onParsedValueChanged:g}),A=F({min:null,max:null}),R=F({min:null,max:null}),Q=M(()=>`${d.value.year()} ${z("el.datepicker.year")} ${z(`el.datepicker.month${d.value.month()+1}`)}`),ve=M(()=>`${v.value.year()} ${z("el.datepicker.year")} ${z(`el.datepicker.month${v.value.month()+1}`)}`),Z=M(()=>d.value.year()),se=M(()=>d.value.month()),ye=M(()=>v.value.year()),fe=M(()=>v.value.month()),V=M(()=>!!C.value.length),L=M(()=>A.value.min!==null?A.value.min:i.value?i.value.format(x.value):""),k=M(()=>A.value.max!==null?A.value.max:h.value||i.value?(h.value||i.value).format(x.value):""),I=M(()=>R.value.min!==null?R.value.min:i.value?i.value.format(D.value):""),j=M(()=>R.value.max!==null?R.value.max:h.value||i.value?(h.value||i.value).format(D.value):""),D=M(()=>Ka(r)),x=M(()=>La(r)),J=()=>{d.value=d.value.subtract(1,"year"),a.unlinkPanels||(v.value=d.value.add(1,"month")),Ee("year")},ae=()=>{d.value=d.value.subtract(1,"month"),a.unlinkPanels||(v.value=d.value.add(1,"month")),Ee("month")},le=()=>{a.unlinkPanels?v.value=v.value.add(1,"year"):(d.value=d.value.add(1,"year"),v.value=d.value.add(1,"month")),Ee("year")},Se=()=>{a.unlinkPanels?v.value=v.value.add(1,"month"):(d.value=d.value.add(1,"month"),v.value=d.value.add(1,"month")),Ee("month")},de=()=>{d.value=d.value.add(1,"year"),Ee("year")},ke=()=>{d.value=d.value.add(1,"month"),Ee("month")},me=()=>{v.value=v.value.subtract(1,"year"),Ee("year")},Fe=()=>{v.value=v.value.subtract(1,"month"),Ee("month")},Ee=$=>{t("panel-change",[d.value.toDate(),v.value.toDate()],$)},Be=M(()=>{const $=(se.value+1)%12,B=se.value+1>=12?1:0;return a.unlinkPanels&&new Date(Z.value+B,$)<new Date(ye.value,fe.value)}),Te=M(()=>a.unlinkPanels&&ye.value*12+fe.value-(Z.value*12+se.value+1)>=12),We=M(()=>!(i.value&&h.value&&!P.value.selecting&&Yn([i.value,h.value]))),Qe=M(()=>a.type==="datetime"||a.type==="datetimerange"),pe=($,B)=>{if($)return u?re(u[B]||u).locale(f.value).year($.year()).month($.month()).date($.date()):$},lt=($,B=!0)=>{const q=$.minDate,Ae=$.maxDate,N=pe(q,0),K=pe(Ae,1);h.value===K&&i.value===N||(t("calendar-change",[q.toDate(),Ae&&Ae.toDate()]),h.value=K,i.value=N,!(!B||Qe.value)&&S())},Ye=F(!1),qe=F(!1),ot=()=>{Ye.value=!1},ct=()=>{qe.value=!1},je=($,B)=>{A.value[B]=$;const q=re($,x.value).locale(f.value);if(q.isValid()){if(o&&o(q.toDate()))return;B==="min"?(d.value=q,i.value=(i.value||d.value).year(q.year()).month(q.month()).date(q.date()),a.unlinkPanels||(v.value=q.add(1,"month"),h.value=i.value.add(1,"month"))):(v.value=q,h.value=(h.value||v.value).year(q.year()).month(q.month()).date(q.date()),a.unlinkPanels||(d.value=q.subtract(1,"month"),i.value=h.value.subtract(1,"month")))}},et=($,B)=>{A.value[B]=null},tt=($,B)=>{R.value[B]=$;const q=re($,D.value).locale(f.value);q.isValid()&&(B==="min"?(Ye.value=!0,i.value=(i.value||d.value).hour(q.hour()).minute(q.minute()).second(q.second()),(!h.value||h.value.isBefore(i.value))&&(h.value=i.value)):(qe.value=!0,h.value=(h.value||v.value).hour(q.hour()).minute(q.minute()).second(q.second()),v.value=h.value,h.value&&h.value.isBefore(i.value)&&(i.value=h.value)))},st=($,B)=>{R.value[B]=null,B==="min"?(d.value=i.value,Ye.value=!1):(v.value=h.value,qe.value=!1)},ft=($,B,q)=>{R.value.min||($&&(d.value=$,i.value=(i.value||d.value).hour($.hour()).minute($.minute()).second($.second())),q||(Ye.value=B),(!h.value||h.value.isBefore(i.value))&&(h.value=i.value,v.value=$))},De=($,B,q)=>{R.value.max||($&&(v.value=$,h.value=(h.value||v.value).hour($.hour()).minute($.minute()).second($.second())),q||(qe.value=B),h.value&&h.value.isBefore(i.value)&&(i.value=h.value))},E=()=>{d.value=xa(l(b),{lang:l(f),unit:"month",unlinkPanels:a.unlinkPanels})[0],v.value=d.value.add(1,"month"),t("pick",null)},U=$=>Xe($)?$.map(B=>B.format(r)):$.format(r),oe=$=>Xe($)?$.map(B=>re(B,r).locale(f.value)):re($,r).locale(f.value);function g($,B){if(a.unlinkPanels&&B){const q=($==null?void 0:$.year())||0,Ae=($==null?void 0:$.month())||0,N=B.year(),K=B.month();v.value=q===N&&Ae===K?B.add(1,Gt):B}else v.value=d.value.add(1,Gt),B&&(v.value=v.value.hour(B.hour()).minute(B.minute()).second(B.second()))}return t("set-picker-option",["isValidValue",Yn]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["formatToString",U]),t("set-picker-option",["handleClear",E]),($,B)=>(O(),_("div",{class:w([l(y).b(),l(m).b(),{"has-sidebar":$.$slots.sidebar||l(V),"has-time":l(Qe)}])},[H("div",{class:w(l(y).e("body-wrapper"))},[Je($.$slots,"sidebar",{class:w(l(y).e("sidebar"))}),l(V)?(O(),_("div",{key:0,class:w(l(y).e("sidebar"))},[(O(!0),_($e,null,Le(l(C),(q,Ae)=>(O(),_("button",{key:Ae,type:"button",class:w(l(y).e("shortcut")),onClick:N=>l(Y)(q)},he(q.text),11,Bs))),128))],2)):te("v-if",!0),H("div",{class:w(l(y).e("body"))},[l(Qe)?(O(),_("div",{key:0,class:w(l(m).e("time-header"))},[H("span",{class:w(l(m).e("editors-wrap"))},[H("span",{class:w(l(m).e("time-picker-wrap"))},[W(l(bt),{size:"small",disabled:l(P).selecting,placeholder:l(z)("el.datepicker.startDate"),class:w(l(m).e("editor")),"model-value":l(L),"validate-event":!1,onInput:B[0]||(B[0]=q=>je(q,"min")),onChange:B[1]||(B[1]=q=>et(q,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ke((O(),_("span",{class:w(l(m).e("time-picker-wrap"))},[W(l(bt),{size:"small",class:w(l(m).e("editor")),disabled:l(P).selecting,placeholder:l(z)("el.datepicker.startTime"),"model-value":l(I),"validate-event":!1,onFocus:B[2]||(B[2]=q=>Ye.value=!0),onInput:B[3]||(B[3]=q=>tt(q,"min")),onChange:B[4]||(B[4]=q=>st(q,"min"))},null,8,["class","disabled","placeholder","model-value"]),W(l(Fn),{visible:Ye.value,format:l(D),"datetime-role":"start","time-arrow-control":l(c),"parsed-value":d.value,onPick:ft},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),ot]])],2),H("span",null,[W(l(Ce),null,{default:X(()=>[W(l(Zt))]),_:1})]),H("span",{class:w([l(m).e("editors-wrap"),"is-right"])},[H("span",{class:w(l(m).e("time-picker-wrap"))},[W(l(bt),{size:"small",class:w(l(m).e("editor")),disabled:l(P).selecting,placeholder:l(z)("el.datepicker.endDate"),"model-value":l(k),readonly:!l(i),"validate-event":!1,onInput:B[5]||(B[5]=q=>je(q,"max")),onChange:B[6]||(B[6]=q=>et(q,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ke((O(),_("span",{class:w(l(m).e("time-picker-wrap"))},[W(l(bt),{size:"small",class:w(l(m).e("editor")),disabled:l(P).selecting,placeholder:l(z)("el.datepicker.endTime"),"model-value":l(j),readonly:!l(i),"validate-event":!1,onFocus:B[7]||(B[7]=q=>l(i)&&(qe.value=!0)),onInput:B[8]||(B[8]=q=>tt(q,"max")),onChange:B[9]||(B[9]=q=>st(q,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),W(l(Fn),{"datetime-role":"end",visible:qe.value,format:l(D),"time-arrow-control":l(c),"parsed-value":v.value,onPick:De},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),ct]])],2)],2)):te("v-if",!0),H("div",{class:w([[l(y).e("content"),l(m).e("content")],"is-left"])},[H("div",{class:w(l(m).e("header"))},[H("button",{type:"button",class:w([l(y).e("icon-btn"),"d-arrow-left"]),onClick:J},[W(l(Ce),null,{default:X(()=>[W(l(_t))]),_:1})],2),H("button",{type:"button",class:w([l(y).e("icon-btn"),"arrow-left"]),onClick:ae},[W(l(Ce),null,{default:X(()=>[W(l(Kn))]),_:1})],2),$.unlinkPanels?(O(),_("button",{key:0,type:"button",disabled:!l(Te),class:w([[l(y).e("icon-btn"),{"is-disabled":!l(Te)}],"d-arrow-right"]),onClick:de},[W(l(Ce),null,{default:X(()=>[W(l(Ht))]),_:1})],10,Rs)):te("v-if",!0),$.unlinkPanels?(O(),_("button",{key:1,type:"button",disabled:!l(Be),class:w([[l(y).e("icon-btn"),{"is-disabled":!l(Be)}],"arrow-right"]),onClick:ke},[W(l(Ce),null,{default:X(()=>[W(l(Zt))]),_:1})],10,Fs)):te("v-if",!0),H("div",null,he(l(Q)),1)],2),W(zn,{"selection-mode":"range",date:d.value,"min-date":l(i),"max-date":l(h),"range-state":l(P),"disabled-date":l(o),"cell-class-name":l(s),onChangerange:l(T),onPick:lt,onSelect:l(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),H("div",{class:w([[l(y).e("content"),l(m).e("content")],"is-right"])},[H("div",{class:w(l(m).e("header"))},[$.unlinkPanels?(O(),_("button",{key:0,type:"button",disabled:!l(Te),class:w([[l(y).e("icon-btn"),{"is-disabled":!l(Te)}],"d-arrow-left"]),onClick:me},[W(l(Ce),null,{default:X(()=>[W(l(_t))]),_:1})],10,Ys)):te("v-if",!0),$.unlinkPanels?(O(),_("button",{key:1,type:"button",disabled:!l(Be),class:w([[l(y).e("icon-btn"),{"is-disabled":!l(Be)}],"arrow-left"]),onClick:Fe},[W(l(Ce),null,{default:X(()=>[W(l(Kn))]),_:1})],10,zs)):te("v-if",!0),H("button",{type:"button",class:w([l(y).e("icon-btn"),"d-arrow-right"]),onClick:le},[W(l(Ce),null,{default:X(()=>[W(l(Ht))]),_:1})],2),H("button",{type:"button",class:w([l(y).e("icon-btn"),"arrow-right"]),onClick:Se},[W(l(Ce),null,{default:X(()=>[W(l(Zt))]),_:1})],2),H("div",null,he(l(ve)),1)],2),W(zn,{"selection-mode":"range",date:v.value,"min-date":l(i),"max-date":l(h),"range-state":l(P),"disabled-date":l(o),"cell-class-name":l(s),onChangerange:l(T),onPick:lt,onSelect:l(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),l(Qe)?(O(),_("div",{key:0,class:w(l(y).e("footer"))},[l(p)?(O(),ne(l(At),{key:0,text:"",size:"small",class:w(l(y).e("link-btn")),onClick:E},{default:X(()=>[vt(he(l(z)("el.datepicker.clear")),1)]),_:1},8,["class"])):te("v-if",!0),W(l(At),{plain:"",size:"small",class:w(l(y).e("link-btn")),disabled:l(We),onClick:B[10]||(B[10]=q=>l(S)(!1))},{default:X(()=>[vt(he(l(z)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):te("v-if",!0)],2))}});var Hs=Ie(_s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const xs=_e({..._a}),Ws=["pick","set-picker-option"],qs=({unlinkPanels:e,leftDate:t,rightDate:a})=>{const{t:n}=Ge(),o=()=>{t.value=t.value.subtract(1,"year"),e.value||(a.value=a.value.subtract(1,"year"))},s=()=>{e.value||(t.value=t.value.add(1,"year")),a.value=a.value.add(1,"year")},r=()=>{t.value=t.value.add(1,"year")},u=()=>{a.value=a.value.subtract(1,"year")},c=M(()=>`${t.value.year()} ${n("el.datepicker.year")}`),p=M(()=>`${a.value.year()} ${n("el.datepicker.year")}`),C=M(()=>t.value.year()),b=M(()=>a.value.year()===t.value.year()?t.value.year()+1:a.value.year());return{leftPrevYear:o,rightNextYear:s,leftNextYear:r,rightPrevYear:u,leftLabel:c,rightLabel:p,leftYear:C,rightYear:b}},js=["onClick"],Us=["disabled"],Gs=["disabled"],Qt="year",Qs=be({name:"DatePickerMonthRange"}),Xs=be({...Qs,props:xs,emits:Ws,setup(e,{emit:t}){const a=e,{lang:n}=Ge(),o=ze("EP_PICKER_BASE"),{shortcuts:s,disabledDate:r,format:u}=o.props,c=Kt(o.props,"defaultValue"),p=F(re().locale(n.value)),C=F(re().locale(n.value).add(1,Qt)),{minDate:b,maxDate:f,rangeState:d,ppNs:v,drpNs:i,handleChangeRange:h,handleRangeConfirm:P,handleShortcutClick:y,onSelect:m}=Wa(a,{defaultValue:c,leftDate:p,rightDate:C,unit:Qt,onParsedValueChanged:fe}),T=M(()=>!!s.length),{leftPrevYear:S,rightNextYear:Y,leftNextYear:G,rightPrevYear:z,leftLabel:A,rightLabel:R,leftYear:Q,rightYear:ve}=qs({unlinkPanels:Kt(a,"unlinkPanels"),leftDate:p,rightDate:C}),Z=M(()=>a.unlinkPanels&&ve.value>Q.value+1),se=(V,L=!0)=>{const k=V.minDate,I=V.maxDate;f.value===I&&b.value===k||(f.value=I,b.value=k,L&&P())},ye=V=>V.map(L=>L.format(u));function fe(V,L){if(a.unlinkPanels&&L){const k=(V==null?void 0:V.year())||0,I=L.year();C.value=k===I?L.add(1,Qt):L}else C.value=p.value.add(1,Qt)}return t("set-picker-option",["formatToString",ye]),(V,L)=>(O(),_("div",{class:w([l(v).b(),l(i).b(),{"has-sidebar":!!V.$slots.sidebar||l(T)}])},[H("div",{class:w(l(v).e("body-wrapper"))},[Je(V.$slots,"sidebar",{class:w(l(v).e("sidebar"))}),l(T)?(O(),_("div",{key:0,class:w(l(v).e("sidebar"))},[(O(!0),_($e,null,Le(l(s),(k,I)=>(O(),_("button",{key:I,type:"button",class:w(l(v).e("shortcut")),onClick:j=>l(y)(k)},he(k.text),11,js))),128))],2)):te("v-if",!0),H("div",{class:w(l(v).e("body"))},[H("div",{class:w([[l(v).e("content"),l(i).e("content")],"is-left"])},[H("div",{class:w(l(i).e("header"))},[H("button",{type:"button",class:w([l(v).e("icon-btn"),"d-arrow-left"]),onClick:L[0]||(L[0]=(...k)=>l(S)&&l(S)(...k))},[W(l(Ce),null,{default:X(()=>[W(l(_t))]),_:1})],2),V.unlinkPanels?(O(),_("button",{key:0,type:"button",disabled:!l(Z),class:w([[l(v).e("icon-btn"),{[l(v).is("disabled")]:!l(Z)}],"d-arrow-right"]),onClick:L[1]||(L[1]=(...k)=>l(G)&&l(G)(...k))},[W(l(Ce),null,{default:X(()=>[W(l(Ht))]),_:1})],10,Us)):te("v-if",!0),H("div",null,he(l(A)),1)],2),W(_n,{"selection-mode":"range",date:p.value,"min-date":l(b),"max-date":l(f),"range-state":l(d),"disabled-date":l(r),onChangerange:l(h),onPick:se,onSelect:l(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),H("div",{class:w([[l(v).e("content"),l(i).e("content")],"is-right"])},[H("div",{class:w(l(i).e("header"))},[V.unlinkPanels?(O(),_("button",{key:0,type:"button",disabled:!l(Z),class:w([[l(v).e("icon-btn"),{"is-disabled":!l(Z)}],"d-arrow-left"]),onClick:L[2]||(L[2]=(...k)=>l(z)&&l(z)(...k))},[W(l(Ce),null,{default:X(()=>[W(l(_t))]),_:1})],10,Gs)):te("v-if",!0),H("button",{type:"button",class:w([l(v).e("icon-btn"),"d-arrow-right"]),onClick:L[3]||(L[3]=(...k)=>l(Y)&&l(Y)(...k))},[W(l(Ce),null,{default:X(()=>[W(l(Ht))]),_:1})],2),H("div",null,he(l(R)),1)],2),W(_n,{"selection-mode":"range",date:C.value,"min-date":l(b),"max-date":l(f),"range-state":l(d),"disabled-date":l(r),onChangerange:l(h),onPick:se,onSelect:l(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Zs=Ie(Xs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Js=function(e){switch(e){case"daterange":case"datetimerange":return Hs;case"monthrange":return Zs;default:return As}};re.extend(Fl);re.extend(xo);re.extend(jl);re.extend(qo);re.extend(Uo);re.extend(Qo);re.extend(Zo);re.extend(es);var er=be({name:"ElDatePicker",install:null,props:ts,emits:["update:modelValue"],setup(e,{expose:t,emit:a,slots:n}){const o=we("picker-panel");dt("ElPopperOptions",mt(Kt(e,"popperOptions"))),dt(Jn,{slots:n,pickerNs:o});const s=F();t({focus:(c=!0)=>{var p;(p=s.value)==null||p.focus(c)},handleOpen:()=>{var c;(c=s.value)==null||c.handleOpen()},handleClose:()=>{var c;(c=s.value)==null||c.handleClose()}});const u=c=>{a("update:modelValue",c)};return()=>{var c;const p=(c=e.format)!=null?c:Ul[e.type]||Mt,C=Js(e.type);return W(eo,ht(e,{format:p,type:e.type,ref:s,"onUpdate:modelValue":u}),{default:b=>W(C,b,null),"range-separator":n["range-separator"]})}}});const nn=er;nn.install=e=>{e.component(nn.name,nn)};const tr=nn,qa=Symbol("ElSelectGroup"),Ut=Symbol("ElSelect");function nr(e,t){const a=ze(Ut),n=ze(qa,{disabled:!1}),o=M(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),s=M(()=>a.props.multiple?b(a.props.modelValue,e.value):f(e.value,a.props.modelValue)),r=M(()=>{if(a.props.multiple){const i=a.props.modelValue||[];return!s.value&&i.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),u=M(()=>e.label||(o.value?"":e.value)),c=M(()=>e.value||e.label||""),p=M(()=>e.disabled||t.groupDisabled||r.value),C=at(),b=(i=[],h)=>{if(o.value){const P=a.props.valueKey;return i&&i.some(y=>rn(it(y,P))===it(h,P))}else return i&&i.includes(h)},f=(i,h)=>{if(o.value){const{valueKey:P}=a.props;return it(i,P)===it(h,P)}else return i===h},d=()=>{!e.disabled&&!n.disabled&&(a.hoverIndex=a.optionsArray.indexOf(C.proxy))};ie(()=>u.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),ie(()=>e.value,(i,h)=>{const{remote:P,valueKey:y}=a.props;if(Object.is(i,h)||(a.onOptionDestroy(h,C.proxy),a.onOptionCreate(C.proxy)),!e.created&&!P){if(y&&typeof i=="object"&&typeof h=="object"&&i[y]===h[y])return;a.setSelected()}}),ie(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0});const{queryChange:v}=rn(a);return ie(v,i=>{const{query:h}=l(i),P=new RegExp(Hl(h),"i");t.visible=P.test(u.value)||e.created,t.visible||a.filteredOptionsCount--},{immediate:!0}),{select:a,currentLabel:u,currentValue:c,itemSelected:s,isDisabled:p,hoverItem:d}}const ar=be({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=we("select"),a=mt({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:n,itemSelected:o,isDisabled:s,select:r,hoverItem:u}=nr(e,a),{visible:c,hover:p}=jt(a),C=at().proxy;r.onOptionCreate(C),il(()=>{const f=C.value,{selected:d}=r,i=(r.props.multiple?d:[d]).some(h=>h.value===C.value);ge(()=>{r.cachedOptions.get(f)===C&&!i&&r.cachedOptions.delete(f)}),r.onOptionDestroy(f,C)});function b(){e.disabled!==!0&&a.groupDisabled!==!0&&r.handleOptionSelect(C)}return{ns:t,currentLabel:n,itemSelected:o,isDisabled:s,select:r,hoverItem:u,visible:c,hover:p,selectOptionClick:b,states:a}}});function lr(e,t,a,n,o,s){return Ke((O(),_("li",{class:w([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=Pe((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[Je(e.$slots,"default",{},()=>[H("span",null,he(e.currentLabel),1)])],34)),[[nt,e.visible]])}var ta=Ie(ar,[["render",lr],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const or=be({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ze(Ut),t=we("select"),a=M(()=>e.props.popperClass),n=M(()=>e.props.multiple),o=M(()=>e.props.fitInputWidth),s=F("");function r(){var u;s.value=`${(u=e.selectWrapper)==null?void 0:u.offsetWidth}px`}return rt(()=>{r(),Oa(e.selectWrapper,r)}),{ns:t,minWidth:s,popperClass:a,isMultiple:n,isFitInputWidth:o}}});function sr(e,t,a,n,o,s){return O(),_("div",{class:w([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:He({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[Je(e.$slots,"default")],6)}var rr=Ie(or,[["render",sr],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function ir(e){const{t}=Ge();return mt({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}let Vn=!1;const ur=(e,t,a)=>{const{t:n}=Ge(),o=we("select");$a({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},M(()=>e.suffixTransition===!1));const s=F(null),r=F(null),u=F(null),c=F(null),p=F(null),C=F(null),b=F(null),f=F(-1),d=Vt({query:""}),v=Vt(""),i=F([]);let h=0;const{form:P,formItem:y}=Cn(),m=M(()=>!e.filterable||e.multiple||!t.visible),T=M(()=>e.disabled||(P==null?void 0:P.disabled)),S=M(()=>{const N=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!T.value&&t.inputHovering&&N}),Y=M(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),G=M(()=>o.is("reverse",Y.value&&t.visible&&e.suffixTransition)),z=M(()=>e.remote?300:0),A=M(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||n("el.select.noMatch"):t.options.size===0?e.noDataText||n("el.select.noData"):null),R=M(()=>{const N=Array.from(t.options.values()),K=[];return i.value.forEach(ee=>{const ce=N.findIndex(ue=>ue.currentLabel===ee);ce>-1&&K.push(N[ce])}),K.length?K:N}),Q=M(()=>Array.from(t.cachedOptions.values())),ve=M(()=>{const N=R.value.filter(K=>!K.created).some(K=>K.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!N}),Z=wn(),se=M(()=>["small"].includes(Z.value)?"small":"default"),ye=M({get(){return t.visible&&A.value!==!1},set(N){t.visible=N}});ie([()=>T.value,()=>Z.value,()=>P==null?void 0:P.size],()=>{ge(()=>{fe()})}),ie(()=>e.placeholder,N=>{t.cachedPlaceHolder=t.currentPlaceholder=N,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),ie(()=>e.modelValue,(N,K)=>{e.multiple&&(fe(),N&&N.length>0||r.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",V(t.query))),I(),e.filterable&&!e.multiple&&(t.inputLength=20),!un(N,K)&&e.validateEvent&&(y==null||y.validate("change").catch(ee=>Tt()))},{flush:"post",deep:!0}),ie(()=>t.visible,N=>{var K,ee,ce,ue,Me;N?((ee=(K=c.value)==null?void 0:K.updatePopper)==null||ee.call(K),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(ue=(ce=u.value)==null?void 0:ce.focus)==null||ue.call(ce),e.multiple?(Me=r.value)==null||Me.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),V(t.query),!e.multiple&&!e.remote&&(d.value.query="",Lt(d),Lt(v)))):(e.filterable&&(Ze(e.filterMethod)&&e.filterMethod(""),Ze(e.remoteMethod)&&e.remoteMethod("")),r.value&&r.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,D(),ge(()=>{r.value&&r.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),a.emit("visible-change",N)}),ie(()=>t.options.entries(),()=>{var N,K,ee;if(!Un)return;(K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N),e.multiple&&fe();const ce=((ee=C.value)==null?void 0:ee.querySelectorAll("input"))||[];Array.from(ce).includes(document.activeElement)||I(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&k()},{flush:"post"}),ie(()=>t.hoverIndex,N=>{Jt(N)&&N>-1?f.value=R.value[N]||{}:f.value={},R.value.forEach(K=>{K.hover=f.value===K})});const fe=()=>{ge(()=>{var N,K;if(!s.value)return;const ee=s.value.$el.querySelector("input");h=h||(ee.clientHeight>0?ee.clientHeight+2:0);const ce=p.value,ue=xl(Z.value||(P==null?void 0:P.size)),Me=Z.value||ue===h||h<=0?ue:h;!(ee.offsetParent===null)&&(ee.style.height=`${(t.selected.length===0?Me:Math.max(ce?ce.clientHeight+(ce.clientHeight>Me?6:0):0,Me))-2}px`),t.tagInMultiLine=Number.parseFloat(ee.style.height)>=Me,t.visible&&A.value!==!1&&((K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N))})},V=async N=>{if(!(t.previousQuery===N||t.isOnComposition)){if(t.previousQuery===null&&(Ze(e.filterMethod)||Ze(e.remoteMethod))){t.previousQuery=N;return}t.previousQuery=N,ge(()=>{var K,ee;t.visible&&((ee=(K=c.value)==null?void 0:K.updatePopper)==null||ee.call(K))}),t.hoverIndex=-1,e.multiple&&e.filterable&&ge(()=>{const K=r.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,K):K,L(),fe()}),e.remote&&Ze(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(N)):Ze(e.filterMethod)?(e.filterMethod(N),Lt(v)):(t.filteredOptionsCount=t.optionsCount,d.value.query=N,Lt(d),Lt(v)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await ge(),k())}},L=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=r.value.value?"":t.cachedPlaceHolder)},k=()=>{const N=R.value.filter(ce=>ce.visible&&!ce.disabled&&!ce.states.groupDisabled),K=N.find(ce=>ce.created),ee=N[0];t.hoverIndex=Be(R.value,K||ee)},I=()=>{var N;if(e.multiple)t.selectedLabel="";else{const ee=j(e.modelValue);(N=ee.props)!=null&&N.created?(t.createdLabel=ee.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=ee.currentLabel,t.selected=ee,e.filterable&&(t.query=t.selectedLabel);return}const K=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(ee=>{K.push(j(ee))}),t.selected=K,ge(()=>{fe()})},j=N=>{let K;const ee=Dn(N).toLowerCase()==="object",ce=Dn(N).toLowerCase()==="null",ue=Dn(N).toLowerCase()==="undefined";for(let kt=t.cachedOptions.size-1;kt>=0;kt--){const Ve=Q.value[kt];if(ee?it(Ve.value,e.valueKey)===it(N,e.valueKey):Ve.value===N){K={value:N,currentLabel:Ve.currentLabel,isDisabled:Ve.isDisabled};break}}if(K)return K;const Me=ee?N.label:!ce&&!ue?N:"",gt={value:N,currentLabel:Me};return e.multiple&&(gt.hitState=!1),gt},D=()=>{setTimeout(()=>{const N=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(K=>R.value.findIndex(ee=>it(ee,N)===it(K,N)))):t.hoverIndex=-1:t.hoverIndex=R.value.findIndex(K=>U(K)===U(t.selected))},300)},x=()=>{var N,K;J(),(K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N),e.multiple&&fe()},J=()=>{var N;t.inputWidth=(N=s.value)==null?void 0:N.$el.offsetWidth},ae=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,V(t.query))},le=cn(()=>{ae()},z.value),Se=cn(N=>{V(N.target.value)},z.value),de=N=>{un(e.modelValue,N)||a.emit(It,N)},ke=N=>{if(N.code!==Oe.delete){if(N.target.value.length<=0&&!Ye()){const K=e.modelValue.slice();K.pop(),a.emit(xe,K),de(K)}N.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},me=(N,K)=>{const ee=t.selected.indexOf(K);if(ee>-1&&!T.value){const ce=e.modelValue.slice();ce.splice(ee,1),a.emit(xe,ce),de(ce),a.emit("remove-tag",K.value)}N.stopPropagation()},Fe=N=>{N.stopPropagation();const K=e.multiple?[]:"";if(!yt(K))for(const ee of t.selected)ee.isDisabled&&K.push(ee.value);a.emit(xe,K),de(K),t.hoverIndex=-1,t.visible=!1,a.emit("clear")},Ee=N=>{var K;if(e.multiple){const ee=(e.modelValue||[]).slice(),ce=Be(ee,N.value);ce>-1?ee.splice(ce,1):(e.multipleLimit<=0||ee.length<e.multipleLimit)&&ee.push(N.value),a.emit(xe,ee),de(ee),N.created&&(t.query="",V(""),t.inputLength=20),e.filterable&&((K=r.value)==null||K.focus())}else a.emit(xe,N.value),de(N.value),t.visible=!1;Te(),!t.visible&&ge(()=>{We(N)})},Be=(N=[],K)=>{if(!Ln(K))return N.indexOf(K);const ee=e.valueKey;let ce=-1;return N.some((ue,Me)=>rn(it(ue,ee))===it(K,ee)?(ce=Me,!0):!1),ce},Te=()=>{const N=r.value||s.value;N&&(N==null||N.focus())},We=N=>{var K,ee,ce,ue,Me;const gt=Array.isArray(N)?N[0]:N;let kt=null;if(gt!=null&&gt.value){const Ve=R.value.filter(pt=>pt.value===gt.value);Ve.length>0&&(kt=Ve[0].$el)}if(c.value&&kt){const Ve=(ue=(ce=(ee=(K=c.value)==null?void 0:K.popperRef)==null?void 0:ee.contentRef)==null?void 0:ce.querySelector)==null?void 0:ue.call(ce,`.${o.be("dropdown","wrap")}`);Ve&&ul(Ve,kt)}(Me=b.value)==null||Me.handleScroll()},Qe=N=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(N.value,N),t.cachedOptions.set(N.value,N)},pe=(N,K)=>{t.options.get(N)===K&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(N))},lt=N=>{N.code!==Oe.backspace&&Ye(!1),t.inputLength=r.value.value.length*15+20,fe()},Ye=N=>{if(!Array.isArray(t.selected))return;const K=t.selected[t.selected.length-1];if(K)return N===!0||N===!1?(K.hitState=N,N):(K.hitState=!K.hitState,K.hitState)},qe=N=>{const K=N.target.value;if(N.type==="compositionend")t.isOnComposition=!1,ge(()=>V(K));else{const ee=K[K.length-1]||"";t.isOnComposition=!dl(ee)}},ot=()=>{ge(()=>We(t.selected))},ct=N=>{Vn?Vn=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),a.emit("focus",N))},je=()=>{var N,K,ee;t.visible=!1,(N=s.value)==null||N.blur(),(ee=(K=u.value)==null?void 0:K.blur)==null||ee.call(K)},et=N=>{setTimeout(()=>{var K;if((K=c.value)!=null&&K.isFocusInsideContent()){Vn=!0;return}t.visible&&st(),a.emit("blur",N)})},tt=N=>{Fe(N)},st=()=>{t.visible=!1},ft=N=>{t.visible&&(N.preventDefault(),N.stopPropagation(),t.visible=!1)},De=N=>{var K;N&&!t.mouseEnter||T.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!c.value||!c.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((K=r.value||s.value)==null||K.focus()))},E=()=>{t.visible?R.value[t.hoverIndex]&&Ee(R.value[t.hoverIndex]):De()},U=N=>Ln(N.value)?it(N.value,e.valueKey):N.value,oe=M(()=>R.value.filter(N=>N.visible).every(N=>N.disabled)),g=M(()=>t.selected.slice(0,e.maxCollapseTags)),$=M(()=>t.selected.slice(e.maxCollapseTags)),B=N=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!oe.value){N==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):N==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const K=R.value[t.hoverIndex];(K.disabled===!0||K.states.groupDisabled===!0||!K.visible)&&B(N),ge(()=>We(f.value))}};return{optionList:i,optionsArray:R,selectSize:Z,handleResize:x,debouncedOnInputChange:le,debouncedQueryChange:Se,deletePrevTag:ke,deleteTag:me,deleteSelected:Fe,handleOptionSelect:Ee,scrollToOption:We,readonly:m,resetInputHeight:fe,showClose:S,iconComponent:Y,iconReverse:G,showNewOption:ve,collapseTagSize:se,setSelected:I,managePlaceholder:L,selectDisabled:T,emptyText:A,toggleLastOptionHitState:Ye,resetInputState:lt,handleComposition:qe,onOptionCreate:Qe,onOptionDestroy:pe,handleMenuEnter:ot,handleFocus:ct,blur:je,handleBlur:et,handleClearClick:tt,handleClose:st,handleKeydownEscape:ft,toggleMenu:De,selectOption:E,getValueKey:U,navigateOptions:B,dropMenuVisible:ye,queryChange:d,groupQueryChange:v,showTagList:g,collapseTagList:$,reference:s,input:r,iOSInput:u,tooltipRef:c,tags:p,selectWrapper:C,scrollbar:b,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var dr=be({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:a}){let n=[];function o(s,r){if(s.length!==r.length)return!1;for(const[u]of s.entries())if(s[u]!=r[u])return!1;return!0}return()=>{var s,r;const u=(s=t.default)==null?void 0:s.call(t),c=[];function p(C){Array.isArray(C)&&C.forEach(b=>{var f,d,v,i;const h=(f=(b==null?void 0:b.type)||{})==null?void 0:f.name;h==="ElOptionGroup"?p(!yt(b.children)&&!Array.isArray(b.children)&&Ze((d=b.children)==null?void 0:d.default)?(v=b.children)==null?void 0:v.default():b.children):h==="ElOption"?c.push((i=b.props)==null?void 0:i.label):Array.isArray(b.children)&&p(b.children)})}return u.length&&p((r=u[0])==null?void 0:r.children),o(c,n)||(n=c,a("update-options",c)),u}}});const ba="ElSelect",cr=be({name:ba,componentName:ba,components:{ElInput:bt,ElSelectMenu:rr,ElOption:ta,ElOptions:dr,ElTag:Il,ElScrollbar:Ia,ElTooltip:Xn,ElIcon:Ce},directives:{ClickOutside:Wt},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Ma},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Ll.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:xt,default:ka},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:xt,default:Gn},tagType:{...Al.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Bl,default:"bottom-start"}},emits:[xe,It,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const a=we("select"),n=we("input"),{t:o}=Ge(),s=ir(e),{optionList:r,optionsArray:u,selectSize:c,readonly:p,handleResize:C,collapseTagSize:b,debouncedOnInputChange:f,debouncedQueryChange:d,deletePrevTag:v,deleteTag:i,deleteSelected:h,handleOptionSelect:P,scrollToOption:y,setSelected:m,resetInputHeight:T,managePlaceholder:S,showClose:Y,selectDisabled:G,iconComponent:z,iconReverse:A,showNewOption:R,emptyText:Q,toggleLastOptionHitState:ve,resetInputState:Z,handleComposition:se,onOptionCreate:ye,onOptionDestroy:fe,handleMenuEnter:V,handleFocus:L,blur:k,handleBlur:I,handleClearClick:j,handleClose:D,handleKeydownEscape:x,toggleMenu:J,selectOption:ae,getValueKey:le,navigateOptions:Se,dropMenuVisible:de,reference:ke,input:me,iOSInput:Fe,tooltipRef:Ee,tags:Be,selectWrapper:Te,scrollbar:We,queryChange:Qe,groupQueryChange:pe,handleMouseEnter:lt,handleMouseLeave:Ye,showTagList:qe,collapseTagList:ot}=ur(e,s,t),{focus:ct}=Wl(ke),{inputWidth:je,selected:et,inputLength:tt,filteredOptionsCount:st,visible:ft,selectedLabel:De,hoverIndex:E,query:U,inputHovering:oe,currentPlaceholder:g,menuVisibleOnFocus:$,isOnComposition:B,options:q,cachedOptions:Ae,optionsCount:N,prefixWidth:K,tagInMultiLine:ee}=jt(s),ce=M(()=>{const Ve=[a.b()],pt=l(c);return pt&&Ve.push(a.m(pt)),e.disabled&&Ve.push(a.m("disabled")),Ve}),ue=M(()=>({maxWidth:`${l(je)-32}px`,width:"100%"})),Me=M(()=>({maxWidth:`${l(je)>123?l(je)-123:l(je)-75}px`}));dt(Ut,mt({props:e,options:q,optionsArray:u,cachedOptions:Ae,optionsCount:N,filteredOptionsCount:st,hoverIndex:E,handleOptionSelect:P,onOptionCreate:ye,onOptionDestroy:fe,selectWrapper:Te,selected:et,setSelected:m,queryChange:Qe,groupQueryChange:pe})),rt(()=>{s.cachedPlaceHolder=g.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(g.value=""),Oa(Te,C),e.remote&&e.multiple&&T(),ge(()=>{const Ve=ke.value&&ke.value.$el;if(Ve&&(je.value=Ve.getBoundingClientRect().width,t.slots.prefix)){const pt=Ve.querySelector(`.${n.e("prefix")}`);K.value=Math.max(pt.getBoundingClientRect().width+5,30)}}),m()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(xe,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(xe,"");const gt=M(()=>{var Ve,pt;return(pt=(Ve=Ee.value)==null?void 0:Ve.popperRef)==null?void 0:pt.contentRef});return{isIOS:cl,onOptionsRendered:Ve=>{r.value=Ve},tagInMultiLine:ee,prefixWidth:K,selectSize:c,readonly:p,handleResize:C,collapseTagSize:b,debouncedOnInputChange:f,debouncedQueryChange:d,deletePrevTag:v,deleteTag:i,deleteSelected:h,handleOptionSelect:P,scrollToOption:y,inputWidth:je,selected:et,inputLength:tt,filteredOptionsCount:st,visible:ft,selectedLabel:De,hoverIndex:E,query:U,inputHovering:oe,currentPlaceholder:g,menuVisibleOnFocus:$,isOnComposition:B,options:q,resetInputHeight:T,managePlaceholder:S,showClose:Y,selectDisabled:G,iconComponent:z,iconReverse:A,showNewOption:R,emptyText:Q,toggleLastOptionHitState:ve,resetInputState:Z,handleComposition:se,handleMenuEnter:V,handleFocus:L,blur:k,handleBlur:I,handleClearClick:j,handleClose:D,handleKeydownEscape:x,toggleMenu:J,selectOption:ae,getValueKey:le,navigateOptions:Se,dropMenuVisible:de,focus:ct,reference:ke,input:me,iOSInput:Fe,tooltipRef:Ee,popperPaneRef:gt,tags:Be,selectWrapper:Te,scrollbar:We,wrapperKls:ce,selectTagsStyle:ue,nsSelect:a,tagTextStyle:Me,handleMouseEnter:lt,handleMouseLeave:Ye,showTagList:qe,collapseTagList:ot}}}),fr=["disabled","autocomplete"],pr=["disabled"],hr={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function vr(e,t,a,n,o,s){const r=Ue("el-tag"),u=Ue("el-tooltip"),c=Ue("el-icon"),p=Ue("el-input"),C=Ue("el-option"),b=Ue("el-options"),f=Ue("el-scrollbar"),d=Ue("el-select-menu"),v=fl("click-outside");return Ke((O(),_("div",{ref:"selectWrapper",class:w(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...i)=>e.handleMouseEnter&&e.handleMouseEnter(...i)),onMouseleave:t[22]||(t[22]=(...i)=>e.handleMouseLeave&&e.handleMouseLeave(...i)),onClick:t[23]||(t[23]=Pe((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},[W(u,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:X(()=>[H("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=i=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=i=>e.inputHovering=!1)},[e.multiple?(O(),_("div",{key:0,ref:"tags",class:w([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:He(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(O(),ne(In,{key:0,onAfterLeave:e.resetInputHeight},{default:X(()=>[H("span",{class:w([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(O(!0),_($e,null,Le(e.showTagList,i=>(O(),ne(r,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:h=>e.deleteTag(h,i)},{default:X(()=>[H("span",{class:w(e.nsSelect.e("tags-text")),style:He(e.tagTextStyle)},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(O(),ne(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:X(()=>[e.collapseTagsTooltip?(O(),ne(u,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:X(()=>[H("span",{class:w(e.nsSelect.e("tags-text"))},"+ "+he(e.selected.length-e.maxCollapseTags),3)]),content:X(()=>[H("div",{class:w(e.nsSelect.e("collapse-tags"))},[(O(!0),_($e,null,Le(e.collapseTagList,i=>(O(),_("div",{key:e.getValueKey(i),class:w(e.nsSelect.e("collapse-tag"))},[W(r,{class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:h=>e.deleteTag(h,i)},{default:X(()=>[H("span",{class:w(e.nsSelect.e("tags-text")),style:He({maxWidth:e.inputWidth-75+"px"})},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(O(),_("span",{key:1,class:w(e.nsSelect.e("tags-text"))},"+ "+he(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):te("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):te("v-if",!0),e.collapseTags?te("v-if",!0):(O(),ne(In,{key:1,onAfterLeave:e.resetInputHeight},{default:X(()=>[H("span",{class:w([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(O(!0),_($e,null,Le(e.selected,i=>(O(),ne(r,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:h=>e.deleteTag(h,i)},{default:X(()=>[H("span",{class:w(e.nsSelect.e("tags-text")),style:He({maxWidth:e.inputWidth-75+"px"})},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?Ke((O(),_("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=i=>e.query=i),type:"text",class:w([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:He({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onBlur:t[2]||(t[2]=(...i)=>e.handleBlur&&e.handleBlur(...i)),onKeyup:t[3]||(t[3]=(...i)=>e.managePlaceholder&&e.managePlaceholder(...i)),onKeydown:[t[4]||(t[4]=(...i)=>e.resetInputState&&e.resetInputState(...i)),t[5]||(t[5]=Re(Pe(i=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Re(Pe(i=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Re((...i)=>e.handleKeydownEscape&&e.handleKeydownEscape(...i),["esc"])),t[8]||(t[8]=Re(Pe((...i)=>e.selectOption&&e.selectOption(...i),["stop","prevent"]),["enter"])),t[9]||(t[9]=Re((...i)=>e.deletePrevTag&&e.deletePrevTag(...i),["delete"])),t[10]||(t[10]=Re(i=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:t[12]||(t[12]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:t[13]||(t[13]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onInput:t[14]||(t[14]=(...i)=>e.debouncedQueryChange&&e.debouncedQueryChange(...i))},null,46,fr)),[[pl,e.query]]):te("v-if",!0)],6)):te("v-if",!0),te(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(O(),_("input",{key:1,ref:"iOSInput",class:w([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,pr)):te("v-if",!0),W(p,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=i=>e.selectedLabel=i),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:w([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=Re(Pe(i=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=Re(Pe(i=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Re(Pe(e.selectOption,["stop","prevent"]),["enter"]),Re(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=Re(i=>e.visible=!1,["tab"]))]},hl({suffix:X(()=>[e.iconComponent&&!e.showClose?(O(),ne(c,{key:0,class:w([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:X(()=>[(O(),ne(ut(e.iconComponent)))]),_:1},8,["class"])):te("v-if",!0),e.showClose&&e.clearIcon?(O(),ne(c,{key:1,class:w([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:X(()=>[(O(),ne(ut(e.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:X(()=>[H("div",hr,[Je(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:X(()=>[W(d,null,{default:X(()=>[Ke(W(f,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:w([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:X(()=>[e.showNewOption?(O(),ne(C,{key:0,value:e.query,created:!0},null,8,["value"])):te("v-if",!0),W(b,{onUpdateOptions:e.onOptionsRendered},{default:X(()=>[Je(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[nt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(O(),_($e,{key:0},[e.$slots.empty?Je(e.$slots,"empty",{key:0}):(O(),_("p",{key:1,class:w(e.nsSelect.be("dropdown","empty"))},he(e.emptyText),3))],64)):te("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[v,e.handleClose,e.popperPaneRef]])}var mr=Ie(cr,[["render",vr],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const gr=be({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=we("select"),a=F(!0),n=at(),o=F([]);dt(qa,mt({...jt(e)}));const s=ze(Ut);rt(()=>{o.value=r(n.subTree)});const r=c=>{const p=[];return Array.isArray(c.children)&&c.children.forEach(C=>{var b;C.type&&C.type.name==="ElOption"&&C.component&&C.component.proxy?p.push(C.component.proxy):(b=C.children)!=null&&b.length&&p.push(...r(C))}),p},{groupQueryChange:u}=rn(s);return ie(u,()=>{a.value=o.value.some(c=>c.visible===!0)},{flush:"post"}),{visible:a,ns:t}}});function br(e,t,a,n,o,s){return Ke((O(),_("ul",{class:w(e.ns.be("group","wrap"))},[H("li",{class:w(e.ns.be("group","title"))},he(e.label),3),H("li",null,[H("ul",{class:w(e.ns.b("group"))},[Je(e.$slots,"default")],2)])],2)),[[nt,e.visible]])}var ja=Ie(gr,[["render",br],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const yn=Qn(mr,{Option:ta,OptionGroup:ja}),kn=Pa(ta);Pa(ja);const yr=_e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:xt},inactiveIcon:{type:xt},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Ne(Function)},size:{type:String,validator:Ma},tabindex:{type:[String,Number]}}),kr={[xe]:e=>en(e)||yt(e)||Jt(e),[It]:e=>en(e)||yt(e)||Jt(e),[Bn]:e=>en(e)||yt(e)||Jt(e)},Cr=["onClick"],wr=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Sr=["aria-hidden"],Nr=["aria-hidden"],Dr=["aria-hidden"],Hn="ElSwitch",Or=be({name:Hn}),$r=be({...Or,props:yr,emits:kr,setup(e,{expose:t,emit:a}){const n=e,o=at(),{formItem:s}=Cn(),r=wn(),u=we("switch");$a({from:'"value"',replacement:'"model-value" or "v-model"',scope:Hn,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},M(()=>{var S;return!!((S=o.vnode.props)!=null&&S.value)}));const{inputId:c}=Sa(n,{formItemContext:s}),p=wa(M(()=>n.loading)),C=F(n.modelValue!==!1),b=F(),f=F(),d=M(()=>[u.b(),u.m(r.value),u.is("disabled",p.value),u.is("checked",h.value)]),v=M(()=>({width:An(n.width)}));ie(()=>n.modelValue,()=>{C.value=!0}),ie(()=>n.value,()=>{C.value=!1});const i=M(()=>C.value?n.modelValue:n.value),h=M(()=>i.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(i.value)||(a(xe,n.inactiveValue),a(It,n.inactiveValue),a(Bn,n.inactiveValue)),ie(h,S=>{var Y;b.value.checked=S,n.validateEvent&&((Y=s==null?void 0:s.validate)==null||Y.call(s,"change").catch(G=>Tt()))});const P=()=>{const S=h.value?n.inactiveValue:n.activeValue;a(xe,S),a(It,S),a(Bn,S),ge(()=>{b.value.checked=h.value})},y=()=>{if(p.value)return;const{beforeChange:S}=n;if(!S){P();return}const Y=S();[la(Y),en(Y)].includes(!0)||vl(Hn,"beforeChange must return type `Promise<boolean>` or `boolean`"),la(Y)?Y.then(z=>{z&&P()}).catch(z=>{}):Y&&P()},m=M(()=>u.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),T=()=>{var S,Y;(Y=(S=b.value)==null?void 0:S.focus)==null||Y.call(S)};return rt(()=>{b.value.checked=h.value}),t({focus:T,checked:h}),(S,Y)=>(O(),_("div",{class:w(l(d)),style:He(l(m)),onClick:Pe(y,["prevent"])},[H("input",{id:l(c),ref_key:"input",ref:b,class:w(l(u).e("input")),type:"checkbox",role:"switch","aria-checked":l(h),"aria-disabled":l(p),name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:l(p),tabindex:S.tabindex,onChange:P,onKeydown:Re(y,["enter"])},null,42,wr),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(O(),_("span",{key:0,class:w([l(u).e("label"),l(u).em("label","left"),l(u).is("active",!l(h))])},[S.inactiveIcon?(O(),ne(l(Ce),{key:0},{default:X(()=>[(O(),ne(ut(S.inactiveIcon)))]),_:1})):te("v-if",!0),!S.inactiveIcon&&S.inactiveText?(O(),_("span",{key:1,"aria-hidden":l(h)},he(S.inactiveText),9,Sr)):te("v-if",!0)],2)):te("v-if",!0),H("span",{ref_key:"core",ref:f,class:w(l(u).e("core")),style:He(l(v))},[S.inlinePrompt?(O(),_("div",{key:0,class:w(l(u).e("inner"))},[S.activeIcon||S.inactiveIcon?(O(),ne(l(Ce),{key:0,class:w(l(u).is("icon"))},{default:X(()=>[(O(),ne(ut(l(h)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(O(),_("span",{key:1,class:w(l(u).is("text")),"aria-hidden":!l(h)},he(l(h)?S.activeText:S.inactiveText),11,Nr)):te("v-if",!0)],2)):te("v-if",!0),H("div",{class:w(l(u).e("action"))},[S.loading?(O(),ne(l(Ce),{key:0,class:w(l(u).is("loading"))},{default:X(()=>[W(l(Ea))]),_:1},8,["class"])):te("v-if",!0)],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(O(),_("span",{key:1,class:w([l(u).e("label"),l(u).em("label","right"),l(u).is("active",l(h))])},[S.activeIcon?(O(),ne(l(Ce),{key:0},{default:X(()=>[(O(),ne(ut(S.activeIcon)))]),_:1})):te("v-if",!0),!S.activeIcon&&S.activeText?(O(),_("span",{key:1,"aria-hidden":!l(h)},he(S.activeText),9,Dr)):te("v-if",!0)],2)):te("v-if",!0)],14,Cr))}});var Mr=Ie($r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Pr=Qn(Mr),Et="$treeNodeId",ya=function(e,t){!t||t[Et]||Object.defineProperty(t,Et,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},na=function(e,t){return e?t[e]:t[Et]},xn=(e,t,a)=>{const n=e.value.currentNode;a();const o=e.value.currentNode;n!==o&&t("current-change",o?o.data:null,o)},Wn=e=>{let t=!0,a=!0,n=!0;for(let o=0,s=e.length;o<s;o++){const r=e[o];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(n=!1)),(r.checked!==!1||r.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},an=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:a,half:n}=Wn(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||an(o)},Xt=function(e,t){const a=e.store.props,n=e.data||{},o=a[t];if(typeof o=="function")return o(n,e);if(typeof o=="string")return n[o];if(typeof o>"u"){const s=n[t];return s===void 0?"":s}};let Er=0;class Dt{constructor(t){this.id=Er++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)zt(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf<"u"){const s=Xt(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||ya(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,o=t.key;o&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||ya(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=Xt(this,"children")||[];for(let n=0,o=a.length;n<o;n++)this.insertChild({data:a[n]})}get label(){return Xt(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Xt(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(n=>n===t||a&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Dt)){if(!n){const o=this.getChildren(!0);o.includes(t.data)||(typeof a>"u"||a<0?o.push(t.data):o.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=mt(new Dt(t)),t instanceof Dt&&t.initialize()}t.level=this.level+1,typeof a>"u"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let n;a&&(n=this.childNodes.indexOf(a)),this.insertChild(t,n)}insertAfter(t,a){let n;a&&(n=this.childNodes.indexOf(a),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const a=this.getChildren()||[],n=a.indexOf(t.data);n>-1&&a.splice(n,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){a=this.childNodes[n];break}a&&this.removeChild(a)}expand(t,a){const n=()=>{if(a){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||an(this),n())}):n()}doCreateChildren(t,a={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,n,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:u}=Wn(this.childNodes);!this.isLeaf&&!r&&u&&(this.checked=!1,t=!1);const c=()=>{if(a){const p=this.childNodes;for(let f=0,d=p.length;f<d;f++){const v=p[f];o=o||t!==!1;const i=v.disabled?v.checked:o;v.setChecked(i,a,!0,o)}const{half:C,all:b}=Wn(p);b||(this.checked=b,this.indeterminate=C)}};if(this.shouldLoadData()){this.loadData(()=>{c(),an(this)},{checked:t!==!1});return}else c()}const s=this.parent;!s||s.level===0||n||an(s)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const n=this.store.props;let o="children";return n&&(o=n.children||"children"),a[o]===void 0&&(a[o]=null),t&&!a[o]&&(a[o]=[]),a[o]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(s=>s.data),n={},o=[];t.forEach((s,r)=>{const u=s[Et];!!u&&a.findIndex(p=>p[Et]===u)>=0?n[u]={index:r,data:s}:o.push({index:r,data:s})}),this.store.lazy||a.forEach(s=>{n[s[Et]]||this.removeChildByData(s)}),o.forEach(({index:s,data:r})=>{this.insertChild({data:r},s)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const n=o=>{this.childNodes=[],this.doCreateChildren(o,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,n)}else t&&t.call(this)}}class Tr{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)zt(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){if(this.root=new Dt({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,n=this.lazy,o=function(s){const r=s.root?s.root.childNodes:s.childNodes;if(r.forEach(u=>{u.visible=a.call(u,t,u.data,u),o(u)}),!s.visible&&r.length){let u=!0;u=!r.some(c=>c.visible),s.root?s.root.visible=u===!1:s.visible=u===!1}t&&s.visible&&!s.isLeaf&&!n&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof Dt)return t;const a=Ln(t)?na(this.key,t):t;return this.nodesMap[a]||null}insertBefore(t,a){const n=this.getNode(a);n.parent.insertBefore({data:t},n)}insertAfter(t,a){const n=this.getNode(a);n.parent.insertAfter({data:t},n)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const n=a?this.getNode(a):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(n=>{const o=a[n];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const n=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(u=>{(u.checked||a&&u.indeterminate)&&(!t||t&&u.isLeaf)&&n.push(u.data),o(u)})};return o(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),a(s)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const n in a)zt(a,n)&&t.push(a[n]);return t}updateChildren(t,a){const n=this.nodesMap[t];if(!n)return;const o=n.childNodes;for(let s=o.length-1;s>=0;s--){const r=o[s];this.remove(r.data)}for(let s=0,r=a.length;s<r;s++){const u=a[s];this.append(u,n.data)}}_setCheckedKeys(t,a=!1,n){const o=this._getAllNodes().sort((u,c)=>c.level-u.level),s=Object.create(null),r=Object.keys(n);o.forEach(u=>u.setChecked(!1,!1));for(let u=0,c=o.length;u<c;u++){const p=o[u],C=p.data[t].toString();if(!r.includes(C)){p.checked&&!s[C]&&p.setChecked(!1,!1);continue}let f=p.parent;for(;f&&f.level>0;)s[f.data[t]]=!0,f=f.parent;if(p.isLeaf||this.checkStrictly){p.setChecked(!0,!1);continue}if(p.setChecked(!0,!0),a){p.setChecked(!1,!1);const d=function(v){v.childNodes.forEach(h=>{h.isLeaf||h.setChecked(!1,!1),d(h)})};d(p)}}}setCheckedNodes(t,a=!1){const n=this.key,o={};t.forEach(s=>{o[(s||{})[n]]=!0}),this._setCheckedKeys(n,a,o)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const n=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(n,a,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const n=this.getNode(a);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,a,n){const o=this.getNode(t);o&&o.setChecked(!!a,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const n=t[this.key],o=this.nodesMap[n];this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Vr=be({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=we("tree"),a=ze("NodeInstance"),n=ze("RootTree");return()=>{const o=e.node,{data:s,store:r}=o;return e.renderContent?e.renderContent(Ft,{_self:a,node:o,data:s,store:r}):n.ctx.slots.default?n.ctx.slots.default({node:o,data:s}):Ft("span",{class:t.be("node","label")},[o.label])}}});var Ir=Ie(Vr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Ua(e){const t=ze("TreeNodeMap",null),a={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(a),dt("TreeNodeMap",a),{broadcastExpanded:n=>{if(e.accordion)for(const o of a.children)o.treeNodeExpand(n)}}}const Ga=Symbol("dragEvents");function Ar({props:e,ctx:t,el$:a,dropIndicator$:n,store:o}){const s=we("tree"),r=F({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return dt(Ga,{treeNodeDragStart:({event:C,treeNode:b})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(b.node))return C.preventDefault(),!1;C.dataTransfer.effectAllowed="move";try{C.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=b,t.emit("node-drag-start",b.node,C)},treeNodeDragOver:({event:C,treeNode:b})=>{const f=b,d=r.value.dropNode;d&&d.node.id!==f.node.id&&On(d.$el,s.is("drop-inner"));const v=r.value.draggingNode;if(!v||!f)return;let i=!0,h=!0,P=!0,y=!0;typeof e.allowDrop=="function"&&(i=e.allowDrop(v.node,f.node,"prev"),y=h=e.allowDrop(v.node,f.node,"inner"),P=e.allowDrop(v.node,f.node,"next")),C.dataTransfer.dropEffect=h||i||P?"move":"none",(i||h||P)&&(d==null?void 0:d.node.id)!==f.node.id&&(d&&t.emit("node-drag-leave",v.node,d.node,C),t.emit("node-drag-enter",v.node,f.node,C)),(i||h||P)&&(r.value.dropNode=f),f.node.nextSibling===v.node&&(P=!1),f.node.previousSibling===v.node&&(i=!1),f.node.contains(v.node,!1)&&(h=!1),(v.node===f.node||v.node.contains(f.node))&&(i=!1,h=!1,P=!1);const m=f.$el.getBoundingClientRect(),T=a.value.getBoundingClientRect();let S;const Y=i?h?.25:P?.45:1:-1,G=P?h?.75:i?.55:0:1;let z=-9999;const A=C.clientY-m.top;A<m.height*Y?S="before":A>m.height*G?S="after":h?S="inner":S="none";const R=f.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),Q=n.value;S==="before"?z=R.top-T.top:S==="after"&&(z=R.bottom-T.top),Q.style.top=`${z}px`,Q.style.left=`${R.right-T.left}px`,S==="inner"?ml(f.$el,s.is("drop-inner")):On(f.$el,s.is("drop-inner")),r.value.showDropIndicator=S==="before"||S==="after",r.value.allowDrop=r.value.showDropIndicator||y,r.value.dropType=S,t.emit("node-drag-over",v.node,f.node,C)},treeNodeDragEnd:C=>{const{draggingNode:b,dropType:f,dropNode:d}=r.value;if(C.preventDefault(),C.dataTransfer.dropEffect="move",b&&d){const v={data:b.node.data};f!=="none"&&b.node.remove(),f==="before"?d.node.parent.insertBefore(v,d.node):f==="after"?d.node.parent.insertAfter(v,d.node):f==="inner"&&d.node.insertChild(v),f!=="none"&&o.value.registerNode(v),On(d.$el,s.is("drop-inner")),t.emit("node-drag-end",b.node,d.node,f,C),f!=="none"&&t.emit("node-drop",b.node,d.node,f,C)}b&&!d&&t.emit("node-drag-end",b.node,null,f,C),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Kr=be({name:"ElTreeNode",components:{ElCollapseTransition:Yl,ElCheckbox:$l,NodeContent:Ir,ElIcon:Ce,Loading:Ea},props:{node:{type:Dt,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=we("tree"),{broadcastExpanded:n}=Ua(e),o=ze("RootTree"),s=F(!1),r=F(!1),u=F(null),c=F(null),p=F(null),C=ze(Ga),b=at();dt("NodeInstance",b),e.node.expanded&&(s.value=!0,r.value=!0);const f=o.props.children||"children";ie(()=>{const A=e.node.data[f];return A&&[...A]},()=>{e.node.updateChildren()}),ie(()=>e.node.indeterminate,A=>{i(e.node.checked,A)}),ie(()=>e.node.checked,A=>{i(A,e.node.indeterminate)}),ie(()=>e.node.expanded,A=>{ge(()=>s.value=A),A&&(r.value=!0)});const d=A=>na(o.props.nodeKey,A.data),v=A=>{const R=e.props.class;if(!R)return{};let Q;if(Ze(R)){const{data:ve}=A;Q=R(ve,A)}else Q=R;return yt(Q)?{[Q]:!0}:Q},i=(A,R)=>{(u.value!==A||c.value!==R)&&o.ctx.emit("check-change",e.node.data,A,R),u.value=A,c.value=R},h=A=>{xn(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&y(),o.props.checkOnClickNode&&!e.node.disabled&&m(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,b,A)},P=A=>{o.instance.vnode.props.onNodeContextmenu&&(A.stopPropagation(),A.preventDefault()),o.ctx.emit("node-contextmenu",A,e.node.data,e.node,b)},y=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,b),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,b)))},m=(A,R)=>{e.node.setChecked(R.target.checked,!o.props.checkStrictly),ge(()=>{const Q=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:Q.getCheckedNodes(),checkedKeys:Q.getCheckedKeys(),halfCheckedNodes:Q.getHalfCheckedNodes(),halfCheckedKeys:Q.getHalfCheckedKeys()})})};return{ns:a,node$:p,tree:o,expanded:s,childNodeRendered:r,oldChecked:u,oldIndeterminate:c,getNodeKey:d,getNodeClass:v,handleSelectChange:i,handleClick:h,handleContextMenu:P,handleExpandIconClick:y,handleCheckChange:m,handleChildNodeExpand:(A,R,Q)=>{n(R),o.ctx.emit("node-expand",A,R,Q)},handleDragStart:A=>{o.props.draggable&&C.treeNodeDragStart({event:A,treeNode:e})},handleDragOver:A=>{A.preventDefault(),o.props.draggable&&C.treeNodeDragOver({event:A,treeNode:{$el:p.value,node:e.node}})},handleDrop:A=>{A.preventDefault()},handleDragEnd:A=>{o.props.draggable&&C.treeNodeDragEnd(A)},CaretRight:gl}}}),Lr=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Br=["aria-expanded"];function Rr(e,t,a,n,o,s){const r=Ue("el-icon"),u=Ue("el-checkbox"),c=Ue("loading"),p=Ue("node-content"),C=Ue("el-tree-node"),b=Ue("el-collapse-transition");return Ke((O(),_("div",{ref:"node$",class:w([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=Pe((...f)=>e.handleClick&&e.handleClick(...f),["stop"])),onContextmenu:t[2]||(t[2]=(...f)=>e.handleContextMenu&&e.handleContextMenu(...f)),onDragstart:t[3]||(t[3]=Pe((...f)=>e.handleDragStart&&e.handleDragStart(...f),["stop"])),onDragover:t[4]||(t[4]=Pe((...f)=>e.handleDragOver&&e.handleDragOver(...f),["stop"])),onDragend:t[5]||(t[5]=Pe((...f)=>e.handleDragEnd&&e.handleDragEnd(...f),["stop"])),onDrop:t[6]||(t[6]=Pe((...f)=>e.handleDrop&&e.handleDrop(...f),["stop"]))},[H("div",{class:w(e.ns.be("node","content")),style:He({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(O(),ne(r,{key:0,class:w([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Pe(e.handleExpandIconClick,["stop"])},{default:X(()=>[(O(),ne(ut(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):te("v-if",!0),e.showCheckbox?(O(),ne(u,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=Pe(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):te("v-if",!0),e.node.loading?(O(),ne(r,{key:2,class:w([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:X(()=>[W(c)]),_:1},8,["class"])):te("v-if",!0),W(p,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),W(b,null,{default:X(()=>[!e.renderAfterExpand||e.childNodeRendered?Ke((O(),_("div",{key:0,class:w(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(O(!0),_($e,null,Le(e.node.childNodes,f=>(O(),ne(C,{key:e.getNodeKey(f),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:f,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Br)),[[nt,e.expanded]]):te("v-if",!0)]),_:1})],42,Lr)),[[nt,e.node.visible]])}var Fr=Ie(Kr,[["render",Rr],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Yr({el$:e},t){const a=we("tree"),n=Vt([]),o=Vt([]);rt(()=>{r()}),bl(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),ie(o,u=>{u.forEach(c=>{c.setAttribute("tabindex","-1")})}),yl(e,"keydown",u=>{const c=u.target;if(!c.className.includes(a.b("node")))return;const p=u.code;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const C=n.value.indexOf(c);let b;if([Oe.up,Oe.down].includes(p)){if(u.preventDefault(),p===Oe.up){b=C===-1?0:C!==0?C-1:n.value.length-1;const d=b;for(;!t.value.getNode(n.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=n.value.length-1)}}else{b=C===-1?0:C<n.value.length-1?C+1:0;const d=b;for(;!t.value.getNode(n.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=n.value.length&&(b=0)}}b!==-1&&n.value[b].focus()}[Oe.left,Oe.right].includes(p)&&(u.preventDefault(),c.click());const f=c.querySelector('[type="checkbox"]');[Oe.enter,Oe.space].includes(p)&&f&&(u.preventDefault(),f.click())});const r=()=>{var u;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const c=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(c.length){c[0].setAttribute("tabindex","0");return}(u=n.value[0])==null||u.setAttribute("tabindex","0")}}const zr=be({name:"ElTree",components:{ElTreeNode:Fr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:xt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=Ge(),n=we("tree"),o=F(new Tr({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=F(o.value.root),r=F(null),u=F(null),c=F(null),{broadcastExpanded:p}=Ua(e),{dragState:C}=Ar({props:e,ctx:t,el$:u,dropIndicator$:c,store:o});Yr({el$:u},o);const b=M(()=>{const{childNodes:V}=s.value;return!V||V.length===0||V.every(({visible:L})=>!L)});ie(()=>e.currentNodeKey,V=>{o.value.setCurrentNodeKey(V)}),ie(()=>e.defaultCheckedKeys,V=>{o.value.setDefaultCheckedKey(V)}),ie(()=>e.defaultExpandedKeys,V=>{o.value.setDefaultExpandedKeys(V)}),ie(()=>e.data,V=>{o.value.setData(V)},{deep:!0}),ie(()=>e.checkStrictly,V=>{o.value.checkStrictly=V});const f=V=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(V)},d=V=>na(e.nodeKey,V.data),v=V=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const L=o.value.getNode(V);if(!L)return[];const k=[L.data];let I=L.parent;for(;I&&I!==s.value;)k.push(I.data),I=I.parent;return k.reverse()},i=(V,L)=>o.value.getCheckedNodes(V,L),h=V=>o.value.getCheckedKeys(V),P=()=>{const V=o.value.getCurrentNode();return V?V.data:null},y=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const V=P();return V?V[e.nodeKey]:null},m=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(V,L)},T=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(V,L)},S=(V,L,k)=>{o.value.setChecked(V,L,k)},Y=()=>o.value.getHalfCheckedNodes(),G=()=>o.value.getHalfCheckedKeys(),z=(V,L=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");xn(o,t.emit,()=>o.value.setUserCurrentNode(V,L))},A=(V,L=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");xn(o,t.emit,()=>o.value.setCurrentNodeKey(V,L))},R=V=>o.value.getNode(V),Q=V=>{o.value.remove(V)},ve=(V,L)=>{o.value.append(V,L)},Z=(V,L)=>{o.value.insertBefore(V,L)},se=(V,L)=>{o.value.insertAfter(V,L)},ye=(V,L,k)=>{p(L),t.emit("node-expand",V,L,k)},fe=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(V,L)};return dt("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:r,instance:at()}),dt(kl,void 0),{ns:n,store:o,root:s,currentNode:r,dragState:C,el$:u,dropIndicator$:c,isEmpty:b,filter:f,getNodeKey:d,getNodePath:v,getCheckedNodes:i,getCheckedKeys:h,getCurrentNode:P,getCurrentKey:y,setCheckedNodes:m,setCheckedKeys:T,setChecked:S,getHalfCheckedNodes:Y,getHalfCheckedKeys:G,setCurrentNode:z,setCurrentKey:A,t:a,getNode:R,remove:Q,append:ve,insertBefore:Z,insertAfter:se,handleNodeExpand:ye,updateKeyChildren:fe}}});function _r(e,t,a,n,o,s){const r=Ue("el-tree-node");return O(),_("div",{ref:"el$",class:w([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(O(!0),_($e,null,Le(e.root.childNodes,u=>(O(),ne(r,{key:e.getNodeKey(u),node:u,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(O(),_("div",{key:0,class:w(e.ns.e("empty-block"))},[Je(e.$slots,"empty",{},()=>{var u;return[H("span",{class:w(e.ns.e("empty-text"))},he((u=e.emptyText)!=null?u:e.t("el.tree.emptyText")),3)]})],2)):te("v-if",!0),Ke(H("div",{ref:"dropIndicator$",class:w(e.ns.e("drop-indicator"))},null,2),[[nt,e.dragState.showDropIndicator]])],2)}var ln=Ie(zr,[["render",_r],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ln.install=e=>{e.component(ln.name,ln)};const qn=ln,Hr=(e,{attrs:t},{tree:a,key:n})=>{const o=we("tree-select"),s={...dn(jt(e),Object.keys(yn.props)),...t,valueKey:n,popperClass:M(()=>{const r=[o.e("popper")];return e.popperClass&&r.push(e.popperClass),r.join(" ")}),filterMethod:(r="")=>{e.filterMethod&&e.filterMethod(r),ge(()=>{var u;(u=a.value)==null||u.filter(r)})},onVisibleChange:r=>{var u;(u=t.onVisibleChange)==null||u.call(t,r),e.filterable&&r&&s.filterMethod()}};return s},xr=be({extends:kn,setup(e,t){const a=kn.setup(e,t);delete a.selectOptionClick;const n=at().proxy;return ge(()=>{a.select.cachedOptions.get(n.value)||a.select.onOptionCreate(n)}),a},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function jn(e){return e||e===0}function aa(e){return Array.isArray(e)&&e.length}function Rt(e){return Array.isArray(e)?e:jn(e)?[e]:[]}function on(e,t,a,n,o){for(let s=0;s<e.length;s++){const r=e[s];if(t(r,s,e,o))return n?n(r,s,e,o):r;{const u=a(r);if(aa(u)){const c=on(u,t,a,n,r);if(c)return c}}}}function Qa(e,t,a,n){for(let o=0;o<e.length;o++){const s=e[o];t(s,o,e,n);const r=a(s);aa(r)&&Qa(r,t,a,s)}}const Wr=(e,{attrs:t,slots:a,emit:n},{select:o,tree:s,key:r})=>{ie(()=>e.modelValue,()=>{e.showCheckbox&&ge(()=>{const f=s.value;f&&!un(f.getCheckedKeys(),Rt(e.modelValue))&&f.setCheckedKeys(Rt(e.modelValue))})},{immediate:!0,deep:!0});const u=M(()=>({value:r.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),c=(f,d)=>{var v;const i=u.value[f];return Ze(i)?i(d,(v=s.value)==null?void 0:v.getNode(c("value",d))):d[i]},p=Rt(e.modelValue).map(f=>on(e.data||[],d=>c("value",d)===f,d=>c("children",d),(d,v,i,h)=>h&&c("value",h))).filter(f=>jn(f)),C=M(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const f=[];return Qa(e.data.concat(e.cacheData),d=>{const v=c("value",d);f.push({value:v,currentLabel:c("label",d),isDisabled:c("disabled",d)})},d=>c("children",d)),f}),b=M(()=>C.value.reduce((f,d)=>({...f,[d.value]:d}),{}));return{...dn(jt(e),Object.keys(qn.props)),...t,nodeKey:r,expandOnClickNode:M(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:M(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(p):p),renderContent:(f,{node:d,data:v,store:i})=>f(xr,{value:c("value",v),label:c("label",v),disabled:c("disabled",v)},e.renderContent?()=>e.renderContent(f,{node:d,data:v,store:i}):a.default?()=>a.default({node:d,data:v,store:i}):void 0),filterNodeMethod:(f,d,v)=>{var i;return e.filterNodeMethod?e.filterNodeMethod(f,d,v):f?(i=c("label",d))==null?void 0:i.includes(f):!0},onNodeClick:(f,d,v)=>{var i,h,P;if((i=t.onNodeClick)==null||i.call(t,f,d,v),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||d.isLeaf)){if(!c("disabled",f)){const y=(h=o.value)==null?void 0:h.options.get(c("value",f));(P=o.value)==null||P.handleOptionSelect(y)}}else e.expandOnClickNode&&v.proxy.handleExpandIconClick()},onCheck:(f,d)=>{if(!e.showCheckbox)return;const v=c("value",f),i=d.checkedKeys,h=e.multiple?Rt(e.modelValue).filter(y=>y in b.value&&!s.value.getNode(y)&&!i.includes(y)):[],P=i.concat(h);if(e.checkStrictly)n(xe,e.multiple?P:P.includes(v)?v:void 0);else if(e.multiple)n(xe,s.value.getCheckedKeys(!0));else{const y=on([f],S=>!aa(c("children",S))&&!c("disabled",S),S=>c("children",S)),m=y?c("value",y):void 0,T=jn(e.modelValue)&&!!on([f],S=>c("value",S)===e.modelValue,S=>c("children",S));n(xe,m===e.modelValue||T?void 0:m)}ge(()=>{var y;const m=Rt(e.modelValue);s.value.setCheckedKeys(m),(y=t.onCheck)==null||y.call(t,f,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})})},cacheOptions:C}};var qr=be({props:{data:{type:Array,default:()=>[]}},setup(e){const t=ze(Ut);return ie(()=>e.data,()=>{var a;e.data.forEach(o=>{t.cachedOptions.has(o.value)||t.cachedOptions.set(o.value,o)});const n=((a=t.selectWrapper)==null?void 0:a.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const jr=be({name:"ElTreeSelect",inheritAttrs:!1,props:{...yn.props,...qn.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:a,expose:n}=t,o=F(),s=F(),r=M(()=>e.nodeKey||e.valueKey||"value"),u=Hr(e,t,{select:o,tree:s,key:r}),{cacheOptions:c,...p}=Wr(e,t,{select:o,tree:s,key:r}),C=mt({});return n(C),rt(()=>{Object.assign(C,{...dn(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...dn(o.value,["focus","blur"])})}),()=>Ft(yn,mt({...u,ref:b=>o.value=b}),{...a,default:()=>[Ft(qr,{data:c.value}),Ft(qn,mt({...p,ref:b=>s.value=b}))]})}});var sn=Ie(jr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);sn.install=e=>{e.component(sn.name,sn)};const Ur=sn,Gr=Ur,Qr={model:{type:Object,default:{}},inline:{type:Boolean},labelWidth:{type:[Number,String],default:"100px"},labelPosition:{type:String},size:{type:String},hideRequiredAsterisk:{type:Boolean},disabled:{type:Boolean}},Xa={columns:{type:Array,default:()=>[]},rowProps:{type:Object,default:()=>{}},colProps:{type:Object,default:()=>{}}},Xr=Object.assign({},Qr,Xa);const Zr={modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},valueKey:{type:String,default:"value"},remote:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1}},Za={labelInValue:{type:Boolean,default:!1},text:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},options:{type:Array,default:()=>[]},valueObject:{type:Boolean,default:!1},maxTagCount:{type:Number,default:2},maxTagPlaceholder:{type:Function},modelLabel:{type:[Array,String,Number,Boolean,Object],default:void 0},api:{type:Function},init:{type:Boolean,default:!0},params:{type:Object},tree:{type:Boolean,default:!1}},Jr=Object.assign({},Zr,Za);function ei(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!wl(e)}const ti=be({props:Jr,emits:["update:modelValue","update:modelLabel","change"],name:"BaseSelect",setup(e,{attrs:t,emit:a,slots:n}){const o=Rn(e,"modelValue",a,{defaultValue:""}),s=Rn(e,"modelLabel",a,{defaultValue:""}),r=F(),u=F(e.options),c=M(()=>({...{...Ta(e,Object.keys(Za))},...t,collapseTags:!1}));rt(()=>{e.multiple&&f(),e.init&&b()});const p=y=>{var R;const{labelInValue:m,labelKey:T,valueKey:S,multiple:Y,valueObject:G}=e;let z=oa(y)?y:[y];G&&(z=z.map(Q=>Q[S]));const A=l(u).filter(Q=>z.includes(Q[S]));if(s.value=Y?A==null?void 0:A.map(Q=>Q[T]):(R=A[0])==null?void 0:R[T],m){a("change",Y?A||[]:A[0]||{});return}a("change",y)},C=async y=>{y&&l(u).length===0&&b()},b=async()=>{var S;const{params:y,api:m}=e;if(!Va(m))return;const T=await m(y);u.value=((S=T.data)==null?void 0:S.list)||T.data},f=()=>{var m,T;if(!l(r))return;const y=document.createElement("span");y.style.display="none",y.className="el-tag el-tag--info el-tag--default el-tag--light el-tag-max-count",(T=(m=l(r).$refs.tags)==null?void 0:m.children)==null||T[0].appendChild(y)},d=()=>{ge(()=>{var T,S;if(!l(r))return;const{maxTagCount:y,maxTagPlaceholder:m}=e;Array.from(((S=(T=l(r).$refs.tags)==null?void 0:T.children)==null?void 0:S[0].children)||[]).filter(Y=>{if(Y.className.includes("el-tag-max-count")){const G=l(o);return G.length>y?(Y.style.display="inline-flex",Y.innerHTML=`<span class="el-tag__content"><span class="el-select__tags-text">
                                    ${m?m(G.length-y):`+${G.length-y}`}
                                    </span></span>`):Y.style.display="none",!1}return!0}).forEach((Y,G)=>{G>=y?Y.style.display="none":Y.style.display="inline-flex"})})},v=()=>{const{valueObject:y,modelValue:m,valueKey:T,labelKey:S}=e;let Y=[];const G=oa(m)?m:[m];return y?Y=G.map(z=>z[S]):G.forEach(z=>{const A=l(u).find(R=>R[T]===z);Y.push(A?A[S]:z)}),W("span",null,[Y.join()])},i=()=>{let y;return W(yn,ht({ref:r},c.value,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,onChange:p,"onVisible-change":C}),ei(y=P())?y:{default:()=>[y]})},h=()=>W(Gr,ht({ref:r},c.value,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,"check-strictly":!0,"default-expand-all":!0,"onVisible-change":C,data:u.value}),null),P=()=>{const{valueKey:y,labelKey:m,valueObject:T,modelValue:S,modelLabel:Y,multiple:G}=e;if(n.default)return n.default();const z=l(u).map(A=>W(kn,{key:A[y],label:A[m],value:T?A:A[y],disabled:A.disabled},{default:()=>{var R;return[(R=n.option)==null?void 0:R.call(n,{scope:A})]}}));return!G&&!T&&!Cl(S)&&(l(u).length===0||!l(u).find(A=>A[y]===S))&&z.push(W(kn,{label:Y,value:S},null)),z};return()=>{const{text:y,tree:m,multiple:T}=e;return T&&d(),y?v():m?h():i()}}});const ni=be({name:"BaseDatePicker",__name:"index",props:{modelValue:[String,Number,Array,Date],startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},format:{type:String,default:"YYYY/MM/DD"},valueFormat:{type:String,default:"YYYY-MM-DD"},rangeSeparator:{type:String,default:"~"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=Rn(a,"modelValue",t,{passive:!0}),o=Sn(),s=M(()=>({...a,...o}));return(r,u)=>{const c=tr;return O(),ne(c,ht({modelValue:l(n),"onUpdate:modelValue":u[0]||(u[0]=p=>Sl(n)?n.value=p:null)},l(s)),null,16,["modelValue"])}}});var ai=(e=>(e.INPUT="input",e.NUMBER="number",e.DATE="date",e.SWITCH="switch",e.SELECT="select",e.TREE_SELECT="tree-select",e.TAG="tag",e.SLOT="slot",e.OPERATION="operation",e.TINYMCE="tinymce",e.VDITOR="vditor",e.ICON="icon",e.COLOR="color",e))(ai||{});const wt=new Map;wt.set("input",Vl);wt.set("number",zl);wt.set("select",ti);wt.set("switch",Pr);wt.set("icon",_l);wt.set("date",ni);wt.set("color",_o);const vi=be({name:"BaseForm",__name:"index",props:Xr,setup(e,{expose:t}){const a=e,n=Sn(),o=F(),s=M(()=>({...{...Ta(a,Object.keys(Xa))},...n})),r=M(()=>{const{columns:u,model:c}=a;return u.filter(p=>Va(p.show)?p.show({model:c,columns:u}):Nl(p.show)?p.show:Dl(p.active)||p.active)});return t({instance:o}),(u,c)=>{const p=Ml,C=El,b=Tl,f=Pl;return O(),ne(f,ht({model:u.model},l(s),{onSubmit:c[0]||(c[0]=Pe(()=>{},["prevent"])),ref_key:"baseFormRef",ref:o}),{default:X(()=>[W(b,ht(u.rowProps,{gutter:0,class:"overflow-hidden"}),{default:X(()=>[(O(!0),_($e,null,Le(l(r),d=>(O(),ne(C,ht({key:d.fieldName},d.colProps||u.colProps),{default:X(()=>[W(p,ht({label:d.fieldDesc,prop:d.fieldName,class:"w-full"},d),{default:X(()=>[d.fieldType!=="slot"?(O(),ne(ut(l(wt).get(d.fieldType)),ht({key:0,modelValue:u.model[d.fieldName],"onUpdate:modelValue":v=>u.model[d.fieldName]=v},d.config,{class:"w-full"}),null,16,["modelValue","onUpdate:modelValue"])):Je(u.$slots,d.fieldName,{key:1,item:d})]),_:2},1040,["label","prop"])]),_:2},1040))),128))]),_:3},16),Je(u.$slots,"action")]),_:3},16,["model"])}}});export{_o as E,ai as F,vi as _};
