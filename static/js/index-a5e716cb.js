import{a as V,_ as w}from"./base-table-e479e3a9.js";import{a as B,Y as N,l as y,o as r,e as h,s as n,t as s,z as $,aa as P,ab as k,g as m,r as _,a3 as x,q as H,F as j,x as M,f as C,bU as O,A as U,bc as D}from"./index-ed5c6bde.js";import{E as q}from"./el-space-f8bc1e23.js";import{E as A}from"./el-popper-41cbb7e4.js";import{_ as I}from"./index-19ca99ba.js";import{_ as Y}from"./index-1b659b62.js";import{c as G,b as J}from"./index-a65f35ce.js";import{u as K}from"./useTagViewSetting-e442b321.js";const L={class:"base-page-table-container"},Q={key:0,class:"mb-4"},W={class:"flex items-center justify-between"},X=B({__name:"index",props:{tableTitle:{type:String,default:""},filterConfig:{type:Object},tableConfig:{type:Object}},emits:["refresh"],setup(t,{emit:F}){const p=t,R=N(),{getTagFullscreen:T}=K(),b=y(),v=y(0),z=()=>{var u;const e=C(T)?37:85,o=20,a=16,c=((u=C(b))==null?void 0:u.instance.offsetHeight)||0,f=20,l=R.buttons?101:54,g=p.tableConfig.showPagination===!1?0:40,d=e+c+l+f+g+o+a;v.value=`calc(100vh - ${d}px)`},S=()=>{var e,o,a;O((e=p.tableConfig)==null?void 0:e.onRefresh)&&((a=(o=p.tableConfig).onRefresh)==null||a.call(o)),F("refresh")};return G(b,J(()=>{z()},100)),(e,o)=>{const a=Y,c=I,f=U,l=A,g=V,d=q,u=w;return r(),h("div",L,[n(c,{class:"base-page-filter",ref_key:"baseFilterRef",ref:b},{default:s(()=>[e.$slots.filter?m("",!0):(r(),$(a,P(k({key:0},t.filterConfig)),null,16)),_(e.$slots,"filter",{},void 0,!0)]),_:3},512),n(c,{class:"base-page-table"},{title:s(()=>[e.$slots.buttons?(r(),h("div",Q,x(t.tableTitle),1)):m("",!0),H("div",W,[H("div",null,[e.$slots.buttons?m("",!0):(r(),h(j,{key:0},[M(x(t.tableTitle),1)],64)),_(e.$slots,"buttons",{},void 0,!0)]),n(d,{size:6},{default:s(()=>[n(l,{placement:"top",content:"刷新"},{default:s(()=>[n(f,{name:"el-icon-Refresh",size:"18",hover:"",class:"mr-3 cursor-pointer",onClick:S})]),_:1}),n(l,{placement:"top",content:"导出"},{default:s(()=>[n(f,{name:"local-export",size:"18",hover:"",class:"mr-3 cursor-pointer"})]),_:1}),n(l,{placement:"top",content:"列设置"},{default:s(()=>[n(g,{tableColumns:t.tableConfig.columns,"onUpdate:tableColumns":o[0]||(o[0]=i=>t.tableConfig.columns=i),filterColumns:t.filterConfig.columns,"onUpdate:filterColumns":o[1]||(o[1]=i=>t.filterConfig.columns=i)},null,8,["tableColumns","filterColumns"])]),_:1})]),_:1})])]),default:s(()=>[_(e.$slots,"table",{},void 0,!0),e.$slots.table?m("",!0):(r(),$(u,k({key:0},t.tableConfig,{"max-height":C(v)}),{tableColumn:s(({scope:i,column:E})=>[_(e.$slots,"tableColumn",{scope:i,column:E},void 0,!0)]),_:3},16,["max-height"]))]),_:3})])}}});const ie=D(X,[["__scopeId","data-v-f708638f"]]);export{ie as _};
