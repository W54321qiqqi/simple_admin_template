import{_ as v}from"./index-25f48700.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-47078759.js";import{a as T,i as h,l as E,c as V,bh as k,o as y,e as w,s as t,a9 as x,v as P,t as s,r as L,f as l,q as A,x as b,z as C,a3 as B,g as U,n as I,A as R,bc as $,cf as z}from"./index-b15e4bc2.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-24582e7c.js";import{_ as q}from"./index-48107507.js";import{F as a,E as K}from"./componentEnum-f439bcb5.js";import"./useTagViewSetting-d9fa3a8b.js";import"./el-form-item-98342bc4.js";import"./el-checkbox-1d942918.js";import"./el-popper-bb678e48.js";import"./index.vue_vue_type_script_setup_true_lang-2edfa44d.js";import"./index-7388429c.js";import"./el-tag-c825aeb2.js";import"./localeData-da8d4ded.js";import"./index-e1434365.js";import"./index-7034ac8e.js";import"./icon-selector-3bcbf865.js";import"./dropdown-c11195d0.js";const W={columns:{type:Array,default:()=>[]},labelWidth:{type:[Number,String],default:"100px"},labelPosition:{type:String},size:{type:String},showOpen:{type:Boolean,default:!0},colProps:{type:Object,default:()=>({xs:24,sm:12,md:8,lg:6,xl:6})},searchInfo:{type:Object}},M={class:"base-filter-action"},G=T({name:"BaseFilter",__name:"index",props:W,emits:["search"],setup(i,{emit:n}){const p=i,e=h({baseFilterForm:p.searchInfo,isOpen:!1}),m=E(),r=V(()=>p.columns.filter(o=>k(o.active)||o.active)),c=()=>{e.baseFilterForm.time&&e.baseFilterForm.time.length>0&&(e.baseFilterForm.startTime=e.baseFilterForm.time[0],e.baseFilterForm.endTime=e.baseFilterForm.time[1]),n("search",e.baseFilterForm)},d=()=>{l(r).forEach(o=>{var u;((u=o==null?void 0:o.config)==null?void 0:u.clearable)!==!1&&(e.baseFilterForm[o.fieldName]="")}),c()},f=()=>{e.isOpen=!e.isOpen};return(o,u)=>{const _=j,O=R,S=N;return y(),w("div",{ref_key:"baseFilterRef",ref:m},[t(S,{model:l(e).baseFilterForm,class:I(["base-filter",{open:l(e).isOpen}]),"label-width":o.labelWidth,inline:"","label-position":o.labelPosition,columns:l(r),"col-props":o.colProps},x({action:s(()=>[A("div",M,[t(_,{type:"primary",onClick:c},{default:s(()=>[b("查询")]),_:1}),t(_,{type:"primary",plain:"",onClick:d},{default:s(()=>[b(" 重置 ")]),_:1}),o.showOpen?(y(),C(_,{key:0,type:"primary",link:"",onClick:f,class:"open-action"},{default:s(()=>[b(B(l(e).isOpen?"收起":"展开")+" ",1),t(O,{name:l(e).isOpen?"el-icon-ArrowUp":"el-icon-ArrowDown",class:"ml-1"},null,8,["name"])]),_:1})):U("",!0)])]),_:2},[P(l(r),F=>({name:F.fieldName,fn:s(()=>[L(o.$slots,F.fieldName,{},void 0,!0)])}))]),1032,["model","label-width","label-position","columns","col-props","class"])],512)}}});const H=$(G,[["__scopeId","data-v-4c0bffdb"]]);const J=()=>z.get("/role/getAllRoleList"),D=[{label:"启用",value:1},{label:"停用",value:0}],g=[{fieldName:"name",fieldDesc:"input输入",fieldType:a.INPUT},{fieldName:"age",fieldDesc:"number输入",fieldType:a.NUMBER},{fieldName:"birthday",fieldDesc:"日期选择",fieldType:a.DATE},{fieldName:"icon",fieldDesc:"图标选择",fieldType:a.ICON},{fieldName:"status",fieldDesc:"select下拉",fieldType:a.SELECT,config:{options:D}},{fieldName:"role",fieldDesc:"ApiSelect",fieldType:a.SELECT,config:{api:J,labelKey:"roleName",valueKey:"role"}},{fieldName:"slot",fieldDesc:"自定义slot",fieldType:a.SLOT}],Q=[{fieldName:"status",fieldDesc:"select下拉",fieldType:a.SELECT,config:{options:D}},{fieldName:"icon",fieldDesc:"图标选择",fieldType:a.ICON,show:i=>i.model.status===1},{fieldName:"slot",fieldDesc:"自定义slot",fieldType:a.SLOT,show:i=>i.model.status===0}],_e=T({__name:"index",setup(i){const n=h({color:""});return(p,e)=>{const m=K,r=N,c=q,d=H,f=v;return y(),C(f,null,{default:s(()=>[t(c,{title:"默认form"},{default:s(()=>[t(r,{columns:l(g),model:l(n),inline:"",colProps:{span:6}},{slot:s(()=>[t(m,{modelValue:l(n).color,"onUpdate:modelValue":e[0]||(e[0]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","model"])]),_:1}),t(c,{title:"收缩自适应form"},{default:s(()=>[t(d,{columns:l(g),"search-info":l(n),"show-open":""},{slot:s(()=>[t(m,{modelValue:l(n).color,"onUpdate:modelValue":e[1]||(e[1]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","search-info"])]),_:1}),t(c,{title:"动态form"},{default:s(()=>[t(r,{columns:l(Q),model:l(n),inline:"",colProps:{span:6}},{slot:s(()=>[t(m,{modelValue:l(n).color,"onUpdate:modelValue":e[2]||(e[2]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","model"])]),_:1})]),_:1})}}});export{_e as default};
