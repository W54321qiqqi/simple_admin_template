import{_ as Qa}from"./index.vue_vue_type_script_setup_true_lang-2edfa44d.js";import{ch as Xa,ci as Nt,br as Dt,b as He,d as Ne,cj as ka,at as Ca,a as ye,bL as Ge,u as we,ay as Cn,R as ze,l as z,L as ie,X as ge,M as Tt,c as P,H as Xe,ck as Za,cl as Ja,K as wn,f as l,bI as el,N as ut,o as M,z as re,t as Z,aG as gt,n as C,h as _e,aO as Te,aP as Ce,a2 as pt,g as te,e as _,q as H,r as st,a3 as he,ab as Yt,_ as Ie,aT as Me,bt as jn,bE as tl,Q as Ze,m as rt,F as $e,v as Re,x as ht,aD as Ke,s as W,cm as nl,a_ as Un,aw as al,aR as Vn,cn as se,aL as Et,a0 as In,az as nt,au as xe,I as bt,b7 as Sn,co as Vt,cp as zt,b4 as ll,ax as wa,aC as Sa,i as vt,y as Be,a8 as It,b1 as tt,c6 as ol,w as Gn,aX as Na,a6 as Qn,Y as Da,b8 as At,cq as Ht,cr as An,a$ as Zt,cs as _t,aB as rn,ct as it,O as jt,p as sl,W as Ma,aZ as Oa,cu as Kt,av as Jt,cv as Nn,aA as Kn,cw as rl,cx as il,cy as $a,aS as xt,cz as ul,b9 as Ue,cd as dl,cA as cl,a9 as fl,a5 as Pa,J as en,cB as Ln,cC as Ta,cD as la,U as pl,b0 as Rt,aW as Dn,aV as hl,cE as vl,V as ml,aM as gl,T as bl,a7 as yl,bU as kl,cF as oa,cG as Cl,bV as wl,aE as Sl}from"./index-b15e4bc2.js";import{E as Nl,t as Dl}from"./el-tag-c825aeb2.js";import{E as Xn,a as Ea,T as Ml,b as Ol,d as $l}from"./el-popper-bb678e48.js";import{r as un,t as Pl,E as Tl,u as dn}from"./el-checkbox-1d942918.js";import{u as Bn}from"./index-7388429c.js";import{v as sa,p as ra,f as ia,m as Mn,b as On,d as cn,g as Zn,a as El,r as Va,e as Ia,c as Aa,l as Vl}from"./localeData-da8d4ded.js";import{_ as Il}from"./index-e1434365.js";import{B as Al}from"./index-7034ac8e.js";import{B as Kl}from"./icon-selector-3bcbf865.js";const Ll=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Bl=e=>Xa[e||"default"],wt=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Rl=e=>({focus:()=>{var t,a;(a=(t=e.value)==null?void 0:t.focus)==null||a.call(t)}});var fn={exports:{}};fn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,u={},c=function(i){return(i=+i)+(i>68?1900:2e3)},v=function(i){return function(p){this[i]=+p}},w=[/[+-]\d\d:?(\d\d)?|Z/,function(i){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var $=p.match(/([+-]|\d\d)/g),y=60*$[1]+(+$[2]||0);return y===0?0:$[0]==="+"?-y:y}(i)}],b=function(i){var p=u[i];return p&&(p.indexOf?p:p.s.concat(p.f))},f=function(i,p){var $,y=u.meridiem;if(y){for(var h=1;h<=24;h+=1)if(i.indexOf(y(h,0,p))>-1){$=h>12;break}}else $=i===(p?"pm":"PM");return $},d={A:[r,function(i){this.afternoon=f(i,!1)}],a:[r,function(i){this.afternoon=f(i,!0)}],S:[/\d/,function(i){this.milliseconds=100*+i}],SS:[o,function(i){this.milliseconds=10*+i}],SSS:[/\d{3}/,function(i){this.milliseconds=+i}],s:[s,v("seconds")],ss:[s,v("seconds")],m:[s,v("minutes")],mm:[s,v("minutes")],H:[s,v("hours")],h:[s,v("hours")],HH:[s,v("hours")],hh:[s,v("hours")],D:[s,v("day")],DD:[o,v("day")],Do:[r,function(i){var p=u.ordinal,$=i.match(/\d+/);if(this.day=$[0],p)for(var y=1;y<=31;y+=1)p(y).replace(/\[|\]/g,"")===i&&(this.day=y)}],M:[s,v("month")],MM:[o,v("month")],MMM:[r,function(i){var p=b("months"),$=(b("monthsShort")||p.map(function(y){return y.slice(0,3)})).indexOf(i)+1;if($<1)throw new Error;this.month=$%12||$}],MMMM:[r,function(i){var p=b("months").indexOf(i)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,v("year")],YY:[o,function(i){this.year=c(i)}],YYYY:[/\d{4}/,v("year")],Z:w,ZZ:w};function g(i){var p,$;p=i,$=u&&u.formats;for(var y=(i=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,R,Q){var ve=Q&&Q.toUpperCase();return R||$[Q]||a[Q]||$[ve].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(X,oe,be){return oe||be.slice(1)})})).match(n),h=y.length,E=0;E<h;E+=1){var S=y[E],F=d[S],G=F&&F[0],Y=F&&F[1];y[E]=Y?{regex:G,parser:Y}:S.replace(/^\[|\]$/g,"")}return function(A){for(var R={},Q=0,ve=0;Q<h;Q+=1){var X=y[Q];if(typeof X=="string")ve+=X.length;else{var oe=X.regex,be=X.parser,fe=A.slice(ve),V=oe.exec(fe)[0];be.call(R,V),A=A.replace(V,"")}}return function(L){var k=L.afternoon;if(k!==void 0){var I=L.hours;k?I<12&&(L.hours+=12):I===12&&(L.hours=0),delete L.afternoon}}(R),R}}return function(i,p,$){$.p.customParseFormat=!0,i&&i.parseTwoDigitYear&&(c=i.parseTwoDigitYear);var y=p.prototype,h=y.parse;y.parse=function(E){var S=E.date,F=E.utc,G=E.args;this.$u=F;var Y=G[1];if(typeof Y=="string"){var A=G[2]===!0,R=G[3]===!0,Q=A||R,ve=G[2];R&&(ve=G[2]),u=this.$locale(),!A&&ve&&(u=$.Ls[ve]),this.$d=function(fe,V,L){try{if(["x","X"].indexOf(V)>-1)return new Date((V==="X"?1e3:1)*fe);var k=g(V)(fe),I=k.year,j=k.month,D=k.day,x=k.hours,J=k.minutes,ne=k.seconds,ae=k.milliseconds,Se=k.zone,de=new Date,ke=D||(I||j?1:de.getDate()),me=I||de.getFullYear(),Fe=0;I&&!j||(Fe=j>0?j-1:de.getMonth());var Pe=x||0,Le=J||0,Ee=ne||0,We=ae||0;return Se?new Date(Date.UTC(me,Fe,ke,Pe,Le,Ee,We+60*Se.offset*1e3)):L?new Date(Date.UTC(me,Fe,ke,Pe,Le,Ee,We)):new Date(me,Fe,ke,Pe,Le,Ee,We)}catch{return new Date("")}}(S,Y,F),this.init(),ve&&ve!==!0&&(this.$L=this.locale(ve).$L),Q&&S!=this.format(Y)&&(this.$d=new Date("")),u={}}else if(Y instanceof Array)for(var X=Y.length,oe=1;oe<=X;oe+=1){G[1]=Y[oe-1];var be=$.apply(this,G);if(be.isValid()){this.$d=be.$d,this.$L=be.$L,this.init();break}oe===X&&(this.$d=new Date(""))}else h.call(this,E)}}})})(fn,fn.exports);var Fl=fn.exports;const Yl=Dt(Fl),ua=["hours","minutes","seconds"],da="HH:mm:ss",Ot="YYYY-MM-DD",zl={date:Ot,dates:Ot,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Ot} ${da}`,monthrange:"YYYY-MM",daterange:Ot,datetimerange:`${Ot} ${da}`},Ka=He({disabledHours:{type:Ne(Function)},disabledMinutes:{type:Ne(Function)},disabledSeconds:{type:Ne(Function)}}),Hl=He({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),La=He({id:{type:Ne([Array,String])},name:{type:Ne([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ne([String,Object]),default:ka},editable:{type:Boolean,default:!0},prefixIcon:{type:Ne([String,Object]),default:""},size:Ca,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Ne(Object),default:()=>({})},modelValue:{type:Ne([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ne([Date,Array])},defaultTime:{type:Ne([Date,Array])},isRange:{type:Boolean,default:!1},...Ka,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:Ne([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_l=["id","name","placeholder","value","disabled","readonly"],xl=["id","name","placeholder","value","disabled","readonly"],Wl=ye({name:"Picker"}),ql=ye({...Wl,props:La,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:a}){const n=e,{lang:o}=Ge(),s=we("date"),r=we("input"),u=we("range"),{form:c,formItem:v}=Cn(),w=ze("ElPopperOptions",{}),b=z(),f=z(),d=z(!1),g=z(!1),i=z(null);let p=!1,$=!1;ie(d,m=>{m?ge(()=>{m&&(i.value=n.modelValue)}):(pe.value=null,ge(()=>{y(n.modelValue)}))});const y=(m,O)=>{(O||!sa(m,i.value))&&(a("change",m),n.validateEvent&&(v==null||v.validate("change").catch(B=>Tt())))},h=m=>{if(!sa(n.modelValue,m)){let O;Xe(m)?O=m.map(B=>ia(B,n.valueFormat,o.value)):m&&(O=ia(m,n.valueFormat,o.value)),a("update:modelValue",m&&O,o.value)}},E=m=>{a("keydown",m)},S=P(()=>{if(f.value){const m=Le.value?f.value:f.value.$el;return Array.from(m.querySelectorAll("input"))}return[]}),F=(m,O,B)=>{const q=S.value;q.length&&(!B||B==="min"?(q[0].setSelectionRange(m,O),q[0].focus()):B==="max"&&(q[1].setSelectionRange(m,O),q[1].focus()))},G=()=>{be(!0,!0),ge(()=>{$=!1})},Y=(m="",O=!1)=>{O||($=!0),d.value=O;let B;Xe(m)?B=m.map(q=>q.toDate()):B=m&&m.toDate(),pe.value=null,h(B)},A=()=>{g.value=!0},R=()=>{a("visible-change",!0)},Q=m=>{(m==null?void 0:m.key)===Me.esc&&be(!0,!0)},ve=()=>{g.value=!1,d.value=!1,$=!1,a("visible-change",!1)},X=()=>{d.value=!0},oe=()=>{d.value=!1},be=(m=!0,O=!1)=>{$=O;const[B,q]=l(S);let Ae=B;!m&&Le.value&&(Ae=q),Ae&&Ae.focus()},fe=m=>{n.readonly||k.value||d.value||$||(d.value=!0,a("focus",m))};let V;const L=m=>{const O=async()=>{setTimeout(()=>{var B;V===O&&(!((B=b.value)!=null&&B.isFocusInsideContent()&&!p)&&S.value.filter(q=>q.contains(document.activeElement)).length===0&&(at(),d.value=!1,a("blur",m),n.validateEvent&&(v==null||v.validate("blur").catch(q=>Tt()))),p=!1)},0)};V=O,O()},k=P(()=>n.disabled||(c==null?void 0:c.disabled)),I=P(()=>{let m;if(de.value?De.value.getDefaultValue&&(m=De.value.getDefaultValue()):Xe(n.modelValue)?m=n.modelValue.map(O=>ra(O,n.valueFormat,o.value)):m=ra(n.modelValue,n.valueFormat,o.value),De.value.getRangeAvailableTime){const O=De.value.getRangeAvailableTime(m);un(O,m)||(m=O,h(Xe(m)?m.map(B=>B.toDate()):m.toDate()))}return Xe(m)&&m.some(O=>!O)&&(m=[]),m}),j=P(()=>{if(!De.value.panelReady)return"";const m=qe(I.value);return Xe(pe.value)?[pe.value[0]||m&&m[0]||"",pe.value[1]||m&&m[1]||""]:pe.value!==null?pe.value:!x.value&&de.value||!d.value&&de.value?"":m?J.value?m.join(", "):m:""}),D=P(()=>n.type.includes("time")),x=P(()=>n.type.startsWith("time")),J=P(()=>n.type==="dates"),ne=P(()=>n.prefixIcon||(D.value?Za:Ja)),ae=z(!1),Se=m=>{n.readonly||k.value||ae.value&&(m.stopPropagation(),G(),h(null),y(null,!0),ae.value=!1,d.value=!1,De.value.handleClear&&De.value.handleClear())},de=P(()=>{const{modelValue:m}=n;return!m||Xe(m)&&!m.filter(Boolean).length}),ke=async m=>{var O;n.readonly||k.value||(((O=m.target)==null?void 0:O.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(d.value=!0)},me=()=>{n.readonly||k.value||!de.value&&n.clearable&&(ae.value=!0)},Fe=()=>{ae.value=!1},Pe=m=>{var O;n.readonly||k.value||(((O=m.touches[0].target)==null?void 0:O.tagName)!=="INPUT"||S.value.includes(document.activeElement))&&(d.value=!0)},Le=P(()=>n.type.includes("range")),Ee=wn(),We=P(()=>{var m,O;return(O=(m=l(b))==null?void 0:m.popperRef)==null?void 0:O.contentRef}),Qe=P(()=>{var m;return l(Le)?l(f):(m=l(f))==null?void 0:m.$el});el(Qe,m=>{const O=l(We),B=l(Qe);O&&(m.target===O||m.composedPath().includes(O))||m.target===B||m.composedPath().includes(B)||(d.value=!1)});const pe=z(null),at=()=>{if(pe.value){const m=Ye(j.value);m&&lt(m)&&(h(Xe(m)?m.map(O=>O.toDate()):m.toDate()),pe.value=null)}pe.value===""&&(h(null),y(null),pe.value=null)},Ye=m=>m?De.value.parseUserInput(m):null,qe=m=>m?De.value.formatToString(m):null,lt=m=>De.value.isValidValue(m),dt=async m=>{if(n.readonly||k.value)return;const{code:O}=m;if(E(m),O===Me.esc){d.value===!0&&(d.value=!1,m.preventDefault(),m.stopPropagation());return}if(O===Me.down&&(De.value.handleFocusPicker&&(m.preventDefault(),m.stopPropagation()),d.value===!1&&(d.value=!0,await ge()),De.value.handleFocusPicker)){De.value.handleFocusPicker();return}if(O===Me.tab){p=!0;return}if(O===Me.enter||O===Me.numpadEnter){(pe.value===null||pe.value===""||lt(Ye(j.value)))&&(at(),d.value=!1),m.stopPropagation();return}if(pe.value){m.stopPropagation();return}De.value.handleKeydownInput&&De.value.handleKeydownInput(m)},je=m=>{pe.value=m,d.value||(d.value=!0)},Je=m=>{const O=m.target;pe.value?pe.value=[O.value,pe.value[1]]:pe.value=[O.value,null]},et=m=>{const O=m.target;pe.value?pe.value=[pe.value[0],O.value]:pe.value=[null,O.value]},ot=()=>{var m;const O=pe.value,B=Ye(O&&O[0]),q=l(I);if(B&&B.isValid()){pe.value=[qe(B),((m=j.value)==null?void 0:m[1])||null];const Ae=[B,q&&(q[1]||null)];lt(Ae)&&(h(Ae),pe.value=null)}},ct=()=>{var m;const O=l(pe),B=Ye(O&&O[1]),q=l(I);if(B&&B.isValid()){pe.value=[((m=l(j))==null?void 0:m[0])||null,qe(B)];const Ae=[q&&q[0],B];lt(Ae)&&(h(Ae),pe.value=null)}},De=z({}),T=m=>{De.value[m[0]]=m[1],De.value.panelReady=!0},U=m=>{a("calendar-change",m)},le=(m,O,B)=>{a("panel-change",m,O,B)};return ut("EP_PICKER_BASE",{props:n}),t({focus:be,handleFocusInput:fe,handleBlurInput:L,handleOpen:X,handleClose:oe,onPick:Y}),(m,O)=>(M(),re(l(Xn),Yt({ref_key:"refPopper",ref:b,visible:d.value,effect:"light",pure:"",trigger:"click"},m.$attrs,{role:"dialog",teleported:"",transition:`${l(s).namespace.value}-zoom-in-top`,"popper-class":[`${l(s).namespace.value}-picker__popper`,m.popperClass],"popper-options":l(w),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:A,onShow:R,onHide:ve}),{default:Z(()=>[l(Le)?(M(),_("div",{key:1,ref_key:"inputRef",ref:f,class:C([l(s).b("editor"),l(s).bm("editor",m.type),l(r).e("wrapper"),l(s).is("disabled",l(k)),l(s).is("active",d.value),l(u).b("editor"),l(Ee)?l(u).bm("editor",l(Ee)):"",m.$attrs.class]),style:_e(m.$attrs.style),onClick:fe,onMouseenter:me,onMouseleave:Fe,onTouchstart:Pe,onKeydown:dt},[l(ne)?(M(),re(l(Ce),{key:0,class:C([l(r).e("icon"),l(u).e("icon")]),onMousedown:Te(ke,["prevent"]),onTouchstart:Pe},{default:Z(()=>[(M(),re(pt(l(ne))))]),_:1},8,["class","onMousedown"])):te("v-if",!0),H("input",{id:m.id&&m.id[0],autocomplete:"off",name:m.name&&m.name[0],placeholder:m.startPlaceholder,value:l(j)&&l(j)[0],disabled:l(k),readonly:!m.editable||m.readonly,class:C(l(u).b("input")),onMousedown:ke,onInput:Je,onChange:ot,onFocus:fe,onBlur:L},null,42,_l),st(m.$slots,"range-separator",{},()=>[H("span",{class:C(l(u).b("separator"))},he(m.rangeSeparator),3)]),H("input",{id:m.id&&m.id[1],autocomplete:"off",name:m.name&&m.name[1],placeholder:m.endPlaceholder,value:l(j)&&l(j)[1],disabled:l(k),readonly:!m.editable||m.readonly,class:C(l(u).b("input")),onMousedown:ke,onFocus:fe,onBlur:L,onInput:et,onChange:ct},null,42,xl),m.clearIcon?(M(),re(l(Ce),{key:1,class:C([l(r).e("icon"),l(u).e("close-icon"),{[l(u).e("close-icon--hidden")]:!ae.value}]),onClick:Se},{default:Z(()=>[(M(),re(pt(m.clearIcon)))]),_:1},8,["class"])):te("v-if",!0)],38)):(M(),re(l(gt),{key:0,id:m.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":l(j),name:m.name,size:l(Ee),disabled:l(k),placeholder:m.placeholder,class:C([l(s).b("editor"),l(s).bm("editor",m.type),m.$attrs.class]),style:_e(m.$attrs.style),readonly:!m.editable||m.readonly||l(J)||m.type==="week",label:m.label,tabindex:m.tabindex,"validate-event":!1,onInput:je,onFocus:fe,onBlur:L,onKeydown:dt,onChange:at,onMousedown:ke,onMouseenter:me,onMouseleave:Fe,onTouchstart:Pe,onClick:O[0]||(O[0]=Te(()=>{},["stop"]))},{prefix:Z(()=>[l(ne)?(M(),re(l(Ce),{key:0,class:C(l(r).e("icon")),onMousedown:Te(ke,["prevent"]),onTouchstart:Pe},{default:Z(()=>[(M(),re(pt(l(ne))))]),_:1},8,["class","onMousedown"])):te("v-if",!0)]),suffix:Z(()=>[ae.value&&m.clearIcon?(M(),re(l(Ce),{key:0,class:C(`${l(r).e("icon")} clear-icon`),onClick:Te(Se,["stop"])},{default:Z(()=>[(M(),re(pt(m.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Z(()=>[st(m.$slots,"default",{visible:d.value,actualVisible:g.value,parsedValue:l(I),format:m.format,unlinkPanels:m.unlinkPanels,type:m.type,defaultValue:m.defaultValue,onPick:Y,onSelectRange:F,onSetPickerOption:T,onCalendarChange:U,onPanelChange:le,onKeydown:Q,onMousedown:O[1]||(O[1]=Te(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var jl=Ie(ql,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ul=He({...Hl,datetimeRole:String,parsedValue:{type:Ne(Object)}}),Gl=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:a})=>{const n=(r,u,c,v)=>{const w={hour:e,minute:t,second:a};let b=r;return["hour","minute","second"].forEach(f=>{if(w[f]){let d;const g=w[f];switch(f){case"minute":{d=g(b.hour(),u,v);break}case"second":{d=g(b.hour(),b.minute(),u,v);break}default:{d=g(u,v);break}}if(d!=null&&d.length&&!d.includes(b[f]())){const i=c?0:d.length-1;b=b[f](d[i])}}}),b},o={};return{timePickerOptions:o,getAvailableTime:n,onSetOption:([r,u])=>{o[r]=u}}},$n=e=>{const t=(n,o)=>n||o,a=n=>n!==!0;return e.map(t).filter(a)},Ba=(e,t,a)=>({getHoursList:(r,u)=>Mn(24,e&&(()=>e==null?void 0:e(r,u))),getMinutesList:(r,u,c)=>Mn(60,t&&(()=>t==null?void 0:t(r,u,c))),getSecondsList:(r,u,c,v)=>Mn(60,a&&(()=>a==null?void 0:a(r,u,c,v)))}),Ql=(e,t,a)=>{const{getHoursList:n,getMinutesList:o,getSecondsList:s}=Ba(e,t,a);return{getAvailableHours:(v,w)=>$n(n(v,w)),getAvailableMinutes:(v,w,b)=>$n(o(v,w,b)),getAvailableSeconds:(v,w,b,f)=>$n(s(v,w,b,f))}},Xl=e=>{const t=z(e.parsedValue);return ie(()=>e.visible,a=>{a||(t.value=e.parsedValue)}),t},kt=new Map;let ca;jn&&(document.addEventListener("mousedown",e=>ca=e),document.addEventListener("mouseup",e=>{for(const t of kt.values())for(const{documentHandler:a}of t)a(e,ca)}));function fa(e,t){let a=[];return Array.isArray(t.arg)?a=t.arg:tl(t.arg)&&a.push(t.arg),function(n,o){const s=t.instance.popperRef,r=n.target,u=o==null?void 0:o.target,c=!t||!t.instance,v=!r||!u,w=e.contains(r)||e.contains(u),b=e===r,f=a.length&&a.some(g=>g==null?void 0:g.contains(r))||a.length&&a.includes(u),d=s&&(s.contains(r)||s.contains(u));c||v||w||b||f||d||t.value(n,o)}}const Wt={beforeMount(e,t){kt.has(e)||kt.set(e,[]),kt.get(e).push({documentHandler:fa(e,t),bindingFn:t.value})},updated(e,t){kt.has(e)||kt.set(e,[]);const a=kt.get(e),n=a.findIndex(s=>s.bindingFn===t.oldValue),o={documentHandler:fa(e,t),bindingFn:t.value};n>=0?a.splice(n,1,o):a.push(o)},unmounted(e){kt.delete(e)}},Zl=100,Jl=600,pa={beforeMount(e,t){const a=t.value,{interval:n=Zl,delay:o=Jl}=Ze(a)?{}:a;let s,r;const u=()=>Ze(a)?a():a.handler(),c=()=>{r&&(clearTimeout(r),r=void 0),s&&(clearInterval(s),s=void 0)};e.addEventListener("mousedown",v=>{v.button===0&&(c(),u(),document.addEventListener("mouseup",()=>c(),{once:!0}),r=setTimeout(()=>{s=setInterval(()=>{u()},n)},o))})}},eo=He({role:{type:String,required:!0},spinnerDate:{type:Ne(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ne(String),default:""},...Ka}),to=["onClick"],no=["onMouseenter"],ao=ye({__name:"basic-time-spinner",props:eo,emits:["change","select-range","set-option"],setup(e,{emit:t}){const a=e,n=we("time"),{getHoursList:o,getMinutesList:s,getSecondsList:r}=Ba(a.disabledHours,a.disabledMinutes,a.disabledSeconds);let u=!1;const c=z(),v=z(),w=z(),b=z(),f={hours:v,minutes:w,seconds:b},d=P(()=>a.showSeconds?ua:ua.slice(0,2)),g=P(()=>{const{spinnerDate:k}=a,I=k.hour(),j=k.minute(),D=k.second();return{hours:I,minutes:j,seconds:D}}),i=P(()=>{const{hours:k,minutes:I}=l(g);return{hours:o(a.role),minutes:s(k,a.role),seconds:r(k,I,a.role)}}),p=P(()=>{const{hours:k,minutes:I,seconds:j}=l(g);return{hours:On(k,23),minutes:On(I,59),seconds:On(j,59)}}),$=cn(k=>{u=!1,E(k)},200),y=k=>{if(!!!a.amPmMode)return"";const j=a.amPmMode==="A";let D=k<12?" am":" pm";return j&&(D=D.toUpperCase()),D},h=k=>{let I;switch(k){case"hours":I=[0,2];break;case"minutes":I=[3,5];break;case"seconds":I=[6,8];break}const[j,D]=I;t("select-range",j,D),c.value=k},E=k=>{G(k,l(g)[k])},S=()=>{E("hours"),E("minutes"),E("seconds")},F=k=>k.querySelector(`.${n.namespace.value}-scrollbar__wrap`),G=(k,I)=>{if(a.arrowControl)return;const j=l(f[k]);j&&j.$el&&(F(j.$el).scrollTop=Math.max(0,I*Y(k)))},Y=k=>{const I=l(f[k]);return(I==null?void 0:I.$el.querySelector("li").offsetHeight)||0},A=()=>{Q(1)},R=()=>{Q(-1)},Q=k=>{c.value||h("hours");const I=c.value,j=l(g)[I],D=c.value==="hours"?24:60,x=ve(I,j,k,D);X(I,x),G(I,x),ge(()=>h(I))},ve=(k,I,j,D)=>{let x=(I+j+D)%D;const J=l(i)[k];for(;J[x]&&x!==I;)x=(x+j+D)%D;return x},X=(k,I)=>{if(l(i)[k][I])return;const{hours:x,minutes:J,seconds:ne}=l(g);let ae;switch(k){case"hours":ae=a.spinnerDate.hour(I).minute(J).second(ne);break;case"minutes":ae=a.spinnerDate.hour(x).minute(I).second(ne);break;case"seconds":ae=a.spinnerDate.hour(x).minute(J).second(I);break}t("change",ae)},oe=(k,{value:I,disabled:j})=>{j||(X(k,I),h(k),G(k,I))},be=k=>{u=!0,$(k);const I=Math.min(Math.round((F(l(f[k]).$el).scrollTop-(fe(k)*.5-10)/Y(k)+3)/Y(k)),k==="hours"?23:59);X(k,I)},fe=k=>l(f[k]).$el.offsetHeight,V=()=>{const k=I=>{const j=l(f[I]);j&&j.$el&&(F(j.$el).onscroll=()=>{be(I)})};k("hours"),k("minutes"),k("seconds")};rt(()=>{ge(()=>{!a.arrowControl&&V(),S(),a.role==="start"&&h("hours")})});const L=(k,I)=>{f[I].value=k};return t("set-option",[`${a.role}_scrollDown`,Q]),t("set-option",[`${a.role}_emitSelectRange`,h]),ie(()=>a.spinnerDate,()=>{u||S()}),(k,I)=>(M(),_("div",{class:C([l(n).b("spinner"),{"has-seconds":k.showSeconds}])},[k.arrowControl?te("v-if",!0):(M(!0),_($e,{key:0},Re(l(d),j=>(M(),re(l(Ea),{key:j,ref_for:!0,ref:D=>L(D,j),class:C(l(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":l(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:D=>h(j),onMousemove:D=>E(j)},{default:Z(()=>[(M(!0),_($e,null,Re(l(i)[j],(D,x)=>(M(),_("li",{key:x,class:C([l(n).be("spinner","item"),l(n).is("active",x===l(g)[j]),l(n).is("disabled",D)]),onClick:J=>oe(j,{value:x,disabled:D})},[j==="hours"?(M(),_($e,{key:0},[ht(he(("0"+(k.amPmMode?x%12||12:x)).slice(-2))+he(y(x)),1)],64)):(M(),_($e,{key:1},[ht(he(("0"+x).slice(-2)),1)],64))],10,to))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),k.arrowControl?(M(!0),_($e,{key:1},Re(l(d),j=>(M(),_("div",{key:j,class:C([l(n).be("spinner","wrapper"),l(n).is("arrow")]),onMouseenter:D=>h(j)},[Ke((M(),re(l(Ce),{class:C(["arrow-up",l(n).be("spinner","arrow")])},{default:Z(()=>[W(l(nl))]),_:1},8,["class"])),[[l(pa),R]]),Ke((M(),re(l(Ce),{class:C(["arrow-down",l(n).be("spinner","arrow")])},{default:Z(()=>[W(l(Un))]),_:1},8,["class"])),[[l(pa),A]]),H("ul",{class:C(l(n).be("spinner","list"))},[(M(!0),_($e,null,Re(l(p)[j],(D,x)=>(M(),_("li",{key:x,class:C([l(n).be("spinner","item"),l(n).is("active",D===l(g)[j]),l(n).is("disabled",l(i)[j][D])])},[typeof D=="number"?(M(),_($e,{key:0},[j==="hours"?(M(),_($e,{key:0},[ht(he(("0"+(k.amPmMode?D%12||12:D)).slice(-2))+he(y(D)),1)],64)):(M(),_($e,{key:1},[ht(he(("0"+D).slice(-2)),1)],64))],64)):te("v-if",!0)],2))),128))],2)],42,no))),128)):te("v-if",!0)],2))}});var lo=Ie(ao,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const oo=ye({__name:"panel-time-pick",props:Ul,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const a=e,n=ze("EP_PICKER_BASE"),{arrowControl:o,disabledHours:s,disabledMinutes:r,disabledSeconds:u,defaultValue:c}=n.props,{getAvailableHours:v,getAvailableMinutes:w,getAvailableSeconds:b}=Ql(s,r,u),f=we("time"),{t:d,lang:g}=Ge(),i=z([0,2]),p=Xl(a),$=P(()=>al(a.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),y=P(()=>a.format.includes("ss")),h=P(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),E=L=>{const k=se(L).locale(g.value),I=oe(k);return k.isSame(I)},S=()=>{t("pick",p.value,!1)},F=(L=!1,k=!1)=>{k||t("pick",a.parsedValue,L)},G=L=>{if(!a.visible)return;const k=oe(L).millisecond(0);t("pick",k,!0)},Y=(L,k)=>{t("select-range",L,k),i.value=[L,k]},A=L=>{const k=[0,3].concat(y.value?[6]:[]),I=["hours","minutes"].concat(y.value?["seconds"]:[]),D=(k.indexOf(i.value[0])+L+k.length)%k.length;Q.start_emitSelectRange(I[D])},R=L=>{const k=L.code,{left:I,right:j,up:D,down:x}=Me;if([I,j].includes(k)){A(k===I?-1:1),L.preventDefault();return}if([D,x].includes(k)){const J=k===D?-1:1;Q.start_scrollDown(J),L.preventDefault();return}},{timePickerOptions:Q,onSetOption:ve,getAvailableTime:X}=Gl({getAvailableHours:v,getAvailableMinutes:w,getAvailableSeconds:b}),oe=L=>X(L,a.datetimeRole||"",!0),be=L=>L?se(L,a.format).locale(g.value):null,fe=L=>L?L.format(a.format):null,V=()=>se(c).locale(g.value);return t("set-picker-option",["isValidValue",E]),t("set-picker-option",["formatToString",fe]),t("set-picker-option",["parseUserInput",be]),t("set-picker-option",["handleKeydownInput",R]),t("set-picker-option",["getRangeAvailableTime",oe]),t("set-picker-option",["getDefaultValue",V]),(L,k)=>(M(),re(Vn,{name:l($)},{default:Z(()=>[L.actualVisible||L.visible?(M(),_("div",{key:0,class:C(l(f).b("panel"))},[H("div",{class:C([l(f).be("panel","content"),{"has-seconds":l(y)}])},[W(lo,{ref:"spinner",role:L.datetimeRole||"start","arrow-control":l(o),"show-seconds":l(y),"am-pm-mode":l(h),"spinner-date":L.parsedValue,"disabled-hours":l(s),"disabled-minutes":l(r),"disabled-seconds":l(u),onChange:G,onSetOption:l(ve),onSelectRange:Y},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),H("div",{class:C(l(f).be("panel","footer"))},[H("button",{type:"button",class:C([l(f).be("panel","btn"),"cancel"]),onClick:S},he(l(d)("el.datepicker.cancel")),3),H("button",{type:"button",class:C([l(f).be("panel","btn"),"confirm"]),onClick:k[0]||(k[0]=I=>F())},he(l(d)("el.datepicker.confirm")),3)],2)],2)):te("v-if",!0)]),_:1},8,["name"]))}});var Rn=Ie(oo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const so=He({color:{type:Ne(Object),required:!0},vertical:{type:Boolean,default:!1}});let Pn=!1;function qt(e,t){if(!jn)return;const a=function(s){var r;(r=t.drag)==null||r.call(t,s)},n=function(s){var r;document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,Pn=!1,(r=t.end)==null||r.call(t,s)},o=function(s){var r;Pn||(s.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),document.addEventListener("touchmove",a),document.addEventListener("touchend",n),Pn=!0,(r=t.start)==null||r.call(t,s))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const ro=e=>{const t=nt(),a=Et(),n=Et();function o(r){r.target!==a.value&&s(r)}function s(r){if(!n.value||!a.value)return;const c=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:w}=Zn(r);if(e.vertical){let b=w-c.top;b=Math.max(a.value.offsetHeight/2,b),b=Math.min(b,c.height-a.value.offsetHeight/2),e.color.set("alpha",Math.round((b-a.value.offsetHeight/2)/(c.height-a.value.offsetHeight)*100))}else{let b=v-c.left;b=Math.max(a.value.offsetWidth/2,b),b=Math.min(b,c.width-a.value.offsetWidth/2),e.color.set("alpha",Math.round((b-a.value.offsetWidth/2)/(c.width-a.value.offsetWidth)*100))}}return{thumb:a,bar:n,handleDrag:s,handleClick:o}},io=(e,{bar:t,thumb:a,handleDrag:n})=>{const o=nt(),s=we("color-alpha-slider"),r=z(0),u=z(0),c=z();function v(){if(!a.value||e.vertical)return 0;const y=o.vnode.el,h=e.color.get("alpha");return y?Math.round(h*(y.offsetWidth-a.value.offsetWidth/2)/100):0}function w(){if(!a.value)return 0;const y=o.vnode.el;if(!e.vertical)return 0;const h=e.color.get("alpha");return y?Math.round(h*(y.offsetHeight-a.value.offsetHeight/2)/100):0}function b(){if(e.color&&e.color.value){const{r:y,g:h,b:E}=e.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${h}, ${E}, 0) 0%, rgba(${y}, ${h}, ${E}, 1) 100%)`}return""}function f(){r.value=v(),u.value=w(),c.value=b()}rt(()=>{if(!t.value||!a.value)return;const y={drag:h=>{n(h)},end:h=>{n(h)}};qt(t.value,y),qt(a.value,y),f()}),ie(()=>e.color.get("alpha"),()=>f()),ie(()=>e.color.value,()=>f());const d=P(()=>[s.b(),s.is("vertical",e.vertical)]),g=P(()=>s.e("bar")),i=P(()=>s.e("thumb")),p=P(()=>({background:c.value})),$=P(()=>({left:In(r.value),top:In(u.value)}));return{rootKls:d,barKls:g,barStyle:p,thumbKls:i,thumbStyle:$,update:f}},uo="ElColorAlphaSlider",co=ye({name:uo}),fo=ye({...co,props:so,setup(e,{expose:t}){const a=e,{bar:n,thumb:o,handleDrag:s,handleClick:r}=ro(a),{rootKls:u,barKls:c,barStyle:v,thumbKls:w,thumbStyle:b,update:f}=io(a,{bar:n,thumb:o,handleDrag:s});return t({update:f,bar:n,thumb:o}),(d,g)=>(M(),_("div",{class:C(l(u))},[H("div",{ref_key:"bar",ref:n,class:C(l(c)),style:_e(l(v)),onClick:g[0]||(g[0]=(...i)=>l(r)&&l(r)(...i))},null,6),H("div",{ref_key:"thumb",ref:o,class:C(l(w)),style:_e(l(b))},null,6)],2))}});var po=Ie(fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const ho=ye({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=we("color-hue-slider"),a=nt(),n=z(),o=z(),s=z(0),r=z(0),u=P(()=>e.color.get("hue"));ie(()=>u.value,()=>{f()});function c(d){d.target!==n.value&&v(d)}function v(d){if(!o.value||!n.value)return;const i=a.vnode.el.getBoundingClientRect(),{clientX:p,clientY:$}=Zn(d);let y;if(e.vertical){let h=$-i.top;h=Math.min(h,i.height-n.value.offsetHeight/2),h=Math.max(n.value.offsetHeight/2,h),y=Math.round((h-n.value.offsetHeight/2)/(i.height-n.value.offsetHeight)*360)}else{let h=p-i.left;h=Math.min(h,i.width-n.value.offsetWidth/2),h=Math.max(n.value.offsetWidth/2,h),y=Math.round((h-n.value.offsetWidth/2)/(i.width-n.value.offsetWidth)*360)}e.color.set("hue",y)}function w(){if(!n.value)return 0;const d=a.vnode.el;if(e.vertical)return 0;const g=e.color.get("hue");return d?Math.round(g*(d.offsetWidth-n.value.offsetWidth/2)/360):0}function b(){if(!n.value)return 0;const d=a.vnode.el;if(!e.vertical)return 0;const g=e.color.get("hue");return d?Math.round(g*(d.offsetHeight-n.value.offsetHeight/2)/360):0}function f(){s.value=w(),r.value=b()}return rt(()=>{if(!o.value||!n.value)return;const d={drag:g=>{v(g)},end:g=>{v(g)}};qt(o.value,d),qt(n.value,d),f()}),{bar:o,thumb:n,thumbLeft:s,thumbTop:r,hueValue:u,handleClick:c,update:f,ns:t}}});function vo(e,t,a,n,o,s){return M(),_("div",{class:C([e.ns.b(),e.ns.is("vertical",e.vertical)])},[H("div",{ref:"bar",class:C(e.ns.e("bar")),onClick:t[0]||(t[0]=(...r)=>e.handleClick&&e.handleClick(...r))},null,2),H("div",{ref:"thumb",class:C(e.ns.e("thumb")),style:_e({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var mo=Ie(ho,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const go=He({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ca,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:Ne(Array)},validateEvent:{type:Boolean,default:!0}}),bo={[xe]:e=>bt(e)||Sn(e),[Vt]:e=>bt(e)||Sn(e),activeChange:e=>bt(e)||Sn(e)},Ra=Symbol("colorPickerContextKey"),ha=function(e,t,a){return[e,t*a/((e=(2-t)*a)<1?e:2-e)||0,e/2]},yo=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},ko=function(e){return typeof e=="string"&&e.includes("%")},$t=function(e,t){yo(e)&&(e="100%");const a=ko(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),a&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},va={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},tn=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),a=e%16;return`${va[t]||t}${va[a]||a}`},ma=function({r:e,g:t,b:a}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+a)?"":`#${tn(e)}${tn(t)}${tn(a)}`},Tn={A:10,B:11,C:12,D:13,E:14,F:15},Ct=function(e){return e.length===2?(Tn[e[0].toUpperCase()]||+e[0])*16+(Tn[e[1].toUpperCase()]||+e[1]):Tn[e[1].toUpperCase()]||+e[1]},Co=function(e,t,a){t=t/100,a=a/100;let n=t;const o=Math.max(a,.01);a*=2,t*=a<=1?a:2-a,n*=o<=1?o:2-o;const s=(a+t)/2,r=a===0?2*n/(o+n):2*t/(a+t);return{h:e,s:r*100,v:s*100}},ga=(e,t,a)=>{e=$t(e,255),t=$t(t,255),a=$t(a,255);const n=Math.max(e,t,a),o=Math.min(e,t,a);let s;const r=n,u=n-o,c=n===0?0:u/n;if(n===o)s=0;else{switch(n){case e:{s=(t-a)/u+(t<a?6:0);break}case t:{s=(a-e)/u+2;break}case a:{s=(e-t)/u+4;break}}s/=6}return{h:s*360,s:c*100,v:r*100}},Lt=function(e,t,a){e=$t(e,360)*6,t=$t(t,100),a=$t(a,100);const n=Math.floor(e),o=e-n,s=a*(1-t),r=a*(1-o*t),u=a*(1-(1-o)*t),c=n%6,v=[a,r,s,s,u,a][c],w=[u,a,a,r,s,s][c],b=[s,s,u,a,a,r][c];return{r:Math.round(v*255),g:Math.round(w*255),b:Math.round(b*255)}};class Ft{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const a in t)zt(t,a)&&(this[a]=t[a]);t.value?this.fromString(t.value):this.doOnChange()}set(t,a){if(arguments.length===1&&typeof t=="object"){for(const n in t)zt(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=a,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return Lt(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const a=(n,o,s)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,o)),this._value=Math.max(0,Math.min(100,s)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s,v:r}=Co(n[0],n[1],n[2]);a(o,s,r)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&a(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,s)=>s>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s,v:r}=ga(n[0],n[1],n[2]);a(o,s,r)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let o,s,r;n.length===3?(o=Ct(n[0]+n[0]),s=Ct(n[1]+n[1]),r=Ct(n[2]+n[2])):(n.length===6||n.length===8)&&(o=Ct(n.slice(0,2)),s=Ct(n.slice(2,4)),r=Ct(n.slice(4,6))),n.length===8?this._alpha=Ct(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:u,s:c,v}=ga(o,s,r);a(u,c,v)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:a,_value:n,_alpha:o,format:s}=this;if(this.enableAlpha)switch(s){case"hsl":{const r=ha(t,a/100,n/100);this.value=`hsla(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(a)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${ma(Lt(t,a,n))}${tn(o*255/100)}`;break}default:{const{r,g:u,b:c}=Lt(t,a,n);this.value=`rgba(${r}, ${u}, ${c}, ${this.get("alpha")/100})`}}else switch(s){case"hsl":{const r=ha(t,a/100,n/100);this.value=`hsl(${t}, ${Math.round(r[1]*100)}%, ${Math.round(r[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(a)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r,g:u,b:c}=Lt(t,a,n);this.value=`rgb(${r}, ${u}, ${c})`;break}default:this.value=ma(Lt(t,a,n))}}}const wo=ye({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=we("color-predefine"),{currentColor:a}=ze(Ra),n=z(s(e.colors,e.color));ie(()=>a.value,r=>{const u=new Ft;u.fromString(r),n.value.forEach(c=>{c.selected=u.compare(c)})}),ll(()=>{n.value=s(e.colors,e.color)});function o(r){e.color.fromString(e.colors[r])}function s(r,u){return r.map(c=>{const v=new Ft;return v.enableAlpha=!0,v.format="rgba",v.fromString(c),v.selected=v.value===u.value,v})}return{rgbaColors:n,handleSelect:o,ns:t}}}),So=["onClick"];function No(e,t,a,n,o,s){return M(),_("div",{class:C(e.ns.b())},[H("div",{class:C(e.ns.e("colors"))},[(M(!0),_($e,null,Re(e.rgbaColors,(r,u)=>(M(),_("div",{key:e.colors[u],class:C([e.ns.e("color-selector"),e.ns.is("alpha",r._alpha<100),{selected:r.selected}]),onClick:c=>e.handleSelect(u)},[H("div",{style:_e({backgroundColor:r.value})},null,4)],10,So))),128))],2)],2)}var Do=Ie(wo,[["render",No],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const Mo=ye({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=we("color-svpanel"),a=nt(),n=z(0),o=z(0),s=z("hsl(0, 100%, 50%)"),r=P(()=>{const v=e.color.get("hue"),w=e.color.get("value");return{hue:v,value:w}});function u(){const v=e.color.get("saturation"),w=e.color.get("value"),b=a.vnode.el,{clientWidth:f,clientHeight:d}=b;o.value=v*f/100,n.value=(100-w)*d/100,s.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function c(v){const b=a.vnode.el.getBoundingClientRect(),{clientX:f,clientY:d}=Zn(v);let g=f-b.left,i=d-b.top;g=Math.max(0,g),g=Math.min(g,b.width),i=Math.max(0,i),i=Math.min(i,b.height),o.value=g,n.value=i,e.color.set({saturation:g/b.width*100,value:100-i/b.height*100})}return ie(()=>r.value,()=>{u()}),rt(()=>{qt(a.vnode.el,{drag:v=>{c(v)},end:v=>{c(v)}}),u()}),{cursorTop:n,cursorLeft:o,background:s,colorValue:r,handleDrag:c,update:u,ns:t}}}),Oo=H("div",null,null,-1),$o=[Oo];function Po(e,t,a,n,o,s){return M(),_("div",{class:C(e.ns.b()),style:_e({backgroundColor:e.background})},[H("div",{class:C(e.ns.e("white"))},null,2),H("div",{class:C(e.ns.e("black"))},null,2),H("div",{class:C(e.ns.e("cursor")),style:_e({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},$o,6)],6)}var To=Ie(Mo,[["render",Po],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const Eo=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],Vo=ye({name:"ElColorPicker"}),Io=ye({...Vo,props:go,emits:bo,setup(e,{expose:t,emit:a}){const n=e,{t:o}=Ge(),s=we("color"),{formItem:r}=Cn(),u=wn(),c=wa(),{inputId:v,isLabeledByFormItem:w}=Sa(n,{formItemContext:r}),b=z(),f=z(),d=z(),g=z();let i=!0;const p=vt(new Ft({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),$=z(!1),y=z(!1),h=z(""),E=P(()=>!n.modelValue&&!y.value?"transparent":A(p,n.showAlpha)),S=P(()=>!n.modelValue&&!y.value?"":p.value),F=P(()=>w.value?void 0:n.label||o("el.colorpicker.defaultLabel")),G=P(()=>w.value?r==null?void 0:r.labelId:void 0),Y=P(()=>[s.b("picker"),s.is("disabled",c.value),s.bm("picker",u.value)]);function A(k,I){if(!(k instanceof Ft))throw new TypeError("color should be instance of _color Class");const{r:j,g:D,b:x}=k.toRgb();return I?`rgba(${j}, ${D}, ${x}, ${k.get("alpha")/100})`:`rgb(${j}, ${D}, ${x})`}function R(k){$.value=k}const Q=cn(R,100);function ve(){c.value||R(!0)}function X(){Q(!1),oe()}function oe(){ge(()=>{n.modelValue?p.fromString(n.modelValue):(p.value="",ge(()=>{y.value=!1}))})}function be(){c.value||Q(!$.value)}function fe(){p.fromString(h.value)}function V(){const k=p.value;a(xe,k),a("change",k),n.validateEvent&&(r==null||r.validate("change").catch(I=>Tt())),Q(!1),ge(()=>{const I=new Ft({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});p.compare(I)||oe()})}function L(){Q(!1),a(xe,null),a("change",null),n.modelValue!==null&&n.validateEvent&&(r==null||r.validate("change").catch(k=>Tt())),oe()}return rt(()=>{n.modelValue&&(h.value=S.value)}),ie(()=>n.modelValue,k=>{k?k&&k!==p.value&&(i=!1,p.fromString(k)):y.value=!1}),ie(()=>S.value,k=>{h.value=k,i&&a("activeChange",k),i=!0}),ie(()=>p.value,()=>{!n.modelValue&&!y.value&&(y.value=!0)}),ie(()=>$.value,()=>{ge(()=>{var k,I,j;(k=b.value)==null||k.update(),(I=f.value)==null||I.update(),(j=d.value)==null||j.update()})}),ut(Ra,{currentColor:S}),t({color:p,show:ve,hide:X}),(k,I)=>(M(),re(l(Xn),{ref_key:"popper",ref:g,visible:$.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[l(s).be("picker","panel"),l(s).b("dropdown"),k.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${l(s).namespace.value}-zoom-in-top`,persistent:""},{content:Z(()=>[Ke((M(),_("div",null,[H("div",{class:C(l(s).be("dropdown","main-wrapper"))},[W(mo,{ref_key:"hue",ref:b,class:"hue-slider",color:l(p),vertical:""},null,8,["color"]),W(To,{ref:"svPanel",color:l(p)},null,8,["color"])],2),k.showAlpha?(M(),re(po,{key:0,ref_key:"alpha",ref:d,color:l(p)},null,8,["color"])):te("v-if",!0),k.predefine?(M(),re(Do,{key:1,ref:"predefine",color:l(p),colors:k.predefine},null,8,["color","colors"])):te("v-if",!0),H("div",{class:C(l(s).be("dropdown","btns"))},[H("span",{class:C(l(s).be("dropdown","value"))},[W(l(gt),{modelValue:h.value,"onUpdate:modelValue":I[0]||(I[0]=j=>h.value=j),"validate-event":!1,size:"small",onKeyup:Be(fe,["enter"]),onBlur:fe},null,8,["modelValue","onKeyup"])],2),W(l(It),{class:C(l(s).be("dropdown","link-btn")),text:"",size:"small",onClick:L},{default:Z(()=>[ht(he(l(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),W(l(It),{plain:"",size:"small",class:C(l(s).be("dropdown","btn")),onClick:V},{default:Z(()=>[ht(he(l(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[l(Wt),X]])]),default:Z(()=>[H("div",{id:l(v),class:C(l(Y)),role:"button","aria-label":l(F),"aria-labelledby":l(G),"aria-description":l(o)("el.colorpicker.description",{color:k.modelValue||""}),tabindex:k.tabindex,onKeydown:Be(be,["enter"])},[l(c)?(M(),_("div",{key:0,class:C(l(s).be("picker","mask"))},null,2)):te("v-if",!0),H("div",{class:C(l(s).be("picker","trigger")),onClick:be},[H("span",{class:C([l(s).be("picker","color"),l(s).is("alpha",k.showAlpha)])},[H("span",{class:C(l(s).be("picker","color-inner")),style:_e({backgroundColor:l(E)})},[Ke(W(l(Ce),{class:C([l(s).be("picker","icon"),l(s).is("icon-arrow-down")])},{default:Z(()=>[W(l(Un))]),_:1},8,["class"]),[[tt,k.modelValue||y.value]]),!k.modelValue&&!y.value?(M(),re(l(Ce),{key:0,class:C([l(s).be("picker","empty"),l(s).is("icon-close")])},{default:Z(()=>[W(l(ol))]),_:1},8,["class"])):te("v-if",!0)],6)],2)],2)],42,Eo)]),_:1},8,["visible","popper-class","transition"]))}});var Ao=Ie(Io,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const Ko=Gn(Ao);var pn={exports:{}};pn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){return function(a,n){var o=n.prototype,s=o.format;o.format=function(r){var u=this,c=this.$locale();if(!this.isValid())return s.bind(this)(r);var v=this.$utils(),w=(r||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return c.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return c.ordinal(u.week(),"W");case"w":case"ww":return v.s(u.week(),b==="w"?1:2,"0");case"W":case"WW":return v.s(u.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return v.s(String(u.$H===0?24:u.$H),b==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return b}});return s.bind(this)(w)}}})})(pn,pn.exports);var Lo=pn.exports;const Bo=Dt(Lo);var hn={exports:{}};hn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){var a="week",n="year";return function(o,s,r){var u=s.prototype;u.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var v=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var w=r(this).startOf(n).add(1,n).date(v),b=r(this).endOf(a);if(w.isBefore(b))return 1}var f=r(this).startOf(n).date(v).startOf(a).subtract(1,"millisecond"),d=this.diff(f,a,!0);return d<0?r(this).startOf("week").week():Math.ceil(d)},u.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(hn,hn.exports);var Ro=hn.exports;const Fo=Dt(Ro);var vn={exports:{}};vn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){return function(a,n){n.prototype.weekYear=function(){var o=this.month(),s=this.week(),r=this.year();return s===1&&o===11?r+1:o===0&&s>=52?r-1:r}}})})(vn,vn.exports);var Yo=vn.exports;const zo=Dt(Yo);var mn={exports:{}};mn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){return function(a,n,o){n.prototype.dayOfYear=function(s){var r=Math.round((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return s==null?r:this.add(s-r,"day")}}})})(mn,mn.exports);var Ho=mn.exports;const _o=Dt(Ho);var gn={exports:{}};gn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){return function(a,n){n.prototype.isSameOrAfter=function(o,s){return this.isSame(o,s)||this.isAfter(o,s)}}})})(gn,gn.exports);var xo=gn.exports;const Wo=Dt(xo);var bn={exports:{}};bn.exports;(function(e,t){(function(a,n){e.exports=n()})(Nt,function(){return function(a,n){n.prototype.isSameOrBefore=function(o,s){return this.isSame(o,s)||this.isBefore(o,s)}}})})(bn,bn.exports);var qo=bn.exports;const jo=Dt(qo),Jn=Symbol(),Uo=He({...La,type:{type:Ne(String),default:"date"}}),Go=["date","dates","year","month","week","range"],ea=He({disabledDate:{type:Ne(Function)},date:{type:Ne(Object),required:!0},minDate:{type:Ne(Object)},maxDate:{type:Ne(Object)},parsedValue:{type:Ne([Object,Array])},rangeState:{type:Ne(Object),default:()=>({endDate:null,selecting:!1})}}),Fa=He({type:{type:Ne(String),required:!0,values:El}}),Ya=He({unlinkPanels:Boolean,parsedValue:{type:Ne(Array)}}),za=e=>({type:String,values:Go,default:e}),Qo=He({...Fa,parsedValue:{type:Ne([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Xo=He({...ea,cellClassName:{type:Ne(Function)},showWeekNumber:Boolean,selectionMode:za("date")}),Fn=e=>{if(!Xe(e))return!1;const[t,a]=e;return se.isDayjs(t)&&se.isDayjs(a)&&t.isSameOrBefore(a)},Ha=(e,{lang:t,unit:a,unlinkPanels:n})=>{let o;if(Xe(e)){let[s,r]=e.map(u=>se(u).locale(t));return n||(r=s.add(1,a)),[s,r]}else e?o=se(e):o=se();return o=o.locale(t),[o,o.add(1,a)]},Zo=(e,t,{columnIndexOffset:a,startDate:n,nextEndDate:o,now:s,unit:r,relativeDateGetter:u,setCellMetadata:c,setRowMetadata:v})=>{for(let w=0;w<e.row;w++){const b=t[w];for(let f=0;f<e.column;f++){let d=b[f+a];d||(d={row:w,column:f,type:"normal",inRange:!1,start:!1,end:!1});const g=w*e.column+f,i=u(g);d.dayjs=i,d.date=i.toDate(),d.timestamp=i.valueOf(),d.type="normal",d.inRange=!!(n&&i.isSameOrAfter(n,r)&&o&&i.isSameOrBefore(o,r))||!!(n&&i.isSameOrBefore(n,r)&&o&&i.isSameOrAfter(o,r)),n!=null&&n.isSameOrAfter(o)?(d.start=!!o&&i.isSame(o,r),d.end=n&&i.isSame(n,r)):(d.start=!!n&&i.isSame(n,r),d.end=!!o&&i.isSame(o,r)),i.isSame(s,r)&&(d.type="today"),c==null||c(d,{rowIndex:w,columnIndex:f}),b[f+a]=d}v==null||v(b)}},Jo=He({cell:{type:Ne(Object)}});var es=ye({name:"ElDatePickerCell",props:Jo,setup(e){const t=we("date-table-cell"),{slots:a}=ze(Jn);return()=>{const{cell:n}=e;if(a.default){const o=a.default(n).filter(s=>s.patchFlag!==-2&&s.type.toString()!=="Symbol(Comment)");if(o.length)return o}return W("div",{class:t.b()},[W("span",{class:t.e("text")},[n==null?void 0:n.text])])}}});const ts=["aria-label","onMousedown"],ns={key:0,scope:"col"},as=["aria-label"],ls=["aria-current","aria-selected","tabindex"],os=ye({__name:"basic-date-table",props:Xo,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=we("date-table"),{t:s,lang:r}=Ge(),u=z(),c=z(),v=z(),w=z(),b=z([[],[],[],[],[],[]]);let f=!1;const d=n.date.$locale().weekStart||7,g=n.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),i=P(()=>d>3?7-d:-d),p=P(()=>{const D=n.date.startOf("month");return D.subtract(D.day()||7,"day")}),$=P(()=>g.concat(g).slice(d,d+7)),y=P(()=>Pl(Y.value).some(D=>D.isCurrent)),h=P(()=>{const D=n.date.startOf("month"),x=D.day()||7,J=D.daysInMonth(),ne=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:x,dateCountOfMonth:J,dateCountOfLastMonth:ne}}),E=P(()=>n.selectionMode==="dates"?wt(n.parsedValue):[]),S=(D,{count:x,rowIndex:J,columnIndex:ne})=>{const{startOfMonthDay:ae,dateCountOfMonth:Se,dateCountOfLastMonth:de}=l(h),ke=l(i);if(J>=0&&J<=1){const me=ae+ke<0?7+ae+ke:ae+ke;if(ne+J*7>=me)return D.text=x,!0;D.text=de-(me-ne%7)+1+J*7,D.type="prev-month"}else return x<=Se?D.text=x:(D.text=x-Se,D.type="next-month"),!0;return!1},F=(D,{columnIndex:x,rowIndex:J},ne)=>{const{disabledDate:ae,cellClassName:Se}=n,de=l(E),ke=S(D,{count:ne,rowIndex:J,columnIndex:x}),me=D.dayjs.toDate();return D.selected=de.find(Fe=>Fe.valueOf()===D.dayjs.valueOf()),D.isSelected=!!D.selected,D.isCurrent=Q(D),D.disabled=ae==null?void 0:ae(me),D.customClass=Se==null?void 0:Se(me),ke},G=D=>{if(n.selectionMode==="week"){const[x,J]=n.showWeekNumber?[1,7]:[0,6],ne=j(D[x+1]);D[x].inRange=ne,D[x].start=ne,D[J].inRange=ne,D[J].end=ne}},Y=P(()=>{const{minDate:D,maxDate:x,rangeState:J,showWeekNumber:ne}=n,ae=i.value,Se=b.value,de="day";let ke=1;if(ne)for(let me=0;me<6;me++)Se[me][0]||(Se[me][0]={type:"week",text:p.value.add(me*7+1,de).week()});return Zo({row:6,column:7},Se,{startDate:D,columnIndexOffset:ne?1:0,nextEndDate:J.endDate||x||J.selecting&&D||null,now:se().locale(l(r)).startOf(de),unit:de,relativeDateGetter:me=>p.value.add(me-ae,de),setCellMetadata:(...me)=>{F(...me,ke)&&(ke+=1)},setRowMetadata:G}),Se});ie(()=>n.date,async()=>{var D,x;(D=u.value)!=null&&D.contains(document.activeElement)&&(await ge(),(x=c.value)==null||x.focus())});const A=async()=>{var D;(D=c.value)==null||D.focus()},R=(D="")=>["normal","today"].includes(D),Q=D=>n.selectionMode==="date"&&R(D.type)&&ve(D,n.parsedValue),ve=(D,x)=>x?se(x).locale(r.value).isSame(n.date.date(Number(D.text)),"day"):!1,X=D=>{const x=[];return R(D.type)&&!D.disabled?(x.push("available"),D.type==="today"&&x.push("today")):x.push(D.type),Q(D)&&x.push("current"),D.inRange&&(R(D.type)||n.selectionMode==="week")&&(x.push("in-range"),D.start&&x.push("start-date"),D.end&&x.push("end-date")),D.disabled&&x.push("disabled"),D.selected&&x.push("selected"),D.customClass&&x.push(D.customClass),x.join(" ")},oe=(D,x)=>{const J=D*7+(x-(n.showWeekNumber?1:0))-i.value;return p.value.add(J,"day")},be=D=>{var x;if(!n.rangeState.selecting)return;let J=D.target;if(J.tagName==="SPAN"&&(J=(x=J.parentNode)==null?void 0:x.parentNode),J.tagName==="DIV"&&(J=J.parentNode),J.tagName!=="TD")return;const ne=J.parentNode.rowIndex-1,ae=J.cellIndex;Y.value[ne][ae].disabled||(ne!==v.value||ae!==w.value)&&(v.value=ne,w.value=ae,a("changerange",{selecting:!0,endDate:oe(ne,ae)}))},fe=D=>!y.value&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,V=D=>{f||y.value||n.selectionMode!=="date"||I(D,!0)},L=D=>{D.target.closest("td")&&(f=!0)},k=D=>{D.target.closest("td")&&(f=!1)},I=(D,x=!1)=>{const J=D.target.closest("td");if(!J)return;const ne=J.parentNode.rowIndex-1,ae=J.cellIndex,Se=Y.value[ne][ae];if(Se.disabled||Se.type==="week")return;const de=oe(ne,ae);if(n.selectionMode==="range")!n.rangeState.selecting||!n.minDate?(a("pick",{minDate:de,maxDate:null}),a("select",!0)):(de>=n.minDate?a("pick",{minDate:n.minDate,maxDate:de}):a("pick",{minDate:de,maxDate:n.minDate}),a("select",!1));else if(n.selectionMode==="date")a("pick",de,x);else if(n.selectionMode==="week"){const ke=de.week(),me=`${de.year()}w${ke}`;a("pick",{year:de.year(),week:ke,value:me,date:de.startOf("week")})}else if(n.selectionMode==="dates"){const ke=Se.selected?wt(n.parsedValue).filter(me=>(me==null?void 0:me.valueOf())!==de.valueOf()):wt(n.parsedValue).concat([de]);a("pick",ke)}},j=D=>{if(n.selectionMode!=="week")return!1;let x=n.date.startOf("day");if(D.type==="prev-month"&&(x=x.subtract(1,"month")),D.type==="next-month"&&(x=x.add(1,"month")),x=x.date(Number.parseInt(D.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const J=(n.parsedValue.day()-d+7)%7-1;return n.parsedValue.subtract(J,"day").isSame(x,"day")}return!1};return t({focus:A}),(D,x)=>(M(),_("table",{role:"grid","aria-label":l(s)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:C([l(o).b(),{"is-week-mode":D.selectionMode==="week"}]),onClick:I,onMousemove:be,onMousedown:Te(L,["prevent"]),onMouseup:k},[H("tbody",{ref_key:"tbodyRef",ref:u},[H("tr",null,[D.showWeekNumber?(M(),_("th",ns,he(l(s)("el.datepicker.week")),1)):te("v-if",!0),(M(!0),_($e,null,Re(l($),(J,ne)=>(M(),_("th",{key:ne,scope:"col","aria-label":l(s)("el.datepicker.weeksFull."+J)},he(l(s)("el.datepicker.weeks."+J)),9,as))),128))]),(M(!0),_($e,null,Re(l(Y),(J,ne)=>(M(),_("tr",{key:ne,class:C([l(o).e("row"),{current:j(J[1])}])},[(M(!0),_($e,null,Re(J,(ae,Se)=>(M(),_("td",{key:`${ne}.${Se}`,ref_for:!0,ref:de=>fe(ae)&&(c.value=de),class:C(X(ae)),"aria-current":ae.isCurrent?"date":void 0,"aria-selected":ae.isCurrent,tabindex:fe(ae)?0:-1,onFocus:V},[W(l(es),{cell:ae},null,8,["cell"])],42,ls))),128))],2))),128))],512)],42,ts))}});var Yn=Ie(os,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const ss=He({...ea,selectionMode:za("month")}),rs=["aria-label"],is=["aria-selected","aria-label","tabindex","onKeydown"],us={class:"cell"},ds=ye({__name:"basic-month-table",props:ss,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=(E,S,F)=>{const G=se().locale(F).startOf("month").month(S).year(E),Y=G.daysInMonth();return Va(Y).map(A=>G.add(A,"day").toDate())},s=we("month-table"),{t:r,lang:u}=Ge(),c=z(),v=z(),w=z(n.date.locale("en").localeData().monthsShort().map(E=>E.toLowerCase())),b=z([[],[],[]]),f=z(),d=z(),g=P(()=>{var E,S;const F=b.value,G=se().locale(u.value).startOf("month");for(let Y=0;Y<3;Y++){const A=F[Y];for(let R=0;R<4;R++){const Q=A[R]||(A[R]={row:Y,column:R,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Q.type="normal";const ve=Y*4+R,X=n.date.startOf("year").month(ve),oe=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;Q.inRange=!!(n.minDate&&X.isSameOrAfter(n.minDate,"month")&&oe&&X.isSameOrBefore(oe,"month"))||!!(n.minDate&&X.isSameOrBefore(n.minDate,"month")&&oe&&X.isSameOrAfter(oe,"month")),(E=n.minDate)!=null&&E.isSameOrAfter(oe)?(Q.start=!!(oe&&X.isSame(oe,"month")),Q.end=n.minDate&&X.isSame(n.minDate,"month")):(Q.start=!!(n.minDate&&X.isSame(n.minDate,"month")),Q.end=!!(oe&&X.isSame(oe,"month"))),G.isSame(X)&&(Q.type="today"),Q.text=ve,Q.disabled=((S=n.disabledDate)==null?void 0:S.call(n,X.toDate()))||!1}}return F}),i=()=>{var E;(E=v.value)==null||E.focus()},p=E=>{const S={},F=n.date.year(),G=new Date,Y=E.text;return S.disabled=n.disabledDate?o(F,Y,u.value).every(n.disabledDate):!1,S.current=wt(n.parsedValue).findIndex(A=>se.isDayjs(A)&&A.year()===F&&A.month()===Y)>=0,S.today=G.getFullYear()===F&&G.getMonth()===Y,E.inRange&&(S["in-range"]=!0,E.start&&(S["start-date"]=!0),E.end&&(S["end-date"]=!0)),S},$=E=>{const S=n.date.year(),F=E.text;return wt(n.date).findIndex(G=>G.year()===S&&G.month()===F)>=0},y=E=>{var S;if(!n.rangeState.selecting)return;let F=E.target;if(F.tagName==="A"&&(F=(S=F.parentNode)==null?void 0:S.parentNode),F.tagName==="DIV"&&(F=F.parentNode),F.tagName!=="TD")return;const G=F.parentNode.rowIndex,Y=F.cellIndex;g.value[G][Y].disabled||(G!==f.value||Y!==d.value)&&(f.value=G,d.value=Y,a("changerange",{selecting:!0,endDate:n.date.startOf("year").month(G*4+Y)}))},h=E=>{var S;const F=(S=E.target)==null?void 0:S.closest("td");if((F==null?void 0:F.tagName)!=="TD"||Na(F,"disabled"))return;const G=F.cellIndex,A=F.parentNode.rowIndex*4+G,R=n.date.startOf("year").month(A);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&R>=n.minDate?a("pick",{minDate:n.minDate,maxDate:R}):a("pick",{minDate:R,maxDate:n.minDate}),a("select",!1)):(a("pick",{minDate:R,maxDate:null}),a("select",!0)):a("pick",A)};return ie(()=>n.date,async()=>{var E,S;(E=c.value)!=null&&E.contains(document.activeElement)&&(await ge(),(S=v.value)==null||S.focus())}),t({focus:i}),(E,S)=>(M(),_("table",{role:"grid","aria-label":l(r)("el.datepicker.monthTablePrompt"),class:C(l(s).b()),onClick:h,onMousemove:y},[H("tbody",{ref_key:"tbodyRef",ref:c},[(M(!0),_($e,null,Re(l(g),(F,G)=>(M(),_("tr",{key:G},[(M(!0),_($e,null,Re(F,(Y,A)=>(M(),_("td",{key:A,ref_for:!0,ref:R=>$(Y)&&(v.value=R),class:C(p(Y)),"aria-selected":`${$(Y)}`,"aria-label":l(r)(`el.datepicker.month${+Y.text+1}`),tabindex:$(Y)?0:-1,onKeydown:[Be(Te(h,["prevent","stop"]),["space"]),Be(Te(h,["prevent","stop"]),["enter"])]},[H("div",null,[H("span",us,he(l(r)("el.datepicker.months."+w.value[Y.text])),1)])],42,is))),128))]))),128))],512)],42,rs))}});var zn=Ie(ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:cs,disabledDate:fs,parsedValue:ps}=ea,hs=He({date:cs,disabledDate:fs,parsedValue:ps}),vs=["aria-label"],ms=["aria-selected","tabindex","onKeydown"],gs={class:"cell"},bs={key:1},ys=ye({__name:"basic-year-table",props:hs,emits:["pick"],setup(e,{expose:t,emit:a}){const n=e,o=(i,p)=>{const $=se(String(i)).locale(p).startOf("year"),h=$.endOf("year").dayOfYear();return Va(h).map(E=>$.add(E,"day").toDate())},s=we("year-table"),{t:r,lang:u}=Ge(),c=z(),v=z(),w=P(()=>Math.floor(n.date.year()/10)*10),b=()=>{var i;(i=v.value)==null||i.focus()},f=i=>{const p={},$=se().locale(u.value);return p.disabled=n.disabledDate?o(i,u.value).every(n.disabledDate):!1,p.current=wt(n.parsedValue).findIndex(y=>y.year()===i)>=0,p.today=$.year()===i,p},d=i=>i===w.value&&n.date.year()<w.value&&n.date.year()>w.value+9||wt(n.date).findIndex(p=>p.year()===i)>=0,g=i=>{const $=i.target.closest("td");if($&&$.textContent){if(Na($,"disabled"))return;const y=$.textContent||$.innerText;a("pick",Number(y))}};return ie(()=>n.date,async()=>{var i,p;(i=c.value)!=null&&i.contains(document.activeElement)&&(await ge(),(p=v.value)==null||p.focus())}),t({focus:b}),(i,p)=>(M(),_("table",{role:"grid","aria-label":l(r)("el.datepicker.yearTablePrompt"),class:C(l(s).b()),onClick:g},[H("tbody",{ref_key:"tbodyRef",ref:c},[(M(),_($e,null,Re(3,($,y)=>H("tr",{key:y},[(M(),_($e,null,Re(4,(h,E)=>(M(),_($e,{key:y+"_"+E},[y*4+E<10?(M(),_("td",{key:0,ref_for:!0,ref:S=>d(l(w)+y*4+E)&&(v.value=S),class:C(["available",f(l(w)+y*4+E)]),"aria-selected":`${d(l(w)+y*4+E)}`,tabindex:d(l(w)+y*4+E)?0:-1,onKeydown:[Be(Te(g,["prevent","stop"]),["space"]),Be(Te(g,["prevent","stop"]),["enter"])]},[H("span",gs,he(l(w)+y*4+E),1)],42,ms)):(M(),_("td",bs))],64))),64))])),64))],512)],10,vs))}});var ks=Ie(ys,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Cs=["onClick"],ws=["aria-label"],Ss=["aria-label"],Ns=["aria-label"],Ds=["aria-label"],Ms=ye({__name:"panel-date-pick",props:Qo,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const a=e,n=(T,U,le)=>!0,o=we("picker-panel"),s=we("date-picker"),r=Qn(),u=Da(),{t:c,lang:v}=Ge(),w=ze("EP_PICKER_BASE"),b=ze(Ml),{shortcuts:f,disabledDate:d,cellClassName:g,defaultTime:i,arrowControl:p}=w.props,$=At(w.props,"defaultValue"),y=z(),h=z(se().locale(v.value)),E=z(!1),S=P(()=>se(i).locale(v.value)),F=P(()=>h.value.month()),G=P(()=>h.value.year()),Y=z([]),A=z(null),R=z(null),Q=T=>Y.value.length>0?n(T,Y.value,a.format||"HH:mm:ss"):!0,ve=T=>i&&!Pe.value&&!E.value?S.value.year(T.year()).month(T.month()).date(T.date()):ae.value?T.millisecond(0):T.startOf("day"),X=(T,...U)=>{if(!T)t("pick",T,...U);else if(Xe(T)){const le=T.map(ve);t("pick",le,...U)}else t("pick",ve(T),...U);A.value=null,R.value=null,E.value=!1},oe=(T,U)=>{if(I.value==="date"){T=T;let le=a.parsedValue?a.parsedValue.year(T.year()).month(T.month()).date(T.date()):T;Q(le)||(le=Y.value[0][0].year(T.year()).month(T.month()).date(T.date())),h.value=le,X(le,ae.value||U)}else I.value==="week"?X(T.date):I.value==="dates"&&X(T,!0)},be=T=>{const U=T?"add":"subtract";h.value=h.value[U](1,"month"),De("month")},fe=T=>{const U=h.value,le=T?"add":"subtract";h.value=V.value==="year"?U[le](10,"year"):U[le](1,"year"),De("year")},V=z("date"),L=P(()=>{const T=c("el.datepicker.year");if(V.value==="year"){const U=Math.floor(G.value/10)*10;return T?`${U} ${T} - ${U+9} ${T}`:`${U} - ${U+9}`}return`${G.value} ${T}`}),k=T=>{const U=Ze(T.value)?T.value():T.value;if(U){X(se(U).locale(v.value));return}T.onClick&&T.onClick({attrs:r,slots:u,emit:t})},I=P(()=>{const{type:T}=a;return["week","month","year","dates"].includes(T)?T:"date"}),j=P(()=>I.value==="date"?V.value:I.value),D=P(()=>!!f.length),x=async T=>{h.value=h.value.startOf("month").month(T),I.value==="month"?X(h.value,!1):(V.value="date",["month","year","date","week"].includes(I.value)&&(X(h.value,!0),await ge(),et())),De("month")},J=async T=>{I.value==="year"?(h.value=h.value.startOf("year").year(T),X(h.value,!1)):(h.value=h.value.year(T),V.value="month",["month","year","date","week"].includes(I.value)&&(X(h.value,!0),await ge(),et())),De("year")},ne=async T=>{V.value=T,await ge(),et()},ae=P(()=>a.type==="datetime"||a.type==="datetimerange"),Se=P(()=>ae.value||I.value==="dates"),de=()=>{if(I.value==="dates")X(a.parsedValue);else{let T=a.parsedValue;if(!T){const U=se(i).locale(v.value),le=Je();T=U.year(le.year()).month(le.month()).date(le.date())}h.value=T,X(T)}},ke=()=>{const U=se().locale(v.value).toDate();E.value=!0,(!d||!d(U))&&Q(U)&&(h.value=se().locale(v.value),X(h.value))},me=P(()=>Ia(a.format)),Fe=P(()=>Aa(a.format)),Pe=P(()=>{if(R.value)return R.value;if(!(!a.parsedValue&&!$.value))return(a.parsedValue||h.value).format(me.value)}),Le=P(()=>{if(A.value)return A.value;if(!(!a.parsedValue&&!$.value))return(a.parsedValue||h.value).format(Fe.value)}),Ee=z(!1),We=()=>{Ee.value=!0},Qe=()=>{Ee.value=!1},pe=T=>({hour:T.hour(),minute:T.minute(),second:T.second(),year:T.year(),month:T.month(),date:T.date()}),at=(T,U,le)=>{const{hour:m,minute:O,second:B}=pe(T),q=a.parsedValue?a.parsedValue.hour(m).minute(O).second(B):T;h.value=q,X(h.value,!0),le||(Ee.value=U)},Ye=T=>{const U=se(T,me.value).locale(v.value);if(U.isValid()&&Q(U)){const{year:le,month:m,date:O}=pe(h.value);h.value=U.year(le).month(m).date(O),R.value=null,Ee.value=!1,X(h.value,!0)}},qe=T=>{const U=se(T,Fe.value).locale(v.value);if(U.isValid()){if(d&&d(U.toDate()))return;const{hour:le,minute:m,second:O}=pe(h.value);h.value=U.hour(le).minute(m).second(O),A.value=null,X(h.value,!0)}},lt=T=>se.isDayjs(T)&&T.isValid()&&(d?!d(T.toDate()):!0),dt=T=>I.value==="dates"?T.map(U=>U.format(a.format)):T.format(a.format),je=T=>se(T,a.format).locale(v.value),Je=()=>{const T=se($.value).locale(v.value);if(!$.value){const U=S.value;return se().hour(U.hour()).minute(U.minute()).second(U.second()).locale(v.value)}return T},et=async()=>{var T;["week","month","year","date"].includes(I.value)&&((T=y.value)==null||T.focus(),I.value==="week"&&ct(Me.down))},ot=T=>{const{code:U}=T;[Me.up,Me.down,Me.left,Me.right,Me.home,Me.end,Me.pageUp,Me.pageDown].includes(U)&&(ct(U),T.stopPropagation(),T.preventDefault()),[Me.enter,Me.space,Me.numpadEnter].includes(U)&&A.value===null&&R.value===null&&(T.preventDefault(),X(h.value,!1))},ct=T=>{var U;const{up:le,down:m,left:O,right:B,home:q,end:Ae,pageUp:N,pageDown:K}=Me,ee={year:{[le]:-4,[m]:4,[O]:-1,[B]:1,offset:(ue,Oe)=>ue.setFullYear(ue.getFullYear()+Oe)},month:{[le]:-4,[m]:4,[O]:-1,[B]:1,offset:(ue,Oe)=>ue.setMonth(ue.getMonth()+Oe)},week:{[le]:-1,[m]:1,[O]:-1,[B]:1,offset:(ue,Oe)=>ue.setDate(ue.getDate()+Oe*7)},date:{[le]:-7,[m]:7,[O]:-1,[B]:1,[q]:ue=>-ue.getDay(),[Ae]:ue=>-ue.getDay()+6,[N]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[K]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Oe)=>ue.setDate(ue.getDate()+Oe)}},ce=h.value.toDate();for(;Math.abs(h.value.diff(ce,"year",!0))<1;){const ue=ee[j.value];if(!ue)return;if(ue.offset(ce,Ze(ue[T])?ue[T](ce):(U=ue[T])!=null?U:0),d&&d(ce))break;const Oe=se(ce).locale(v.value);h.value=Oe,t("pick",Oe,!0);break}},De=T=>{t("panel-change",h.value.toDate(),T,V.value)};return ie(()=>I.value,T=>{if(["month","year"].includes(T)){V.value=T;return}V.value="date"},{immediate:!0}),ie(()=>V.value,()=>{b==null||b.updatePopper()}),ie(()=>$.value,T=>{T&&(h.value=Je())},{immediate:!0}),ie(()=>a.parsedValue,T=>{if(T){if(I.value==="dates"||Array.isArray(T))return;h.value=T}else h.value=Je()},{immediate:!0}),t("set-picker-option",["isValidValue",lt]),t("set-picker-option",["formatToString",dt]),t("set-picker-option",["parseUserInput",je]),t("set-picker-option",["handleFocusPicker",et]),(T,U)=>(M(),_("div",{class:C([l(o).b(),l(s).b(),{"has-sidebar":T.$slots.sidebar||l(D),"has-time":l(ae)}])},[H("div",{class:C(l(o).e("body-wrapper"))},[st(T.$slots,"sidebar",{class:C(l(o).e("sidebar"))}),l(D)?(M(),_("div",{key:0,class:C(l(o).e("sidebar"))},[(M(!0),_($e,null,Re(l(f),(le,m)=>(M(),_("button",{key:m,type:"button",class:C(l(o).e("shortcut")),onClick:O=>k(le)},he(le.text),11,Cs))),128))],2)):te("v-if",!0),H("div",{class:C(l(o).e("body"))},[l(ae)?(M(),_("div",{key:0,class:C(l(s).e("time-header"))},[H("span",{class:C(l(s).e("editor-wrap"))},[W(l(gt),{placeholder:l(c)("el.datepicker.selectDate"),"model-value":l(Le),size:"small","validate-event":!1,onInput:U[0]||(U[0]=le=>A.value=le),onChange:qe},null,8,["placeholder","model-value"])],2),Ke((M(),_("span",{class:C(l(s).e("editor-wrap"))},[W(l(gt),{placeholder:l(c)("el.datepicker.selectTime"),"model-value":l(Pe),size:"small","validate-event":!1,onFocus:We,onInput:U[1]||(U[1]=le=>R.value=le),onChange:Ye},null,8,["placeholder","model-value"]),W(l(Rn),{visible:Ee.value,format:l(me),"time-arrow-control":l(p),"parsed-value":h.value,onPick:at},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),Qe]])],2)):te("v-if",!0),Ke(H("div",{class:C([l(s).e("header"),(V.value==="year"||V.value==="month")&&l(s).e("header--bordered")])},[H("span",{class:C(l(s).e("prev-btn"))},[H("button",{type:"button","aria-label":l(c)("el.datepicker.prevYear"),class:C(["d-arrow-left",l(o).e("icon-btn")]),onClick:U[2]||(U[2]=le=>fe(!1))},[W(l(Ce),null,{default:Z(()=>[W(l(Ht))]),_:1})],10,ws),Ke(H("button",{type:"button","aria-label":l(c)("el.datepicker.prevMonth"),class:C([l(o).e("icon-btn"),"arrow-left"]),onClick:U[3]||(U[3]=le=>be(!1))},[W(l(Ce),null,{default:Z(()=>[W(l(An))]),_:1})],10,Ss),[[tt,V.value==="date"]])],2),H("span",{role:"button",class:C(l(s).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:U[4]||(U[4]=Be(le=>ne("year"),["enter"])),onClick:U[5]||(U[5]=le=>ne("year"))},he(l(L)),35),Ke(H("span",{role:"button","aria-live":"polite",tabindex:"0",class:C([l(s).e("header-label"),{active:V.value==="month"}]),onKeydown:U[6]||(U[6]=Be(le=>ne("month"),["enter"])),onClick:U[7]||(U[7]=le=>ne("month"))},he(l(c)(`el.datepicker.month${l(F)+1}`)),35),[[tt,V.value==="date"]]),H("span",{class:C(l(s).e("next-btn"))},[Ke(H("button",{type:"button","aria-label":l(c)("el.datepicker.nextMonth"),class:C([l(o).e("icon-btn"),"arrow-right"]),onClick:U[8]||(U[8]=le=>be(!0))},[W(l(Ce),null,{default:Z(()=>[W(l(Zt))]),_:1})],10,Ns),[[tt,V.value==="date"]]),H("button",{type:"button","aria-label":l(c)("el.datepicker.nextYear"),class:C([l(o).e("icon-btn"),"d-arrow-right"]),onClick:U[9]||(U[9]=le=>fe(!0))},[W(l(Ce),null,{default:Z(()=>[W(l(_t))]),_:1})],10,Ds)],2)],2),[[tt,V.value!=="time"]]),H("div",{class:C(l(o).e("content")),onKeydown:ot},[V.value==="date"?(M(),re(Yn,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":l(I),date:h.value,"parsed-value":T.parsedValue,"disabled-date":l(d),"cell-class-name":l(g),onPick:oe},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):te("v-if",!0),V.value==="year"?(M(),re(ks,{key:1,ref_key:"currentViewRef",ref:y,date:h.value,"disabled-date":l(d),"parsed-value":T.parsedValue,onPick:J},null,8,["date","disabled-date","parsed-value"])):te("v-if",!0),V.value==="month"?(M(),re(zn,{key:2,ref_key:"currentViewRef",ref:y,date:h.value,"parsed-value":T.parsedValue,"disabled-date":l(d),onPick:x},null,8,["date","parsed-value","disabled-date"])):te("v-if",!0)],34)],2)],2),Ke(H("div",{class:C(l(o).e("footer"))},[Ke(W(l(It),{text:"",size:"small",class:C(l(o).e("link-btn")),onClick:ke},{default:Z(()=>[ht(he(l(c)("el.datepicker.now")),1)]),_:1},8,["class"]),[[tt,l(I)!=="dates"]]),W(l(It),{plain:"",size:"small",class:C(l(o).e("link-btn")),onClick:de},{default:Z(()=>[ht(he(l(c)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[tt,l(Se)&&V.value==="date"]])],2))}});var Os=Ie(Ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const $s=He({...Fa,...Ya}),Ps=e=>{const{emit:t}=nt(),a=Qn(),n=Da();return s=>{const r=Ze(s.value)?s.value():s.value;if(r){t("pick",[se(r[0]).locale(e.value),se(r[1]).locale(e.value)]);return}s.onClick&&s.onClick({attrs:a,slots:n,emit:t})}},_a=(e,{defaultValue:t,leftDate:a,rightDate:n,unit:o,onParsedValueChanged:s})=>{const{emit:r}=nt(),{pickerNs:u}=ze(Jn),c=we("date-range-picker"),{t:v,lang:w}=Ge(),b=Ps(w),f=z(),d=z(),g=z({endDate:null,selecting:!1}),i=h=>{g.value=h},p=(h=!1)=>{const E=l(f),S=l(d);Fn([E,S])&&r("pick",[E,S],h)},$=h=>{g.value.selecting=h,h||(g.value.endDate=null)},y=()=>{const[h,E]=Ha(l(t),{lang:l(w),unit:o,unlinkPanels:e.unlinkPanels});f.value=void 0,d.value=void 0,a.value=h,n.value=E};return ie(t,h=>{h&&y()},{immediate:!0}),ie(()=>e.parsedValue,h=>{if(Xe(h)&&h.length===2){const[E,S]=h;f.value=E,a.value=E,d.value=S,s(l(f),l(d))}else y()},{immediate:!0}),{minDate:f,maxDate:d,rangeState:g,lang:w,ppNs:u,drpNs:c,handleChangeRange:i,handleRangeConfirm:p,handleShortcutClick:b,onSelect:$,t:v}},Ts=["onClick"],Es=["disabled"],Vs=["disabled"],Is=["disabled"],As=["disabled"],Gt="month",Ks=ye({__name:"panel-date-range",props:$s,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const a=e,n=ze("EP_PICKER_BASE"),{disabledDate:o,cellClassName:s,format:r,defaultTime:u,arrowControl:c,clearable:v}=n.props,w=At(n.props,"shortcuts"),b=At(n.props,"defaultValue"),{lang:f}=Ge(),d=z(se().locale(f.value)),g=z(se().locale(f.value).add(1,Gt)),{minDate:i,maxDate:p,rangeState:$,ppNs:y,drpNs:h,handleChangeRange:E,handleRangeConfirm:S,handleShortcutClick:F,onSelect:G,t:Y}=_a(a,{defaultValue:b,leftDate:d,rightDate:g,unit:Gt,onParsedValueChanged:m}),A=z({min:null,max:null}),R=z({min:null,max:null}),Q=P(()=>`${d.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${d.value.month()+1}`)}`),ve=P(()=>`${g.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${g.value.month()+1}`)}`),X=P(()=>d.value.year()),oe=P(()=>d.value.month()),be=P(()=>g.value.year()),fe=P(()=>g.value.month()),V=P(()=>!!w.value.length),L=P(()=>A.value.min!==null?A.value.min:i.value?i.value.format(x.value):""),k=P(()=>A.value.max!==null?A.value.max:p.value||i.value?(p.value||i.value).format(x.value):""),I=P(()=>R.value.min!==null?R.value.min:i.value?i.value.format(D.value):""),j=P(()=>R.value.max!==null?R.value.max:p.value||i.value?(p.value||i.value).format(D.value):""),D=P(()=>Ia(r)),x=P(()=>Aa(r)),J=()=>{d.value=d.value.subtract(1,"year"),a.unlinkPanels||(g.value=d.value.add(1,"month")),Pe("year")},ne=()=>{d.value=d.value.subtract(1,"month"),a.unlinkPanels||(g.value=d.value.add(1,"month")),Pe("month")},ae=()=>{a.unlinkPanels?g.value=g.value.add(1,"year"):(d.value=d.value.add(1,"year"),g.value=d.value.add(1,"month")),Pe("year")},Se=()=>{a.unlinkPanels?g.value=g.value.add(1,"month"):(d.value=d.value.add(1,"month"),g.value=d.value.add(1,"month")),Pe("month")},de=()=>{d.value=d.value.add(1,"year"),Pe("year")},ke=()=>{d.value=d.value.add(1,"month"),Pe("month")},me=()=>{g.value=g.value.subtract(1,"year"),Pe("year")},Fe=()=>{g.value=g.value.subtract(1,"month"),Pe("month")},Pe=O=>{t("panel-change",[d.value.toDate(),g.value.toDate()],O)},Le=P(()=>{const O=(oe.value+1)%12,B=oe.value+1>=12?1:0;return a.unlinkPanels&&new Date(X.value+B,O)<new Date(be.value,fe.value)}),Ee=P(()=>a.unlinkPanels&&be.value*12+fe.value-(X.value*12+oe.value+1)>=12),We=P(()=>!(i.value&&p.value&&!$.value.selecting&&Fn([i.value,p.value]))),Qe=P(()=>a.type==="datetime"||a.type==="datetimerange"),pe=(O,B)=>{if(O)return u?se(u[B]||u).locale(f.value).year(O.year()).month(O.month()).date(O.date()):O},at=(O,B=!0)=>{const q=O.minDate,Ae=O.maxDate,N=pe(q,0),K=pe(Ae,1);p.value===K&&i.value===N||(t("calendar-change",[q.toDate(),Ae&&Ae.toDate()]),p.value=K,i.value=N,!(!B||Qe.value)&&S())},Ye=z(!1),qe=z(!1),lt=()=>{Ye.value=!1},dt=()=>{qe.value=!1},je=(O,B)=>{A.value[B]=O;const q=se(O,x.value).locale(f.value);if(q.isValid()){if(o&&o(q.toDate()))return;B==="min"?(d.value=q,i.value=(i.value||d.value).year(q.year()).month(q.month()).date(q.date()),a.unlinkPanels||(g.value=q.add(1,"month"),p.value=i.value.add(1,"month"))):(g.value=q,p.value=(p.value||g.value).year(q.year()).month(q.month()).date(q.date()),a.unlinkPanels||(d.value=q.subtract(1,"month"),i.value=p.value.subtract(1,"month")))}},Je=(O,B)=>{A.value[B]=null},et=(O,B)=>{R.value[B]=O;const q=se(O,D.value).locale(f.value);q.isValid()&&(B==="min"?(Ye.value=!0,i.value=(i.value||d.value).hour(q.hour()).minute(q.minute()).second(q.second()),(!p.value||p.value.isBefore(i.value))&&(p.value=i.value)):(qe.value=!0,p.value=(p.value||g.value).hour(q.hour()).minute(q.minute()).second(q.second()),g.value=p.value,p.value&&p.value.isBefore(i.value)&&(i.value=p.value)))},ot=(O,B)=>{R.value[B]=null,B==="min"?(d.value=i.value,Ye.value=!1):(g.value=p.value,qe.value=!1)},ct=(O,B,q)=>{R.value.min||(O&&(d.value=O,i.value=(i.value||d.value).hour(O.hour()).minute(O.minute()).second(O.second())),q||(Ye.value=B),(!p.value||p.value.isBefore(i.value))&&(p.value=i.value,g.value=O))},De=(O,B,q)=>{R.value.max||(O&&(g.value=O,p.value=(p.value||g.value).hour(O.hour()).minute(O.minute()).second(O.second())),q||(qe.value=B),p.value&&p.value.isBefore(i.value)&&(i.value=p.value))},T=()=>{d.value=Ha(l(b),{lang:l(f),unit:"month",unlinkPanels:a.unlinkPanels})[0],g.value=d.value.add(1,"month"),t("pick",null)},U=O=>Xe(O)?O.map(B=>B.format(r)):O.format(r),le=O=>Xe(O)?O.map(B=>se(B,r).locale(f.value)):se(O,r).locale(f.value);function m(O,B){if(a.unlinkPanels&&B){const q=(O==null?void 0:O.year())||0,Ae=(O==null?void 0:O.month())||0,N=B.year(),K=B.month();g.value=q===N&&Ae===K?B.add(1,Gt):B}else g.value=d.value.add(1,Gt),B&&(g.value=g.value.hour(B.hour()).minute(B.minute()).second(B.second()))}return t("set-picker-option",["isValidValue",Fn]),t("set-picker-option",["parseUserInput",le]),t("set-picker-option",["formatToString",U]),t("set-picker-option",["handleClear",T]),(O,B)=>(M(),_("div",{class:C([l(y).b(),l(h).b(),{"has-sidebar":O.$slots.sidebar||l(V),"has-time":l(Qe)}])},[H("div",{class:C(l(y).e("body-wrapper"))},[st(O.$slots,"sidebar",{class:C(l(y).e("sidebar"))}),l(V)?(M(),_("div",{key:0,class:C(l(y).e("sidebar"))},[(M(!0),_($e,null,Re(l(w),(q,Ae)=>(M(),_("button",{key:Ae,type:"button",class:C(l(y).e("shortcut")),onClick:N=>l(F)(q)},he(q.text),11,Ts))),128))],2)):te("v-if",!0),H("div",{class:C(l(y).e("body"))},[l(Qe)?(M(),_("div",{key:0,class:C(l(h).e("time-header"))},[H("span",{class:C(l(h).e("editors-wrap"))},[H("span",{class:C(l(h).e("time-picker-wrap"))},[W(l(gt),{size:"small",disabled:l($).selecting,placeholder:l(Y)("el.datepicker.startDate"),class:C(l(h).e("editor")),"model-value":l(L),"validate-event":!1,onInput:B[0]||(B[0]=q=>je(q,"min")),onChange:B[1]||(B[1]=q=>Je(q,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ke((M(),_("span",{class:C(l(h).e("time-picker-wrap"))},[W(l(gt),{size:"small",class:C(l(h).e("editor")),disabled:l($).selecting,placeholder:l(Y)("el.datepicker.startTime"),"model-value":l(I),"validate-event":!1,onFocus:B[2]||(B[2]=q=>Ye.value=!0),onInput:B[3]||(B[3]=q=>et(q,"min")),onChange:B[4]||(B[4]=q=>ot(q,"min"))},null,8,["class","disabled","placeholder","model-value"]),W(l(Rn),{visible:Ye.value,format:l(D),"datetime-role":"start","time-arrow-control":l(c),"parsed-value":d.value,onPick:ct},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),lt]])],2),H("span",null,[W(l(Ce),null,{default:Z(()=>[W(l(Zt))]),_:1})]),H("span",{class:C([l(h).e("editors-wrap"),"is-right"])},[H("span",{class:C(l(h).e("time-picker-wrap"))},[W(l(gt),{size:"small",class:C(l(h).e("editor")),disabled:l($).selecting,placeholder:l(Y)("el.datepicker.endDate"),"model-value":l(k),readonly:!l(i),"validate-event":!1,onInput:B[5]||(B[5]=q=>je(q,"max")),onChange:B[6]||(B[6]=q=>Je(q,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ke((M(),_("span",{class:C(l(h).e("time-picker-wrap"))},[W(l(gt),{size:"small",class:C(l(h).e("editor")),disabled:l($).selecting,placeholder:l(Y)("el.datepicker.endTime"),"model-value":l(j),readonly:!l(i),"validate-event":!1,onFocus:B[7]||(B[7]=q=>l(i)&&(qe.value=!0)),onInput:B[8]||(B[8]=q=>et(q,"max")),onChange:B[9]||(B[9]=q=>ot(q,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),W(l(Rn),{"datetime-role":"end",visible:qe.value,format:l(D),"time-arrow-control":l(c),"parsed-value":g.value,onPick:De},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Wt),dt]])],2)],2)):te("v-if",!0),H("div",{class:C([[l(y).e("content"),l(h).e("content")],"is-left"])},[H("div",{class:C(l(h).e("header"))},[H("button",{type:"button",class:C([l(y).e("icon-btn"),"d-arrow-left"]),onClick:J},[W(l(Ce),null,{default:Z(()=>[W(l(Ht))]),_:1})],2),H("button",{type:"button",class:C([l(y).e("icon-btn"),"arrow-left"]),onClick:ne},[W(l(Ce),null,{default:Z(()=>[W(l(An))]),_:1})],2),O.unlinkPanels?(M(),_("button",{key:0,type:"button",disabled:!l(Ee),class:C([[l(y).e("icon-btn"),{"is-disabled":!l(Ee)}],"d-arrow-right"]),onClick:de},[W(l(Ce),null,{default:Z(()=>[W(l(_t))]),_:1})],10,Es)):te("v-if",!0),O.unlinkPanels?(M(),_("button",{key:1,type:"button",disabled:!l(Le),class:C([[l(y).e("icon-btn"),{"is-disabled":!l(Le)}],"arrow-right"]),onClick:ke},[W(l(Ce),null,{default:Z(()=>[W(l(Zt))]),_:1})],10,Vs)):te("v-if",!0),H("div",null,he(l(Q)),1)],2),W(Yn,{"selection-mode":"range",date:d.value,"min-date":l(i),"max-date":l(p),"range-state":l($),"disabled-date":l(o),"cell-class-name":l(s),onChangerange:l(E),onPick:at,onSelect:l(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),H("div",{class:C([[l(y).e("content"),l(h).e("content")],"is-right"])},[H("div",{class:C(l(h).e("header"))},[O.unlinkPanels?(M(),_("button",{key:0,type:"button",disabled:!l(Ee),class:C([[l(y).e("icon-btn"),{"is-disabled":!l(Ee)}],"d-arrow-left"]),onClick:me},[W(l(Ce),null,{default:Z(()=>[W(l(Ht))]),_:1})],10,Is)):te("v-if",!0),O.unlinkPanels?(M(),_("button",{key:1,type:"button",disabled:!l(Le),class:C([[l(y).e("icon-btn"),{"is-disabled":!l(Le)}],"arrow-left"]),onClick:Fe},[W(l(Ce),null,{default:Z(()=>[W(l(An))]),_:1})],10,As)):te("v-if",!0),H("button",{type:"button",class:C([l(y).e("icon-btn"),"d-arrow-right"]),onClick:ae},[W(l(Ce),null,{default:Z(()=>[W(l(_t))]),_:1})],2),H("button",{type:"button",class:C([l(y).e("icon-btn"),"arrow-right"]),onClick:Se},[W(l(Ce),null,{default:Z(()=>[W(l(Zt))]),_:1})],2),H("div",null,he(l(ve)),1)],2),W(Yn,{"selection-mode":"range",date:g.value,"min-date":l(i),"max-date":l(p),"range-state":l($),"disabled-date":l(o),"cell-class-name":l(s),onChangerange:l(E),onPick:at,onSelect:l(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),l(Qe)?(M(),_("div",{key:0,class:C(l(y).e("footer"))},[l(v)?(M(),re(l(It),{key:0,text:"",size:"small",class:C(l(y).e("link-btn")),onClick:T},{default:Z(()=>[ht(he(l(Y)("el.datepicker.clear")),1)]),_:1},8,["class"])):te("v-if",!0),W(l(It),{plain:"",size:"small",class:C(l(y).e("link-btn")),disabled:l(We),onClick:B[10]||(B[10]=q=>l(S)(!1))},{default:Z(()=>[ht(he(l(Y)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):te("v-if",!0)],2))}});var Ls=Ie(Ks,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Bs=He({...Ya}),Rs=["pick","set-picker-option"],Fs=({unlinkPanels:e,leftDate:t,rightDate:a})=>{const{t:n}=Ge(),o=()=>{t.value=t.value.subtract(1,"year"),e.value||(a.value=a.value.subtract(1,"year"))},s=()=>{e.value||(t.value=t.value.add(1,"year")),a.value=a.value.add(1,"year")},r=()=>{t.value=t.value.add(1,"year")},u=()=>{a.value=a.value.subtract(1,"year")},c=P(()=>`${t.value.year()} ${n("el.datepicker.year")}`),v=P(()=>`${a.value.year()} ${n("el.datepicker.year")}`),w=P(()=>t.value.year()),b=P(()=>a.value.year()===t.value.year()?t.value.year()+1:a.value.year());return{leftPrevYear:o,rightNextYear:s,leftNextYear:r,rightPrevYear:u,leftLabel:c,rightLabel:v,leftYear:w,rightYear:b}},Ys=["onClick"],zs=["disabled"],Hs=["disabled"],Qt="year",_s=ye({name:"DatePickerMonthRange"}),xs=ye({..._s,props:Bs,emits:Rs,setup(e,{emit:t}){const a=e,{lang:n}=Ge(),o=ze("EP_PICKER_BASE"),{shortcuts:s,disabledDate:r,format:u}=o.props,c=At(o.props,"defaultValue"),v=z(se().locale(n.value)),w=z(se().locale(n.value).add(1,Qt)),{minDate:b,maxDate:f,rangeState:d,ppNs:g,drpNs:i,handleChangeRange:p,handleRangeConfirm:$,handleShortcutClick:y,onSelect:h}=_a(a,{defaultValue:c,leftDate:v,rightDate:w,unit:Qt,onParsedValueChanged:fe}),E=P(()=>!!s.length),{leftPrevYear:S,rightNextYear:F,leftNextYear:G,rightPrevYear:Y,leftLabel:A,rightLabel:R,leftYear:Q,rightYear:ve}=Fs({unlinkPanels:At(a,"unlinkPanels"),leftDate:v,rightDate:w}),X=P(()=>a.unlinkPanels&&ve.value>Q.value+1),oe=(V,L=!0)=>{const k=V.minDate,I=V.maxDate;f.value===I&&b.value===k||(f.value=I,b.value=k,L&&$())},be=V=>V.map(L=>L.format(u));function fe(V,L){if(a.unlinkPanels&&L){const k=(V==null?void 0:V.year())||0,I=L.year();w.value=k===I?L.add(1,Qt):L}else w.value=v.value.add(1,Qt)}return t("set-picker-option",["formatToString",be]),(V,L)=>(M(),_("div",{class:C([l(g).b(),l(i).b(),{"has-sidebar":!!V.$slots.sidebar||l(E)}])},[H("div",{class:C(l(g).e("body-wrapper"))},[st(V.$slots,"sidebar",{class:C(l(g).e("sidebar"))}),l(E)?(M(),_("div",{key:0,class:C(l(g).e("sidebar"))},[(M(!0),_($e,null,Re(l(s),(k,I)=>(M(),_("button",{key:I,type:"button",class:C(l(g).e("shortcut")),onClick:j=>l(y)(k)},he(k.text),11,Ys))),128))],2)):te("v-if",!0),H("div",{class:C(l(g).e("body"))},[H("div",{class:C([[l(g).e("content"),l(i).e("content")],"is-left"])},[H("div",{class:C(l(i).e("header"))},[H("button",{type:"button",class:C([l(g).e("icon-btn"),"d-arrow-left"]),onClick:L[0]||(L[0]=(...k)=>l(S)&&l(S)(...k))},[W(l(Ce),null,{default:Z(()=>[W(l(Ht))]),_:1})],2),V.unlinkPanels?(M(),_("button",{key:0,type:"button",disabled:!l(X),class:C([[l(g).e("icon-btn"),{[l(g).is("disabled")]:!l(X)}],"d-arrow-right"]),onClick:L[1]||(L[1]=(...k)=>l(G)&&l(G)(...k))},[W(l(Ce),null,{default:Z(()=>[W(l(_t))]),_:1})],10,zs)):te("v-if",!0),H("div",null,he(l(A)),1)],2),W(zn,{"selection-mode":"range",date:v.value,"min-date":l(b),"max-date":l(f),"range-state":l(d),"disabled-date":l(r),onChangerange:l(p),onPick:oe,onSelect:l(h)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),H("div",{class:C([[l(g).e("content"),l(i).e("content")],"is-right"])},[H("div",{class:C(l(i).e("header"))},[V.unlinkPanels?(M(),_("button",{key:0,type:"button",disabled:!l(X),class:C([[l(g).e("icon-btn"),{"is-disabled":!l(X)}],"d-arrow-left"]),onClick:L[2]||(L[2]=(...k)=>l(Y)&&l(Y)(...k))},[W(l(Ce),null,{default:Z(()=>[W(l(Ht))]),_:1})],10,Hs)):te("v-if",!0),H("button",{type:"button",class:C([l(g).e("icon-btn"),"d-arrow-right"]),onClick:L[3]||(L[3]=(...k)=>l(F)&&l(F)(...k))},[W(l(Ce),null,{default:Z(()=>[W(l(_t))]),_:1})],2),H("div",null,he(l(R)),1)],2),W(zn,{"selection-mode":"range",date:w.value,"min-date":l(b),"max-date":l(f),"range-state":l(d),"disabled-date":l(r),onChangerange:l(p),onPick:oe,onSelect:l(h)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Ws=Ie(xs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const qs=function(e){switch(e){case"daterange":case"datetimerange":return Ls;case"monthrange":return Ws;default:return Os}};se.extend(Vl);se.extend(Bo);se.extend(Yl);se.extend(Fo);se.extend(zo);se.extend(_o);se.extend(Wo);se.extend(jo);var js=ye({name:"ElDatePicker",install:null,props:Uo,emits:["update:modelValue"],setup(e,{expose:t,emit:a,slots:n}){const o=we("picker-panel");ut("ElPopperOptions",vt(At(e,"popperOptions"))),ut(Jn,{slots:n,pickerNs:o});const s=z();t({focus:(c=!0)=>{var v;(v=s.value)==null||v.focus(c)},handleOpen:()=>{var c;(c=s.value)==null||c.handleOpen()},handleClose:()=>{var c;(c=s.value)==null||c.handleClose()}});const u=c=>{a("update:modelValue",c)};return()=>{var c;const v=(c=e.format)!=null?c:zl[e.type]||Ot,w=qs(e.type);return W(jl,Yt(e,{format:v,type:e.type,ref:s,"onUpdate:modelValue":u}),{default:b=>W(w,b,null),"range-separator":n["range-separator"]})}}});const nn=js;nn.install=e=>{e.component(nn.name,nn)};const Us=nn,xa=Symbol("ElSelectGroup"),Ut=Symbol("ElSelect");function Gs(e,t){const a=ze(Ut),n=ze(xa,{disabled:!1}),o=P(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),s=P(()=>a.props.multiple?b(a.props.modelValue,e.value):f(e.value,a.props.modelValue)),r=P(()=>{if(a.props.multiple){const i=a.props.modelValue||[];return!s.value&&i.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),u=P(()=>e.label||(o.value?"":e.value)),c=P(()=>e.value||e.label||""),v=P(()=>e.disabled||t.groupDisabled||r.value),w=nt(),b=(i=[],p)=>{if(o.value){const $=a.props.valueKey;return i&&i.some(y=>rn(it(y,$))===it(p,$))}else return i&&i.includes(p)},f=(i,p)=>{if(o.value){const{valueKey:$}=a.props;return it(i,$)===it(p,$)}else return i===p},d=()=>{!e.disabled&&!n.disabled&&(a.hoverIndex=a.optionsArray.indexOf(w.proxy))};ie(()=>u.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),ie(()=>e.value,(i,p)=>{const{remote:$,valueKey:y}=a.props;if(Object.is(i,p)||(a.onOptionDestroy(p,w.proxy),a.onOptionCreate(w.proxy)),!e.created&&!$){if(y&&typeof i=="object"&&typeof p=="object"&&i[y]===p[y])return;a.setSelected()}}),ie(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0});const{queryChange:g}=rn(a);return ie(g,i=>{const{query:p}=l(i),$=new RegExp(Ll(p),"i");t.visible=$.test(u.value)||e.created,t.visible||a.filteredOptionsCount--},{immediate:!0}),{select:a,currentLabel:u,currentValue:c,itemSelected:s,isDisabled:v,hoverItem:d}}const Qs=ye({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=we("select"),a=vt({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:n,itemSelected:o,isDisabled:s,select:r,hoverItem:u}=Gs(e,a),{visible:c,hover:v}=jt(a),w=nt().proxy;r.onOptionCreate(w),sl(()=>{const f=w.value,{selected:d}=r,i=(r.props.multiple?d:[d]).some(p=>p.value===w.value);ge(()=>{r.cachedOptions.get(f)===w&&!i&&r.cachedOptions.delete(f)}),r.onOptionDestroy(f,w)});function b(){e.disabled!==!0&&a.groupDisabled!==!0&&r.handleOptionSelect(w)}return{ns:t,currentLabel:n,itemSelected:o,isDisabled:s,select:r,hoverItem:u,visible:c,hover:v,selectOptionClick:b,states:a}}});function Xs(e,t,a,n,o,s){return Ke((M(),_("li",{class:C([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=Te((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[st(e.$slots,"default",{},()=>[H("span",null,he(e.currentLabel),1)])],34)),[[tt,e.visible]])}var ta=Ie(Qs,[["render",Xs],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Zs=ye({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ze(Ut),t=we("select"),a=P(()=>e.props.popperClass),n=P(()=>e.props.multiple),o=P(()=>e.props.fitInputWidth),s=z("");function r(){var u;s.value=`${(u=e.selectWrapper)==null?void 0:u.offsetWidth}px`}return rt(()=>{r(),Ma(e.selectWrapper,r)}),{ns:t,minWidth:s,popperClass:a,isMultiple:n,isFitInputWidth:o}}});function Js(e,t,a,n,o,s){return M(),_("div",{class:C([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:_e({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[st(e.$slots,"default")],6)}var er=Ie(Zs,[["render",Js],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function tr(e){const{t}=Ge();return vt({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}let En=!1;const nr=(e,t,a)=>{const{t:n}=Ge(),o=we("select");Oa({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},P(()=>e.suffixTransition===!1));const s=z(null),r=z(null),u=z(null),c=z(null),v=z(null),w=z(null),b=z(null),f=z(-1),d=Et({query:""}),g=Et(""),i=z([]);let p=0;const{form:$,formItem:y}=Cn(),h=P(()=>!e.filterable||e.multiple||!t.visible),E=P(()=>e.disabled||($==null?void 0:$.disabled)),S=P(()=>{const N=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!E.value&&t.inputHovering&&N}),F=P(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),G=P(()=>o.is("reverse",F.value&&t.visible&&e.suffixTransition)),Y=P(()=>e.remote?300:0),A=P(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||n("el.select.noMatch"):t.options.size===0?e.noDataText||n("el.select.noData"):null),R=P(()=>{const N=Array.from(t.options.values()),K=[];return i.value.forEach(ee=>{const ce=N.findIndex(ue=>ue.currentLabel===ee);ce>-1&&K.push(N[ce])}),K.length?K:N}),Q=P(()=>Array.from(t.cachedOptions.values())),ve=P(()=>{const N=R.value.filter(K=>!K.created).some(K=>K.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!N}),X=wn(),oe=P(()=>["small"].includes(X.value)?"small":"default"),be=P({get(){return t.visible&&A.value!==!1},set(N){t.visible=N}});ie([()=>E.value,()=>X.value,()=>$==null?void 0:$.size],()=>{ge(()=>{fe()})}),ie(()=>e.placeholder,N=>{t.cachedPlaceHolder=t.currentPlaceholder=N,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),ie(()=>e.modelValue,(N,K)=>{e.multiple&&(fe(),N&&N.length>0||r.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",V(t.query))),I(),e.filterable&&!e.multiple&&(t.inputLength=20),!un(N,K)&&e.validateEvent&&(y==null||y.validate("change").catch(ee=>Tt()))},{flush:"post",deep:!0}),ie(()=>t.visible,N=>{var K,ee,ce,ue,Oe;N?((ee=(K=c.value)==null?void 0:K.updatePopper)==null||ee.call(K),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(ue=(ce=u.value)==null?void 0:ce.focus)==null||ue.call(ce),e.multiple?(Oe=r.value)==null||Oe.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),V(t.query),!e.multiple&&!e.remote&&(d.value.query="",Kt(d),Kt(g)))):(e.filterable&&(Ze(e.filterMethod)&&e.filterMethod(""),Ze(e.remoteMethod)&&e.remoteMethod("")),r.value&&r.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,D(),ge(()=>{r.value&&r.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),a.emit("visible-change",N)}),ie(()=>t.options.entries(),()=>{var N,K,ee;if(!jn)return;(K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N),e.multiple&&fe();const ce=((ee=w.value)==null?void 0:ee.querySelectorAll("input"))||[];Array.from(ce).includes(document.activeElement)||I(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&k()},{flush:"post"}),ie(()=>t.hoverIndex,N=>{Jt(N)&&N>-1?f.value=R.value[N]||{}:f.value={},R.value.forEach(K=>{K.hover=f.value===K})});const fe=()=>{ge(()=>{var N,K;if(!s.value)return;const ee=s.value.$el.querySelector("input");p=p||(ee.clientHeight>0?ee.clientHeight+2:0);const ce=v.value,ue=Bl(X.value||($==null?void 0:$.size)),Oe=X.value||ue===p||p<=0?ue:p;!(ee.offsetParent===null)&&(ee.style.height=`${(t.selected.length===0?Oe:Math.max(ce?ce.clientHeight+(ce.clientHeight>Oe?6:0):0,Oe))-2}px`),t.tagInMultiLine=Number.parseFloat(ee.style.height)>=Oe,t.visible&&A.value!==!1&&((K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N))})},V=async N=>{if(!(t.previousQuery===N||t.isOnComposition)){if(t.previousQuery===null&&(Ze(e.filterMethod)||Ze(e.remoteMethod))){t.previousQuery=N;return}t.previousQuery=N,ge(()=>{var K,ee;t.visible&&((ee=(K=c.value)==null?void 0:K.updatePopper)==null||ee.call(K))}),t.hoverIndex=-1,e.multiple&&e.filterable&&ge(()=>{const K=r.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,K):K,L(),fe()}),e.remote&&Ze(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(N)):Ze(e.filterMethod)?(e.filterMethod(N),Kt(g)):(t.filteredOptionsCount=t.optionsCount,d.value.query=N,Kt(d),Kt(g)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await ge(),k())}},L=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=r.value.value?"":t.cachedPlaceHolder)},k=()=>{const N=R.value.filter(ce=>ce.visible&&!ce.disabled&&!ce.states.groupDisabled),K=N.find(ce=>ce.created),ee=N[0];t.hoverIndex=Le(R.value,K||ee)},I=()=>{var N;if(e.multiple)t.selectedLabel="";else{const ee=j(e.modelValue);(N=ee.props)!=null&&N.created?(t.createdLabel=ee.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=ee.currentLabel,t.selected=ee,e.filterable&&(t.query=t.selectedLabel);return}const K=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(ee=>{K.push(j(ee))}),t.selected=K,ge(()=>{fe()})},j=N=>{let K;const ee=Nn(N).toLowerCase()==="object",ce=Nn(N).toLowerCase()==="null",ue=Nn(N).toLowerCase()==="undefined";for(let yt=t.cachedOptions.size-1;yt>=0;yt--){const Ve=Q.value[yt];if(ee?it(Ve.value,e.valueKey)===it(N,e.valueKey):Ve.value===N){K={value:N,currentLabel:Ve.currentLabel,isDisabled:Ve.isDisabled};break}}if(K)return K;const Oe=ee?N.label:!ce&&!ue?N:"",mt={value:N,currentLabel:Oe};return e.multiple&&(mt.hitState=!1),mt},D=()=>{setTimeout(()=>{const N=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(K=>R.value.findIndex(ee=>it(ee,N)===it(K,N)))):t.hoverIndex=-1:t.hoverIndex=R.value.findIndex(K=>U(K)===U(t.selected))},300)},x=()=>{var N,K;J(),(K=(N=c.value)==null?void 0:N.updatePopper)==null||K.call(N),e.multiple&&fe()},J=()=>{var N;t.inputWidth=(N=s.value)==null?void 0:N.$el.offsetWidth},ne=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,V(t.query))},ae=cn(()=>{ne()},Y.value),Se=cn(N=>{V(N.target.value)},Y.value),de=N=>{un(e.modelValue,N)||a.emit(Vt,N)},ke=N=>{if(N.code!==Me.delete){if(N.target.value.length<=0&&!Ye()){const K=e.modelValue.slice();K.pop(),a.emit(xe,K),de(K)}N.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},me=(N,K)=>{const ee=t.selected.indexOf(K);if(ee>-1&&!E.value){const ce=e.modelValue.slice();ce.splice(ee,1),a.emit(xe,ce),de(ce),a.emit("remove-tag",K.value)}N.stopPropagation()},Fe=N=>{N.stopPropagation();const K=e.multiple?[]:"";if(!bt(K))for(const ee of t.selected)ee.isDisabled&&K.push(ee.value);a.emit(xe,K),de(K),t.hoverIndex=-1,t.visible=!1,a.emit("clear")},Pe=N=>{var K;if(e.multiple){const ee=(e.modelValue||[]).slice(),ce=Le(ee,N.value);ce>-1?ee.splice(ce,1):(e.multipleLimit<=0||ee.length<e.multipleLimit)&&ee.push(N.value),a.emit(xe,ee),de(ee),N.created&&(t.query="",V(""),t.inputLength=20),e.filterable&&((K=r.value)==null||K.focus())}else a.emit(xe,N.value),de(N.value),t.visible=!1;Ee(),!t.visible&&ge(()=>{We(N)})},Le=(N=[],K)=>{if(!Kn(K))return N.indexOf(K);const ee=e.valueKey;let ce=-1;return N.some((ue,Oe)=>rn(it(ue,ee))===it(K,ee)?(ce=Oe,!0):!1),ce},Ee=()=>{const N=r.value||s.value;N&&(N==null||N.focus())},We=N=>{var K,ee,ce,ue,Oe;const mt=Array.isArray(N)?N[0]:N;let yt=null;if(mt!=null&&mt.value){const Ve=R.value.filter(ft=>ft.value===mt.value);Ve.length>0&&(yt=Ve[0].$el)}if(c.value&&yt){const Ve=(ue=(ce=(ee=(K=c.value)==null?void 0:K.popperRef)==null?void 0:ee.contentRef)==null?void 0:ce.querySelector)==null?void 0:ue.call(ce,`.${o.be("dropdown","wrap")}`);Ve&&rl(Ve,yt)}(Oe=b.value)==null||Oe.handleScroll()},Qe=N=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(N.value,N),t.cachedOptions.set(N.value,N)},pe=(N,K)=>{t.options.get(N)===K&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(N))},at=N=>{N.code!==Me.backspace&&Ye(!1),t.inputLength=r.value.value.length*15+20,fe()},Ye=N=>{if(!Array.isArray(t.selected))return;const K=t.selected[t.selected.length-1];if(K)return N===!0||N===!1?(K.hitState=N,N):(K.hitState=!K.hitState,K.hitState)},qe=N=>{const K=N.target.value;if(N.type==="compositionend")t.isOnComposition=!1,ge(()=>V(K));else{const ee=K[K.length-1]||"";t.isOnComposition=!il(ee)}},lt=()=>{ge(()=>We(t.selected))},dt=N=>{En?En=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),a.emit("focus",N))},je=()=>{var N,K,ee;t.visible=!1,(N=s.value)==null||N.blur(),(ee=(K=u.value)==null?void 0:K.blur)==null||ee.call(K)},Je=N=>{setTimeout(()=>{var K;if((K=c.value)!=null&&K.isFocusInsideContent()){En=!0;return}t.visible&&ot(),a.emit("blur",N)})},et=N=>{Fe(N)},ot=()=>{t.visible=!1},ct=N=>{t.visible&&(N.preventDefault(),N.stopPropagation(),t.visible=!1)},De=N=>{var K;N&&!t.mouseEnter||E.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!c.value||!c.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((K=r.value||s.value)==null||K.focus()))},T=()=>{t.visible?R.value[t.hoverIndex]&&Pe(R.value[t.hoverIndex]):De()},U=N=>Kn(N.value)?it(N.value,e.valueKey):N.value,le=P(()=>R.value.filter(N=>N.visible).every(N=>N.disabled)),m=P(()=>t.selected.slice(0,e.maxCollapseTags)),O=P(()=>t.selected.slice(e.maxCollapseTags)),B=N=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!le.value){N==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):N==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const K=R.value[t.hoverIndex];(K.disabled===!0||K.states.groupDisabled===!0||!K.visible)&&B(N),ge(()=>We(f.value))}};return{optionList:i,optionsArray:R,selectSize:X,handleResize:x,debouncedOnInputChange:ae,debouncedQueryChange:Se,deletePrevTag:ke,deleteTag:me,deleteSelected:Fe,handleOptionSelect:Pe,scrollToOption:We,readonly:h,resetInputHeight:fe,showClose:S,iconComponent:F,iconReverse:G,showNewOption:ve,collapseTagSize:oe,setSelected:I,managePlaceholder:L,selectDisabled:E,emptyText:A,toggleLastOptionHitState:Ye,resetInputState:at,handleComposition:qe,onOptionCreate:Qe,onOptionDestroy:pe,handleMenuEnter:lt,handleFocus:dt,blur:je,handleBlur:Je,handleClearClick:et,handleClose:ot,handleKeydownEscape:ct,toggleMenu:De,selectOption:T,getValueKey:U,navigateOptions:B,dropMenuVisible:be,queryChange:d,groupQueryChange:g,showTagList:m,collapseTagList:O,reference:s,input:r,iOSInput:u,tooltipRef:c,tags:v,selectWrapper:w,scrollbar:b,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var ar=ye({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:a}){let n=[];function o(s,r){if(s.length!==r.length)return!1;for(const[u]of s.entries())if(s[u]!=r[u])return!1;return!0}return()=>{var s,r;const u=(s=t.default)==null?void 0:s.call(t),c=[];function v(w){Array.isArray(w)&&w.forEach(b=>{var f,d,g,i;const p=(f=(b==null?void 0:b.type)||{})==null?void 0:f.name;p==="ElOptionGroup"?v(!bt(b.children)&&!Array.isArray(b.children)&&Ze((d=b.children)==null?void 0:d.default)?(g=b.children)==null?void 0:g.default():b.children):p==="ElOption"?c.push((i=b.props)==null?void 0:i.label):Array.isArray(b.children)&&v(b.children)})}return u.length&&v((r=u[0])==null?void 0:r.children),o(c,n)||(n=c,a("update-options",c)),u}}});const ba="ElSelect",lr=ye({name:ba,componentName:ba,components:{ElInput:gt,ElSelectMenu:er,ElOption:ta,ElOptions:ar,ElTag:Nl,ElScrollbar:Ea,ElTooltip:Xn,ElIcon:Ce},directives:{ClickOutside:Wt},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:$a},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Ol.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:xt,default:ka},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:xt,default:Un},tagType:{...Dl.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:$l,default:"bottom-start"}},emits:[xe,Vt,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const a=we("select"),n=we("input"),{t:o}=Ge(),s=tr(e),{optionList:r,optionsArray:u,selectSize:c,readonly:v,handleResize:w,collapseTagSize:b,debouncedOnInputChange:f,debouncedQueryChange:d,deletePrevTag:g,deleteTag:i,deleteSelected:p,handleOptionSelect:$,scrollToOption:y,setSelected:h,resetInputHeight:E,managePlaceholder:S,showClose:F,selectDisabled:G,iconComponent:Y,iconReverse:A,showNewOption:R,emptyText:Q,toggleLastOptionHitState:ve,resetInputState:X,handleComposition:oe,onOptionCreate:be,onOptionDestroy:fe,handleMenuEnter:V,handleFocus:L,blur:k,handleBlur:I,handleClearClick:j,handleClose:D,handleKeydownEscape:x,toggleMenu:J,selectOption:ne,getValueKey:ae,navigateOptions:Se,dropMenuVisible:de,reference:ke,input:me,iOSInput:Fe,tooltipRef:Pe,tags:Le,selectWrapper:Ee,scrollbar:We,queryChange:Qe,groupQueryChange:pe,handleMouseEnter:at,handleMouseLeave:Ye,showTagList:qe,collapseTagList:lt}=nr(e,s,t),{focus:dt}=Rl(ke),{inputWidth:je,selected:Je,inputLength:et,filteredOptionsCount:ot,visible:ct,selectedLabel:De,hoverIndex:T,query:U,inputHovering:le,currentPlaceholder:m,menuVisibleOnFocus:O,isOnComposition:B,options:q,cachedOptions:Ae,optionsCount:N,prefixWidth:K,tagInMultiLine:ee}=jt(s),ce=P(()=>{const Ve=[a.b()],ft=l(c);return ft&&Ve.push(a.m(ft)),e.disabled&&Ve.push(a.m("disabled")),Ve}),ue=P(()=>({maxWidth:`${l(je)-32}px`,width:"100%"})),Oe=P(()=>({maxWidth:`${l(je)>123?l(je)-123:l(je)-75}px`}));ut(Ut,vt({props:e,options:q,optionsArray:u,cachedOptions:Ae,optionsCount:N,filteredOptionsCount:ot,hoverIndex:T,handleOptionSelect:$,onOptionCreate:be,onOptionDestroy:fe,selectWrapper:Ee,selected:Je,setSelected:h,queryChange:Qe,groupQueryChange:pe})),rt(()=>{s.cachedPlaceHolder=m.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(m.value=""),Ma(Ee,w),e.remote&&e.multiple&&E(),ge(()=>{const Ve=ke.value&&ke.value.$el;if(Ve&&(je.value=Ve.getBoundingClientRect().width,t.slots.prefix)){const ft=Ve.querySelector(`.${n.e("prefix")}`);K.value=Math.max(ft.getBoundingClientRect().width+5,30)}}),h()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(xe,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(xe,"");const mt=P(()=>{var Ve,ft;return(ft=(Ve=Pe.value)==null?void 0:Ve.popperRef)==null?void 0:ft.contentRef});return{isIOS:ul,onOptionsRendered:Ve=>{r.value=Ve},tagInMultiLine:ee,prefixWidth:K,selectSize:c,readonly:v,handleResize:w,collapseTagSize:b,debouncedOnInputChange:f,debouncedQueryChange:d,deletePrevTag:g,deleteTag:i,deleteSelected:p,handleOptionSelect:$,scrollToOption:y,inputWidth:je,selected:Je,inputLength:et,filteredOptionsCount:ot,visible:ct,selectedLabel:De,hoverIndex:T,query:U,inputHovering:le,currentPlaceholder:m,menuVisibleOnFocus:O,isOnComposition:B,options:q,resetInputHeight:E,managePlaceholder:S,showClose:F,selectDisabled:G,iconComponent:Y,iconReverse:A,showNewOption:R,emptyText:Q,toggleLastOptionHitState:ve,resetInputState:X,handleComposition:oe,handleMenuEnter:V,handleFocus:L,blur:k,handleBlur:I,handleClearClick:j,handleClose:D,handleKeydownEscape:x,toggleMenu:J,selectOption:ne,getValueKey:ae,navigateOptions:Se,dropMenuVisible:de,focus:dt,reference:ke,input:me,iOSInput:Fe,tooltipRef:Pe,popperPaneRef:mt,tags:Le,selectWrapper:Ee,scrollbar:We,wrapperKls:ce,selectTagsStyle:ue,nsSelect:a,tagTextStyle:Oe,handleMouseEnter:at,handleMouseLeave:Ye,showTagList:qe,collapseTagList:lt}}}),or=["disabled","autocomplete"],sr=["disabled"],rr={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function ir(e,t,a,n,o,s){const r=Ue("el-tag"),u=Ue("el-tooltip"),c=Ue("el-icon"),v=Ue("el-input"),w=Ue("el-option"),b=Ue("el-options"),f=Ue("el-scrollbar"),d=Ue("el-select-menu"),g=dl("click-outside");return Ke((M(),_("div",{ref:"selectWrapper",class:C(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...i)=>e.handleMouseEnter&&e.handleMouseEnter(...i)),onMouseleave:t[22]||(t[22]=(...i)=>e.handleMouseLeave&&e.handleMouseLeave(...i)),onClick:t[23]||(t[23]=Te((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},[W(u,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Z(()=>[H("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=i=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=i=>e.inputHovering=!1)},[e.multiple?(M(),_("div",{key:0,ref:"tags",class:C([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:_e(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(M(),re(Vn,{key:0,onAfterLeave:e.resetInputHeight},{default:Z(()=>[H("span",{class:C([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(M(!0),_($e,null,Re(e.showTagList,i=>(M(),re(r,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:p=>e.deleteTag(p,i)},{default:Z(()=>[H("span",{class:C(e.nsSelect.e("tags-text")),style:_e(e.tagTextStyle)},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(M(),re(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Z(()=>[e.collapseTagsTooltip?(M(),re(u,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Z(()=>[H("span",{class:C(e.nsSelect.e("tags-text"))},"+ "+he(e.selected.length-e.maxCollapseTags),3)]),content:Z(()=>[H("div",{class:C(e.nsSelect.e("collapse-tags"))},[(M(!0),_($e,null,Re(e.collapseTagList,i=>(M(),_("div",{key:e.getValueKey(i),class:C(e.nsSelect.e("collapse-tag"))},[W(r,{class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:p=>e.deleteTag(p,i)},{default:Z(()=>[H("span",{class:C(e.nsSelect.e("tags-text")),style:_e({maxWidth:e.inputWidth-75+"px"})},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(M(),_("span",{key:1,class:C(e.nsSelect.e("tags-text"))},"+ "+he(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):te("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):te("v-if",!0),e.collapseTags?te("v-if",!0):(M(),re(Vn,{key:1,onAfterLeave:e.resetInputHeight},{default:Z(()=>[H("span",{class:C([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(M(!0),_($e,null,Re(e.selected,i=>(M(),re(r,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:p=>e.deleteTag(p,i)},{default:Z(()=>[H("span",{class:C(e.nsSelect.e("tags-text")),style:_e({maxWidth:e.inputWidth-75+"px"})},he(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?Ke((M(),_("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=i=>e.query=i),type:"text",class:C([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:_e({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onBlur:t[2]||(t[2]=(...i)=>e.handleBlur&&e.handleBlur(...i)),onKeyup:t[3]||(t[3]=(...i)=>e.managePlaceholder&&e.managePlaceholder(...i)),onKeydown:[t[4]||(t[4]=(...i)=>e.resetInputState&&e.resetInputState(...i)),t[5]||(t[5]=Be(Te(i=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Be(Te(i=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Be((...i)=>e.handleKeydownEscape&&e.handleKeydownEscape(...i),["esc"])),t[8]||(t[8]=Be(Te((...i)=>e.selectOption&&e.selectOption(...i),["stop","prevent"]),["enter"])),t[9]||(t[9]=Be((...i)=>e.deletePrevTag&&e.deletePrevTag(...i),["delete"])),t[10]||(t[10]=Be(i=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:t[12]||(t[12]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:t[13]||(t[13]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onInput:t[14]||(t[14]=(...i)=>e.debouncedQueryChange&&e.debouncedQueryChange(...i))},null,46,or)),[[cl,e.query]]):te("v-if",!0)],6)):te("v-if",!0),te(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(M(),_("input",{key:1,ref:"iOSInput",class:C([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,sr)):te("v-if",!0),W(v,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=i=>e.selectedLabel=i),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:C([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=Be(Te(i=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=Be(Te(i=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Be(Te(e.selectOption,["stop","prevent"]),["enter"]),Be(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=Be(i=>e.visible=!1,["tab"]))]},fl({suffix:Z(()=>[e.iconComponent&&!e.showClose?(M(),re(c,{key:0,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Z(()=>[(M(),re(pt(e.iconComponent)))]),_:1},8,["class"])):te("v-if",!0),e.showClose&&e.clearIcon?(M(),re(c,{key:1,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Z(()=>[(M(),re(pt(e.clearIcon)))]),_:1},8,["class","onClick"])):te("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Z(()=>[H("div",rr,[st(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Z(()=>[W(d,null,{default:Z(()=>[Ke(W(f,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:C([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:Z(()=>[e.showNewOption?(M(),re(w,{key:0,value:e.query,created:!0},null,8,["value"])):te("v-if",!0),W(b,{onUpdateOptions:e.onOptionsRendered},{default:Z(()=>[st(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[tt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(M(),_($e,{key:0},[e.$slots.empty?st(e.$slots,"empty",{key:0}):(M(),_("p",{key:1,class:C(e.nsSelect.be("dropdown","empty"))},he(e.emptyText),3))],64)):te("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[g,e.handleClose,e.popperPaneRef]])}var ur=Ie(lr,[["render",ir],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const dr=ye({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=we("select"),a=z(!0),n=nt(),o=z([]);ut(xa,vt({...jt(e)}));const s=ze(Ut);rt(()=>{o.value=r(n.subTree)});const r=c=>{const v=[];return Array.isArray(c.children)&&c.children.forEach(w=>{var b;w.type&&w.type.name==="ElOption"&&w.component&&w.component.proxy?v.push(w.component.proxy):(b=w.children)!=null&&b.length&&v.push(...r(w))}),v},{groupQueryChange:u}=rn(s);return ie(u,()=>{a.value=o.value.some(c=>c.visible===!0)},{flush:"post"}),{visible:a,ns:t}}});function cr(e,t,a,n,o,s){return Ke((M(),_("ul",{class:C(e.ns.be("group","wrap"))},[H("li",{class:C(e.ns.be("group","title"))},he(e.label),3),H("li",null,[H("ul",{class:C(e.ns.b("group"))},[st(e.$slots,"default")],2)])],2)),[[tt,e.visible]])}var Wa=Ie(dr,[["render",cr],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const yn=Gn(ur,{Option:ta,OptionGroup:Wa}),kn=Pa(ta);Pa(Wa);const fr=He({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:xt},inactiveIcon:{type:xt},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Ne(Function)},size:{type:String,validator:$a},tabindex:{type:[String,Number]}}),pr={[xe]:e=>en(e)||bt(e)||Jt(e),[Vt]:e=>en(e)||bt(e)||Jt(e),[Ln]:e=>en(e)||bt(e)||Jt(e)},hr=["onClick"],vr=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],mr=["aria-hidden"],gr=["aria-hidden"],br=["aria-hidden"],Hn="ElSwitch",yr=ye({name:Hn}),kr=ye({...yr,props:fr,emits:pr,setup(e,{expose:t,emit:a}){const n=e,o=nt(),{formItem:s}=Cn(),r=wn(),u=we("switch");Oa({from:'"value"',replacement:'"model-value" or "v-model"',scope:Hn,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},P(()=>{var S;return!!((S=o.vnode.props)!=null&&S.value)}));const{inputId:c}=Sa(n,{formItemContext:s}),v=wa(P(()=>n.loading)),w=z(n.modelValue!==!1),b=z(),f=z(),d=P(()=>[u.b(),u.m(r.value),u.is("disabled",v.value),u.is("checked",p.value)]),g=P(()=>({width:In(n.width)}));ie(()=>n.modelValue,()=>{w.value=!0}),ie(()=>n.value,()=>{w.value=!1});const i=P(()=>w.value?n.modelValue:n.value),p=P(()=>i.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(i.value)||(a(xe,n.inactiveValue),a(Vt,n.inactiveValue),a(Ln,n.inactiveValue)),ie(p,S=>{var F;b.value.checked=S,n.validateEvent&&((F=s==null?void 0:s.validate)==null||F.call(s,"change").catch(G=>Tt()))});const $=()=>{const S=p.value?n.inactiveValue:n.activeValue;a(xe,S),a(Vt,S),a(Ln,S),ge(()=>{b.value.checked=p.value})},y=()=>{if(v.value)return;const{beforeChange:S}=n;if(!S){$();return}const F=S();[la(F),en(F)].includes(!0)||pl(Hn,"beforeChange must return type `Promise<boolean>` or `boolean`"),la(F)?F.then(Y=>{Y&&$()}).catch(Y=>{}):F&&$()},h=P(()=>u.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),E=()=>{var S,F;(F=(S=b.value)==null?void 0:S.focus)==null||F.call(S)};return rt(()=>{b.value.checked=p.value}),t({focus:E,checked:p}),(S,F)=>(M(),_("div",{class:C(l(d)),style:_e(l(h)),onClick:Te(y,["prevent"])},[H("input",{id:l(c),ref_key:"input",ref:b,class:C(l(u).e("input")),type:"checkbox",role:"switch","aria-checked":l(p),"aria-disabled":l(v),name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:l(v),tabindex:S.tabindex,onChange:$,onKeydown:Be(y,["enter"])},null,42,vr),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(M(),_("span",{key:0,class:C([l(u).e("label"),l(u).em("label","left"),l(u).is("active",!l(p))])},[S.inactiveIcon?(M(),re(l(Ce),{key:0},{default:Z(()=>[(M(),re(pt(S.inactiveIcon)))]),_:1})):te("v-if",!0),!S.inactiveIcon&&S.inactiveText?(M(),_("span",{key:1,"aria-hidden":l(p)},he(S.inactiveText),9,mr)):te("v-if",!0)],2)):te("v-if",!0),H("span",{ref_key:"core",ref:f,class:C(l(u).e("core")),style:_e(l(g))},[S.inlinePrompt?(M(),_("div",{key:0,class:C(l(u).e("inner"))},[S.activeIcon||S.inactiveIcon?(M(),re(l(Ce),{key:0,class:C(l(u).is("icon"))},{default:Z(()=>[(M(),re(pt(l(p)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(M(),_("span",{key:1,class:C(l(u).is("text")),"aria-hidden":!l(p)},he(l(p)?S.activeText:S.inactiveText),11,gr)):te("v-if",!0)],2)):te("v-if",!0),H("div",{class:C(l(u).e("action"))},[S.loading?(M(),re(l(Ce),{key:0,class:C(l(u).is("loading"))},{default:Z(()=>[W(l(Ta))]),_:1},8,["class"])):te("v-if",!0)],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(M(),_("span",{key:1,class:C([l(u).e("label"),l(u).em("label","right"),l(u).is("active",l(p))])},[S.activeIcon?(M(),re(l(Ce),{key:0},{default:Z(()=>[(M(),re(pt(S.activeIcon)))]),_:1})):te("v-if",!0),!S.activeIcon&&S.activeText?(M(),_("span",{key:1,"aria-hidden":!l(p)},he(S.activeText),9,br)):te("v-if",!0)],2)):te("v-if",!0)],14,hr))}});var Cr=Ie(kr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const wr=Gn(Cr),Pt="$treeNodeId",ya=function(e,t){!t||t[Pt]||Object.defineProperty(t,Pt,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},na=function(e,t){return e?t[e]:t[Pt]},_n=(e,t,a)=>{const n=e.value.currentNode;a();const o=e.value.currentNode;n!==o&&t("current-change",o?o.data:null,o)},xn=e=>{let t=!0,a=!0,n=!0;for(let o=0,s=e.length;o<s;o++){const r=e[o];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(n=!1)),(r.checked!==!1||r.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},an=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:a,half:n}=xn(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||an(o)},Xt=function(e,t){const a=e.store.props,n=e.data||{},o=a[t];if(typeof o=="function")return o(n,e);if(typeof o=="string")return n[o];if(typeof o>"u"){const s=n[t];return s===void 0?"":s}};let Sr=0;class St{constructor(t){this.id=Sr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)zt(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf<"u"){const s=Xt(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||ya(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,o=t.key;o&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||ya(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=Xt(this,"children")||[];for(let n=0,o=a.length;n<o;n++)this.insertChild({data:a[n]})}get label(){return Xt(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Xt(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(n=>n===t||a&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof St)){if(!n){const o=this.getChildren(!0);o.includes(t.data)||(typeof a>"u"||a<0?o.push(t.data):o.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=vt(new St(t)),t instanceof St&&t.initialize()}t.level=this.level+1,typeof a>"u"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let n;a&&(n=this.childNodes.indexOf(a)),this.insertChild(t,n)}insertAfter(t,a){let n;a&&(n=this.childNodes.indexOf(a),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const a=this.getChildren()||[],n=a.indexOf(t.data);n>-1&&a.splice(n,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){a=this.childNodes[n];break}a&&this.removeChild(a)}expand(t,a){const n=()=>{if(a){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||an(this),n())}):n()}doCreateChildren(t,a={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,n,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:u}=xn(this.childNodes);!this.isLeaf&&!r&&u&&(this.checked=!1,t=!1);const c=()=>{if(a){const v=this.childNodes;for(let f=0,d=v.length;f<d;f++){const g=v[f];o=o||t!==!1;const i=g.disabled?g.checked:o;g.setChecked(i,a,!0,o)}const{half:w,all:b}=xn(v);b||(this.checked=b,this.indeterminate=w)}};if(this.shouldLoadData()){this.loadData(()=>{c(),an(this)},{checked:t!==!1});return}else c()}const s=this.parent;!s||s.level===0||n||an(s)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const n=this.store.props;let o="children";return n&&(o=n.children||"children"),a[o]===void 0&&(a[o]=null),t&&!a[o]&&(a[o]=[]),a[o]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(s=>s.data),n={},o=[];t.forEach((s,r)=>{const u=s[Pt];!!u&&a.findIndex(v=>v[Pt]===u)>=0?n[u]={index:r,data:s}:o.push({index:r,data:s})}),this.store.lazy||a.forEach(s=>{n[s[Pt]]||this.removeChildByData(s)}),o.forEach(({index:s,data:r})=>{this.insertChild({data:r},s)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const n=o=>{this.childNodes=[],this.doCreateChildren(o,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,n)}else t&&t.call(this)}}class Nr{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)zt(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){if(this.root=new St({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,n=this.lazy,o=function(s){const r=s.root?s.root.childNodes:s.childNodes;if(r.forEach(u=>{u.visible=a.call(u,t,u.data,u),o(u)}),!s.visible&&r.length){let u=!0;u=!r.some(c=>c.visible),s.root?s.root.visible=u===!1:s.visible=u===!1}t&&s.visible&&!s.isLeaf&&!n&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof St)return t;const a=Kn(t)?na(this.key,t):t;return this.nodesMap[a]||null}insertBefore(t,a){const n=this.getNode(a);n.parent.insertBefore({data:t},n)}insertAfter(t,a){const n=this.getNode(a);n.parent.insertAfter({data:t},n)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const n=a?this.getNode(a):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(n=>{const o=a[n];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const n=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(u=>{(u.checked||a&&u.indeterminate)&&(!t||t&&u.isLeaf)&&n.push(u.data),o(u)})};return o(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),a(s)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const n in a)zt(a,n)&&t.push(a[n]);return t}updateChildren(t,a){const n=this.nodesMap[t];if(!n)return;const o=n.childNodes;for(let s=o.length-1;s>=0;s--){const r=o[s];this.remove(r.data)}for(let s=0,r=a.length;s<r;s++){const u=a[s];this.append(u,n.data)}}_setCheckedKeys(t,a=!1,n){const o=this._getAllNodes().sort((u,c)=>c.level-u.level),s=Object.create(null),r=Object.keys(n);o.forEach(u=>u.setChecked(!1,!1));for(let u=0,c=o.length;u<c;u++){const v=o[u],w=v.data[t].toString();if(!r.includes(w)){v.checked&&!s[w]&&v.setChecked(!1,!1);continue}let f=v.parent;for(;f&&f.level>0;)s[f.data[t]]=!0,f=f.parent;if(v.isLeaf||this.checkStrictly){v.setChecked(!0,!1);continue}if(v.setChecked(!0,!0),a){v.setChecked(!1,!1);const d=function(g){g.childNodes.forEach(p=>{p.isLeaf||p.setChecked(!1,!1),d(p)})};d(v)}}}setCheckedNodes(t,a=!1){const n=this.key,o={};t.forEach(s=>{o[(s||{})[n]]=!0}),this._setCheckedKeys(n,a,o)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const n=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(n,a,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const n=this.getNode(a);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,a,n){const o=this.getNode(t);o&&o.setChecked(!!a,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const n=t[this.key],o=this.nodesMap[n];this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Dr=ye({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=we("tree"),a=ze("NodeInstance"),n=ze("RootTree");return()=>{const o=e.node,{data:s,store:r}=o;return e.renderContent?e.renderContent(Rt,{_self:a,node:o,data:s,store:r}):n.ctx.slots.default?n.ctx.slots.default({node:o,data:s}):Rt("span",{class:t.be("node","label")},[o.label])}}});var Mr=Ie(Dr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function qa(e){const t=ze("TreeNodeMap",null),a={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(a),ut("TreeNodeMap",a),{broadcastExpanded:n=>{if(e.accordion)for(const o of a.children)o.treeNodeExpand(n)}}}const ja=Symbol("dragEvents");function Or({props:e,ctx:t,el$:a,dropIndicator$:n,store:o}){const s=we("tree"),r=z({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ut(ja,{treeNodeDragStart:({event:w,treeNode:b})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(b.node))return w.preventDefault(),!1;w.dataTransfer.effectAllowed="move";try{w.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=b,t.emit("node-drag-start",b.node,w)},treeNodeDragOver:({event:w,treeNode:b})=>{const f=b,d=r.value.dropNode;d&&d.node.id!==f.node.id&&Dn(d.$el,s.is("drop-inner"));const g=r.value.draggingNode;if(!g||!f)return;let i=!0,p=!0,$=!0,y=!0;typeof e.allowDrop=="function"&&(i=e.allowDrop(g.node,f.node,"prev"),y=p=e.allowDrop(g.node,f.node,"inner"),$=e.allowDrop(g.node,f.node,"next")),w.dataTransfer.dropEffect=p||i||$?"move":"none",(i||p||$)&&(d==null?void 0:d.node.id)!==f.node.id&&(d&&t.emit("node-drag-leave",g.node,d.node,w),t.emit("node-drag-enter",g.node,f.node,w)),(i||p||$)&&(r.value.dropNode=f),f.node.nextSibling===g.node&&($=!1),f.node.previousSibling===g.node&&(i=!1),f.node.contains(g.node,!1)&&(p=!1),(g.node===f.node||g.node.contains(f.node))&&(i=!1,p=!1,$=!1);const h=f.$el.getBoundingClientRect(),E=a.value.getBoundingClientRect();let S;const F=i?p?.25:$?.45:1:-1,G=$?p?.75:i?.55:0:1;let Y=-9999;const A=w.clientY-h.top;A<h.height*F?S="before":A>h.height*G?S="after":p?S="inner":S="none";const R=f.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),Q=n.value;S==="before"?Y=R.top-E.top:S==="after"&&(Y=R.bottom-E.top),Q.style.top=`${Y}px`,Q.style.left=`${R.right-E.left}px`,S==="inner"?hl(f.$el,s.is("drop-inner")):Dn(f.$el,s.is("drop-inner")),r.value.showDropIndicator=S==="before"||S==="after",r.value.allowDrop=r.value.showDropIndicator||y,r.value.dropType=S,t.emit("node-drag-over",g.node,f.node,w)},treeNodeDragEnd:w=>{const{draggingNode:b,dropType:f,dropNode:d}=r.value;if(w.preventDefault(),w.dataTransfer.dropEffect="move",b&&d){const g={data:b.node.data};f!=="none"&&b.node.remove(),f==="before"?d.node.parent.insertBefore(g,d.node):f==="after"?d.node.parent.insertAfter(g,d.node):f==="inner"&&d.node.insertChild(g),f!=="none"&&o.value.registerNode(g),Dn(d.$el,s.is("drop-inner")),t.emit("node-drag-end",b.node,d.node,f,w),f!=="none"&&t.emit("node-drop",b.node,d.node,f,w)}b&&!d&&t.emit("node-drag-end",b.node,null,f,w),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const $r=ye({name:"ElTreeNode",components:{ElCollapseTransition:Il,ElCheckbox:Tl,NodeContent:Mr,ElIcon:Ce,Loading:Ta},props:{node:{type:St,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=we("tree"),{broadcastExpanded:n}=qa(e),o=ze("RootTree"),s=z(!1),r=z(!1),u=z(null),c=z(null),v=z(null),w=ze(ja),b=nt();ut("NodeInstance",b),e.node.expanded&&(s.value=!0,r.value=!0);const f=o.props.children||"children";ie(()=>{const A=e.node.data[f];return A&&[...A]},()=>{e.node.updateChildren()}),ie(()=>e.node.indeterminate,A=>{i(e.node.checked,A)}),ie(()=>e.node.checked,A=>{i(A,e.node.indeterminate)}),ie(()=>e.node.expanded,A=>{ge(()=>s.value=A),A&&(r.value=!0)});const d=A=>na(o.props.nodeKey,A.data),g=A=>{const R=e.props.class;if(!R)return{};let Q;if(Ze(R)){const{data:ve}=A;Q=R(ve,A)}else Q=R;return bt(Q)?{[Q]:!0}:Q},i=(A,R)=>{(u.value!==A||c.value!==R)&&o.ctx.emit("check-change",e.node.data,A,R),u.value=A,c.value=R},p=A=>{_n(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&y(),o.props.checkOnClickNode&&!e.node.disabled&&h(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,b,A)},$=A=>{o.instance.vnode.props.onNodeContextmenu&&(A.stopPropagation(),A.preventDefault()),o.ctx.emit("node-contextmenu",A,e.node.data,e.node,b)},y=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,b),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,b)))},h=(A,R)=>{e.node.setChecked(R.target.checked,!o.props.checkStrictly),ge(()=>{const Q=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:Q.getCheckedNodes(),checkedKeys:Q.getCheckedKeys(),halfCheckedNodes:Q.getHalfCheckedNodes(),halfCheckedKeys:Q.getHalfCheckedKeys()})})};return{ns:a,node$:v,tree:o,expanded:s,childNodeRendered:r,oldChecked:u,oldIndeterminate:c,getNodeKey:d,getNodeClass:g,handleSelectChange:i,handleClick:p,handleContextMenu:$,handleExpandIconClick:y,handleCheckChange:h,handleChildNodeExpand:(A,R,Q)=>{n(R),o.ctx.emit("node-expand",A,R,Q)},handleDragStart:A=>{o.props.draggable&&w.treeNodeDragStart({event:A,treeNode:e})},handleDragOver:A=>{A.preventDefault(),o.props.draggable&&w.treeNodeDragOver({event:A,treeNode:{$el:v.value,node:e.node}})},handleDrop:A=>{A.preventDefault()},handleDragEnd:A=>{o.props.draggable&&w.treeNodeDragEnd(A)},CaretRight:vl}}}),Pr=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Tr=["aria-expanded"];function Er(e,t,a,n,o,s){const r=Ue("el-icon"),u=Ue("el-checkbox"),c=Ue("loading"),v=Ue("node-content"),w=Ue("el-tree-node"),b=Ue("el-collapse-transition");return Ke((M(),_("div",{ref:"node$",class:C([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=Te((...f)=>e.handleClick&&e.handleClick(...f),["stop"])),onContextmenu:t[2]||(t[2]=(...f)=>e.handleContextMenu&&e.handleContextMenu(...f)),onDragstart:t[3]||(t[3]=Te((...f)=>e.handleDragStart&&e.handleDragStart(...f),["stop"])),onDragover:t[4]||(t[4]=Te((...f)=>e.handleDragOver&&e.handleDragOver(...f),["stop"])),onDragend:t[5]||(t[5]=Te((...f)=>e.handleDragEnd&&e.handleDragEnd(...f),["stop"])),onDrop:t[6]||(t[6]=Te((...f)=>e.handleDrop&&e.handleDrop(...f),["stop"]))},[H("div",{class:C(e.ns.be("node","content")),style:_e({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(M(),re(r,{key:0,class:C([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Te(e.handleExpandIconClick,["stop"])},{default:Z(()=>[(M(),re(pt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):te("v-if",!0),e.showCheckbox?(M(),re(u,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=Te(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):te("v-if",!0),e.node.loading?(M(),re(r,{key:2,class:C([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Z(()=>[W(c)]),_:1},8,["class"])):te("v-if",!0),W(v,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),W(b,null,{default:Z(()=>[!e.renderAfterExpand||e.childNodeRendered?Ke((M(),_("div",{key:0,class:C(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(M(!0),_($e,null,Re(e.node.childNodes,f=>(M(),re(w,{key:e.getNodeKey(f),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:f,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Tr)),[[tt,e.expanded]]):te("v-if",!0)]),_:1})],42,Pr)),[[tt,e.node.visible]])}var Vr=Ie($r,[["render",Er],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Ir({el$:e},t){const a=we("tree"),n=Et([]),o=Et([]);rt(()=>{r()}),ml(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),ie(o,u=>{u.forEach(c=>{c.setAttribute("tabindex","-1")})}),gl(e,"keydown",u=>{const c=u.target;if(!c.className.includes(a.b("node")))return;const v=u.code;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const w=n.value.indexOf(c);let b;if([Me.up,Me.down].includes(v)){if(u.preventDefault(),v===Me.up){b=w===-1?0:w!==0?w-1:n.value.length-1;const d=b;for(;!t.value.getNode(n.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=n.value.length-1)}}else{b=w===-1?0:w<n.value.length-1?w+1:0;const d=b;for(;!t.value.getNode(n.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=n.value.length&&(b=0)}}b!==-1&&n.value[b].focus()}[Me.left,Me.right].includes(v)&&(u.preventDefault(),c.click());const f=c.querySelector('[type="checkbox"]');[Me.enter,Me.space].includes(v)&&f&&(u.preventDefault(),f.click())});const r=()=>{var u;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const c=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(c.length){c[0].setAttribute("tabindex","0");return}(u=n.value[0])==null||u.setAttribute("tabindex","0")}}const Ar=ye({name:"ElTree",components:{ElTreeNode:Vr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:xt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=Ge(),n=we("tree"),o=z(new Nr({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=z(o.value.root),r=z(null),u=z(null),c=z(null),{broadcastExpanded:v}=qa(e),{dragState:w}=Or({props:e,ctx:t,el$:u,dropIndicator$:c,store:o});Ir({el$:u},o);const b=P(()=>{const{childNodes:V}=s.value;return!V||V.length===0||V.every(({visible:L})=>!L)});ie(()=>e.currentNodeKey,V=>{o.value.setCurrentNodeKey(V)}),ie(()=>e.defaultCheckedKeys,V=>{o.value.setDefaultCheckedKey(V)}),ie(()=>e.defaultExpandedKeys,V=>{o.value.setDefaultExpandedKeys(V)}),ie(()=>e.data,V=>{o.value.setData(V)},{deep:!0}),ie(()=>e.checkStrictly,V=>{o.value.checkStrictly=V});const f=V=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(V)},d=V=>na(e.nodeKey,V.data),g=V=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const L=o.value.getNode(V);if(!L)return[];const k=[L.data];let I=L.parent;for(;I&&I!==s.value;)k.push(I.data),I=I.parent;return k.reverse()},i=(V,L)=>o.value.getCheckedNodes(V,L),p=V=>o.value.getCheckedKeys(V),$=()=>{const V=o.value.getCurrentNode();return V?V.data:null},y=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const V=$();return V?V[e.nodeKey]:null},h=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(V,L)},E=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(V,L)},S=(V,L,k)=>{o.value.setChecked(V,L,k)},F=()=>o.value.getHalfCheckedNodes(),G=()=>o.value.getHalfCheckedKeys(),Y=(V,L=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");_n(o,t.emit,()=>o.value.setUserCurrentNode(V,L))},A=(V,L=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");_n(o,t.emit,()=>o.value.setCurrentNodeKey(V,L))},R=V=>o.value.getNode(V),Q=V=>{o.value.remove(V)},ve=(V,L)=>{o.value.append(V,L)},X=(V,L)=>{o.value.insertBefore(V,L)},oe=(V,L)=>{o.value.insertAfter(V,L)},be=(V,L,k)=>{v(L),t.emit("node-expand",V,L,k)},fe=(V,L)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(V,L)};return ut("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:r,instance:nt()}),ut(bl,void 0),{ns:n,store:o,root:s,currentNode:r,dragState:w,el$:u,dropIndicator$:c,isEmpty:b,filter:f,getNodeKey:d,getNodePath:g,getCheckedNodes:i,getCheckedKeys:p,getCurrentNode:$,getCurrentKey:y,setCheckedNodes:h,setCheckedKeys:E,setChecked:S,getHalfCheckedNodes:F,getHalfCheckedKeys:G,setCurrentNode:Y,setCurrentKey:A,t:a,getNode:R,remove:Q,append:ve,insertBefore:X,insertAfter:oe,handleNodeExpand:be,updateKeyChildren:fe}}});function Kr(e,t,a,n,o,s){const r=Ue("el-tree-node");return M(),_("div",{ref:"el$",class:C([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(M(!0),_($e,null,Re(e.root.childNodes,u=>(M(),re(r,{key:e.getNodeKey(u),node:u,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(M(),_("div",{key:0,class:C(e.ns.e("empty-block"))},[st(e.$slots,"empty",{},()=>{var u;return[H("span",{class:C(e.ns.e("empty-text"))},he((u=e.emptyText)!=null?u:e.t("el.tree.emptyText")),3)]})],2)):te("v-if",!0),Ke(H("div",{ref:"dropIndicator$",class:C(e.ns.e("drop-indicator"))},null,2),[[tt,e.dragState.showDropIndicator]])],2)}var ln=Ie(Ar,[["render",Kr],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ln.install=e=>{e.component(ln.name,ln)};const Wn=ln,Lr=(e,{attrs:t},{tree:a,key:n})=>{const o=we("tree-select"),s={...dn(jt(e),Object.keys(yn.props)),...t,valueKey:n,popperClass:P(()=>{const r=[o.e("popper")];return e.popperClass&&r.push(e.popperClass),r.join(" ")}),filterMethod:(r="")=>{e.filterMethod&&e.filterMethod(r),ge(()=>{var u;(u=a.value)==null||u.filter(r)})},onVisibleChange:r=>{var u;(u=t.onVisibleChange)==null||u.call(t,r),e.filterable&&r&&s.filterMethod()}};return s},Br=ye({extends:kn,setup(e,t){const a=kn.setup(e,t);delete a.selectOptionClick;const n=nt().proxy;return ge(()=>{a.select.cachedOptions.get(n.value)||a.select.onOptionCreate(n)}),a},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function qn(e){return e||e===0}function aa(e){return Array.isArray(e)&&e.length}function Bt(e){return Array.isArray(e)?e:qn(e)?[e]:[]}function on(e,t,a,n,o){for(let s=0;s<e.length;s++){const r=e[s];if(t(r,s,e,o))return n?n(r,s,e,o):r;{const u=a(r);if(aa(u)){const c=on(u,t,a,n,r);if(c)return c}}}}function Ua(e,t,a,n){for(let o=0;o<e.length;o++){const s=e[o];t(s,o,e,n);const r=a(s);aa(r)&&Ua(r,t,a,s)}}const Rr=(e,{attrs:t,slots:a,emit:n},{select:o,tree:s,key:r})=>{ie(()=>e.modelValue,()=>{e.showCheckbox&&ge(()=>{const f=s.value;f&&!un(f.getCheckedKeys(),Bt(e.modelValue))&&f.setCheckedKeys(Bt(e.modelValue))})},{immediate:!0,deep:!0});const u=P(()=>({value:r.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),c=(f,d)=>{var g;const i=u.value[f];return Ze(i)?i(d,(g=s.value)==null?void 0:g.getNode(c("value",d))):d[i]},v=Bt(e.modelValue).map(f=>on(e.data||[],d=>c("value",d)===f,d=>c("children",d),(d,g,i,p)=>p&&c("value",p))).filter(f=>qn(f)),w=P(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const f=[];return Ua(e.data.concat(e.cacheData),d=>{const g=c("value",d);f.push({value:g,currentLabel:c("label",d),isDisabled:c("disabled",d)})},d=>c("children",d)),f}),b=P(()=>w.value.reduce((f,d)=>({...f,[d.value]:d}),{}));return{...dn(jt(e),Object.keys(Wn.props)),...t,nodeKey:r,expandOnClickNode:P(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:P(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(v):v),renderContent:(f,{node:d,data:g,store:i})=>f(Br,{value:c("value",g),label:c("label",g),disabled:c("disabled",g)},e.renderContent?()=>e.renderContent(f,{node:d,data:g,store:i}):a.default?()=>a.default({node:d,data:g,store:i}):void 0),filterNodeMethod:(f,d,g)=>{var i;return e.filterNodeMethod?e.filterNodeMethod(f,d,g):f?(i=c("label",d))==null?void 0:i.includes(f):!0},onNodeClick:(f,d,g)=>{var i,p,$;if((i=t.onNodeClick)==null||i.call(t,f,d,g),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||d.isLeaf)){if(!c("disabled",f)){const y=(p=o.value)==null?void 0:p.options.get(c("value",f));($=o.value)==null||$.handleOptionSelect(y)}}else e.expandOnClickNode&&g.proxy.handleExpandIconClick()},onCheck:(f,d)=>{if(!e.showCheckbox)return;const g=c("value",f),i=d.checkedKeys,p=e.multiple?Bt(e.modelValue).filter(y=>y in b.value&&!s.value.getNode(y)&&!i.includes(y)):[],$=i.concat(p);if(e.checkStrictly)n(xe,e.multiple?$:$.includes(g)?g:void 0);else if(e.multiple)n(xe,s.value.getCheckedKeys(!0));else{const y=on([f],S=>!aa(c("children",S))&&!c("disabled",S),S=>c("children",S)),h=y?c("value",y):void 0,E=qn(e.modelValue)&&!!on([f],S=>c("value",S)===e.modelValue,S=>c("children",S));n(xe,h===e.modelValue||E?void 0:h)}ge(()=>{var y;const h=Bt(e.modelValue);s.value.setCheckedKeys(h),(y=t.onCheck)==null||y.call(t,f,{checkedKeys:s.value.getCheckedKeys(),checkedNodes:s.value.getCheckedNodes(),halfCheckedKeys:s.value.getHalfCheckedKeys(),halfCheckedNodes:s.value.getHalfCheckedNodes()})})},cacheOptions:w}};var Fr=ye({props:{data:{type:Array,default:()=>[]}},setup(e){const t=ze(Ut);return ie(()=>e.data,()=>{var a;e.data.forEach(o=>{t.cachedOptions.has(o.value)||t.cachedOptions.set(o.value,o)});const n=((a=t.selectWrapper)==null?void 0:a.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Yr=ye({name:"ElTreeSelect",inheritAttrs:!1,props:{...yn.props,...Wn.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:a,expose:n}=t,o=z(),s=z(),r=P(()=>e.nodeKey||e.valueKey||"value"),u=Lr(e,t,{select:o,tree:s,key:r}),{cacheOptions:c,...v}=Rr(e,t,{select:o,tree:s,key:r}),w=vt({});return n(w),rt(()=>{Object.assign(w,{...dn(s.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...dn(o.value,["focus","blur"])})}),()=>Rt(yn,vt({...u,ref:b=>o.value=b}),{...a,default:()=>[Rt(Fr,{data:c.value}),Rt(Wn,vt({...v,ref:b=>s.value=b}))]})}});var sn=Ie(Yr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);sn.install=e=>{e.component(sn.name,sn)};const zr=sn,Hr=zr;const _r={modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},valueKey:{type:String,default:"value"},remote:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1}},Ga={labelInValue:{type:Boolean,default:!1},text:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},options:{type:Array,default:()=>[]},valueObject:{type:Boolean,default:!1},maxTagCount:{type:Number,default:2},maxTagPlaceholder:{type:Function},modelLabel:{type:[Array,String,Number,Boolean,Object],default:void 0},api:{type:Function},init:{type:Boolean,default:!0},params:{type:Object},tree:{type:Boolean,default:!1}},xr=Object.assign({},_r,Ga);function Wr(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!wl(e)}const qr=ye({props:xr,emits:["update:modelValue","update:modelLabel","change"],name:"BaseSelect",setup(e,{attrs:t,emit:a,slots:n}){const o=Bn(e,"modelValue",a,{defaultValue:""}),s=Bn(e,"modelLabel",a,{defaultValue:""}),r=z(),u=z(e.options),c=P(()=>({...{...yl(e,Object.keys(Ga))},...t,collapseTags:!1}));rt(()=>{e.multiple&&f(),e.init&&b()});const v=y=>{var R;const{labelInValue:h,labelKey:E,valueKey:S,multiple:F,valueObject:G}=e;let Y=oa(y)?y:[y];G&&(Y=Y.map(Q=>Q[S]));const A=l(u).filter(Q=>Y.includes(Q[S]));if(s.value=F?A==null?void 0:A.map(Q=>Q[E]):(R=A[0])==null?void 0:R[E],h){a("change",F?A||[]:A[0]||{});return}a("change",y)},w=async y=>{y&&l(u).length===0&&b()},b=async()=>{var S;const{params:y,api:h}=e;if(!kl(h))return;const E=await h(y);u.value=((S=E.data)==null?void 0:S.list)||E.data},f=()=>{var h,E;if(!l(r))return;const y=document.createElement("span");y.style.display="none",y.className="el-tag el-tag--info el-tag--default el-tag--light el-tag-max-count",(E=(h=l(r).$refs.tags)==null?void 0:h.children)==null||E[0].appendChild(y)},d=()=>{ge(()=>{var E,S;if(!l(r))return;const{maxTagCount:y,maxTagPlaceholder:h}=e;Array.from(((S=(E=l(r).$refs.tags)==null?void 0:E.children)==null?void 0:S[0].children)||[]).filter(F=>{if(F.className.includes("el-tag-max-count")){const G=l(o);return G.length>y?(F.style.display="inline-flex",F.innerHTML=`<span class="el-tag__content"><span class="el-select__tags-text">
                                    ${h?h(G.length-y):`+${G.length-y}`}
                                    </span></span>`):F.style.display="none",!1}return!0}).forEach((F,G)=>{G>=y?F.style.display="none":F.style.display="inline-flex"})})},g=()=>{const{valueObject:y,modelValue:h,valueKey:E,labelKey:S}=e;let F=[];const G=oa(h)?h:[h];return y?F=G.map(Y=>Y[S]):G.forEach(Y=>{const A=l(u).find(R=>R[E]===Y);F.push(A?A[S]:Y)}),W("span",null,[F.join()])},i=()=>{let y;return W(yn,Yt({ref:r},c.value,{modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,onChange:v,"onVisible-change":w}),Wr(y=$())?y:{default:()=>[y]})},p=()=>W(Hr,Yt({ref:r},c.value,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,"check-strictly":!0,"default-expand-all":!0,"onVisible-change":w,data:u.value}),null),$=()=>{const{valueKey:y,labelKey:h,valueObject:E,modelValue:S,modelLabel:F,multiple:G}=e;if(n.default)return n.default();const Y=l(u).map(A=>W(kn,{key:A[y],label:A[h],value:E?A:A[y],disabled:A.disabled},{default:()=>{var R;return[(R=n.option)==null?void 0:R.call(n,{scope:A})]}}));return!G&&!E&&!Cl(S)&&(l(u).length===0||!l(u).find(A=>A[y]===S))&&Y.push(W(kn,{label:F,value:S},null)),Y};return()=>{const{text:y,tree:h,multiple:E}=e;return E&&d(),y?g():h?p():i()}}});const jr=ye({name:"BaseDatePicker",__name:"index",props:{modelValue:[String,Number,Array,Date],startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},format:{type:String,default:"YYYY/MM/DD"},valueFormat:{type:String,default:"YYYY-MM-DD"},rangeSeparator:{type:String,default:"~"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,n=Bn(a,"modelValue",t,{passive:!0}),o=Qn(),s=P(()=>({...a,...o}));return(r,u)=>{const c=Us;return M(),re(c,Yt({modelValue:l(n),"onUpdate:modelValue":u[0]||(u[0]=v=>Sl(n)?n.value=v:null)},l(s)),null,16,["modelValue"])}}});var Ur=(e=>(e.INPUT="input",e.NUMBER="number",e.DATE="date",e.SWITCH="switch",e.SELECT="select",e.TREE_SELECT="tree-select",e.TAG="tag",e.SLOT="slot",e.OPERATION="operation",e.TINYMCE="tinymce",e.VDITOR="vditor",e.ICON="icon",e.COLOR="color",e))(Ur||{});const Mt=new Map;Mt.set("input",Qa);Mt.set("number",Al);Mt.set("select",qr);Mt.set("switch",wr);Mt.set("icon",Kl);Mt.set("date",jr);Mt.set("color",Ko);export{Wt as C,Ko as E,Ur as F,kn as a,yn as b,Mt as c,wr as d};
