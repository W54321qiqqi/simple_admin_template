import{_ as S}from"./index-ed193f28.js";import{_ as N,F as a,E as v}from"./index.vue_vue_type_script_setup_true_lang-3c78b367.js";import{a as T,i as h,l as E,c as V,bk as w,o as y,e as x,s,aD as P,v as L,t,r as A,f as l,q as B,x as b,z as C,ak as U,g as I,n as R,A as $,bf as z,cf as j}from"./index-d8d90257.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-82f718f1.js";import{_ as K}from"./index-18a09cea.js";import"./useTagViewSetting-328ad203.js";import"./el-checkbox-164311e1.js";import"./index.vue_vue_type_script_setup_true_lang-1a6534d2.js";import"./index-d5815ed6.js";import"./el-tag-dd8422f3.js";import"./el-popper-715c4d2c.js";import"./localeData-0c41b92c.js";import"./index-5d01238b.js";import"./index-c69dc4d0.js";import"./icon-selector-5a9f6da6.js";import"./dropdown-4e1dc7c9.js";const W={columns:{type:Array,default:()=>[]},labelWidth:{type:[Number,String],default:"100px"},labelPosition:{type:String},size:{type:String},showOpen:{type:Boolean,default:!0},colProps:{type:Object,default:()=>({xs:24,sm:12,md:8,lg:6,xl:6})},searchInfo:{type:Object}},M={class:"base-filter-action"},G=T({name:"BaseFilter",__name:"index",props:W,emits:["search"],setup(i,{emit:n}){const p=i,e=h({baseFilterForm:p.searchInfo,isOpen:!1}),m=E(),r=V(()=>p.columns.filter(o=>w(o.active)||o.active)),c=()=>{e.baseFilterForm.time&&e.baseFilterForm.time.length>0&&(e.baseFilterForm.startTime=e.baseFilterForm.time[0],e.baseFilterForm.endTime=e.baseFilterForm.time[1]),n("search",e.baseFilterForm)},d=()=>{l(r).forEach(o=>{var u;((u=o==null?void 0:o.config)==null?void 0:u.clearable)!==!1&&(e.baseFilterForm[o.fieldName]="")}),c()},f=()=>{e.isOpen=!e.isOpen};return(o,u)=>{const _=q,k=$,O=N;return y(),x("div",{ref_key:"baseFilterRef",ref:m},[s(O,{model:l(e).baseFilterForm,class:R(["base-filter",{open:l(e).isOpen}]),"label-width":o.labelWidth,inline:"","label-position":o.labelPosition,columns:l(r),"col-props":o.colProps},P({action:t(()=>[B("div",M,[s(_,{type:"primary",onClick:c},{default:t(()=>[b("查询")]),_:1}),s(_,{type:"primary",plain:"",onClick:d},{default:t(()=>[b(" 重置 ")]),_:1}),o.showOpen?(y(),C(_,{key:0,type:"primary",link:"",onClick:f,class:"open-action"},{default:t(()=>[b(U(l(e).isOpen?"收起":"展开")+" ",1),s(k,{name:l(e).isOpen?"el-icon-ArrowUp":"el-icon-ArrowDown",class:"ml-1"},null,8,["name"])]),_:1})):I("",!0)])]),_:2},[L(l(r),F=>({name:F.fieldName,fn:t(()=>[A(o.$slots,F.fieldName,{},void 0,!0)])}))]),1032,["model","label-width","label-position","columns","col-props","class"])],512)}}});const H=z(G,[["__scopeId","data-v-4c0bffdb"]]);const J=()=>j.get("/role/getAllRoleList"),D=[{label:"启用",value:1},{label:"停用",value:0}],g=[{fieldName:"name",fieldDesc:"input输入",fieldType:a.INPUT},{fieldName:"age",fieldDesc:"number输入",fieldType:a.NUMBER},{fieldName:"birthday",fieldDesc:"日期选择",fieldType:a.DATE},{fieldName:"icon",fieldDesc:"图标选择",fieldType:a.ICON},{fieldName:"status",fieldDesc:"select下拉",fieldType:a.SELECT,config:{options:D}},{fieldName:"role",fieldDesc:"ApiSelect",fieldType:a.SELECT,config:{api:J,labelKey:"roleName",valueKey:"role"}},{fieldName:"slot",fieldDesc:"自定义slot",fieldType:a.SLOT}],Q=[{fieldName:"status",fieldDesc:"select下拉",fieldType:a.SELECT,config:{options:D}},{fieldName:"icon",fieldDesc:"图标选择",fieldType:a.ICON,show:i=>i.model.status===1},{fieldName:"slot",fieldDesc:"自定义slot",fieldType:a.SLOT,show:i=>i.model.status===0}],fe=T({__name:"index",setup(i){const n=h({color:""});return(p,e)=>{const m=v,r=N,c=K,d=H,f=S;return y(),C(f,null,{default:t(()=>[s(c,{title:"默认form"},{default:t(()=>[s(r,{columns:l(g),model:l(n),inline:"",colProps:{span:6}},{slot:t(()=>[s(m,{modelValue:l(n).color,"onUpdate:modelValue":e[0]||(e[0]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","model"])]),_:1}),s(c,{title:"收缩自适应form"},{default:t(()=>[s(d,{columns:l(g),"search-info":l(n),"show-open":""},{slot:t(()=>[s(m,{modelValue:l(n).color,"onUpdate:modelValue":e[1]||(e[1]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","search-info"])]),_:1}),s(c,{title:"动态form"},{default:t(()=>[s(r,{columns:l(Q),model:l(n),inline:"",colProps:{span:6}},{slot:t(()=>[s(m,{modelValue:l(n).color,"onUpdate:modelValue":e[2]||(e[2]=o=>l(n).color=o)},null,8,["modelValue"])]),_:1},8,["columns","model"])]),_:1})]),_:1})}}});export{fe as default};
