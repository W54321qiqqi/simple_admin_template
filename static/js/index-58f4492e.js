import{a as P,i as E,l as x,c as I,L as K,o as c,e as _,s as l,t as a,z as w,x as p,g as k,q as r,f as e,F as $,v as z,a3 as V,bh as R,bn as M,A as O,ba as W,bb as j,ay as Q,bc as X,cK as Y,ab as Z,aD as ee,cL as te}from"./index-3ca3440a.js";import{_ as oe}from"./index.vue_vue_type_style_index_0_lang-1f440254.js";import{a as le}from"./el-popper-dc3a5bde.js";import{E as F,q as B}from"./el-checkbox-79a60f38.js";import"./el-button-group-e14f7ad8.js";import{E as se,a as ae,b as ne}from"./el-dropdown-item-71cffd86.js";import{D as ie}from"./vuedraggable.umd-52be843d.js";import{E as ce}from"./el-image-viewer-afb4cef9.js";import{_ as de}from"./index-c1d12804.js";import"./index.vue_vue_type_script_setup_true_lang-bf68176a.js";import"./el-space-8668735d.js";import"./dropdown-6cd025a8.js";import"./vue.runtime.esm-bundler-894d885b.js";import"./debounce-1587e553.js";const me=u=>(W("data-v-63eb4b21"),u=u(),j(),u),re={class:"base-column-setting"},ue={class:"base-column-content flex"},fe={class:"base-column-list flex-1"},pe={class:"base-column-title pl-4"},_e={class:"border-box p-4"},he={class:"base-column-choose"},be=me(()=>r("div",{class:"base-column-title pl-4"},"已选字段",-1)),ge={class:"border-box base-column-choose-content py-1"},ke={key:0,class:"base-column-choose-item flex items-center px-2"},Ce=["title"],we={class:"base-column-setting-tip"},ve=P({__name:"base-column-setting",props:{tableColumns:{type:Array,default:()=>[]},filterColumns:{type:Array,default:()=>[]},showTable:{type:Boolean,default:!0},showFilter:{type:Boolean,default:!0}},emits:["update:tableColumns","update:filterColumns","columns-change"],setup(u,{emit:f}){const v=u,{proxy:y}=Q(),t=E({dialogType:0,isIndeterminate:!1,checkAll:!0,checkedList:[],checkColumnList:[]}),h=x(),C=I(()=>t.dialogType===0?"自定义列表字段":"自定义筛选字段"),d=I(()=>t.dialogType===0?v.tableColumns:v.filterColumns),D=s=>{t.dialogType=s,b(),e(h).showDialog()},N=s=>{t.checkedList=s?e(d).map(o=>o.fieldName):[],t.isIndeterminate=!1},m=s=>{const o=s.length;t.checkAll=o===e(d).length,t.isIndeterminate=o>0&&o<e(d).length},L=s=>{t.checkedList=t.checkedList.filter(o=>o!==s),m(t.checkedList)},T=()=>{if(t.checkedList.length===0){y.$messageWarning("请至少勾选一项再进行该操作");return}t.dialogType===0?f("update:tableColumns",t.checkColumnList):f("update:filterColumns",t.checkColumnList),f("columns-change",t.checkColumnList.filter(s=>R(s.active)||s.active)),e(h).hideDialog()},b=()=>{t.checkedList=e(d).filter(s=>R(s.active)||s.active).map(s=>s.fieldName)};return K(()=>t.checkedList,()=>{const s=M(e(d));t.checkColumnList=s.map(o=>(o.active=t.checkedList.includes(o.fieldName),o))}),(s,o)=>{const n=O,g=se,G=ae,U=ne,S=F,J=B,H=le,q=oe;return c(),_("div",re,[l(U,{trigger:"click"},{dropdown:a(()=>[l(G,null,{default:a(()=>[u.showTable?(c(),w(g,{key:0,onClick:o[0]||(o[0]=i=>D(0))},{default:a(()=>[l(n,{name:"local-column",size:"14"}),p(" 自定义列表字段 ")]),_:1})):k("",!0),u.showFilter?(c(),w(g,{key:1,onClick:o[1]||(o[1]=i=>D(1))},{default:a(()=>[l(n,{name:"local-filter",size:"16"}),p(" 自定义筛选 ")]),_:1})):k("",!0)]),_:1})]),default:a(()=>[l(n,{name:"el-icon-Setting",class:"base-icon-setting cursor-pointer",size:"18",hover:""})]),_:1}),l(q,{title:e(C),ref_key:"baseDialogRef",ref:h,width:"870px",saveText:"保 存",cancelText:"重 置",closeFun:b,onSave:T},{default:a(()=>[r("div",ue,[r("div",fe,[r("div",pe,[l(S,{modelValue:e(t).checkAll,"onUpdate:modelValue":o[2]||(o[2]=i=>e(t).checkAll=i),indeterminate:e(t).isIndeterminate,onChange:N},{default:a(()=>[p(" 全部字段 ")]),_:1},8,["modelValue","indeterminate"])]),r("div",_e,[l(J,{modelValue:e(t).checkedList,"onUpdate:modelValue":o[3]||(o[3]=i=>e(t).checkedList=i),onChange:m},{default:a(()=>[(c(!0),_($,null,z(e(d),i=>(c(),w(S,{key:i.fieldName,label:i.fieldName,class:"base-column-checkbox",title:i.fieldDesc},{default:a(()=>[p(V(i.fieldDesc),1)]),_:2},1032,["label","title"]))),128))]),_:1},8,["modelValue"])])]),r("div",he,[be,r("div",ge,[l(H,null,{default:a(()=>[l(e(ie),{modelValue:e(t).checkColumnList,"onUpdate:modelValue":o[4]||(o[4]=i=>e(t).checkColumnList=i),animation:100,"item-key":"fieldName",forceFallback:!0,handle:".cursor-move"},{item:a(({element:i})=>[i.active?(c(),_("div",ke,[i.fixed?k("",!0):(c(),w(n,{key:0,name:"el-icon-Rank",size:"16",class:"mr-1 cursor-move",hover:""})),r("div",{class:"w-full overflow-hidden text-ellipsis whitespace-nowrap",title:i.fieldDesc},V(i.fieldDesc),9,Ce),l(n,{name:"el-icon-Close",size:"14",class:"cursor-pointer",hover:"",onClick:Ve=>L(i.fieldName)},null,8,["onClick"])])):k("",!0)]),_:1},8,["modelValue"])]),_:1})])])]),r("div",we,[p(" 注：拖动 "),l(n,{name:"el-icon-Rank",size:"14",class:"mx-1"}),p(" 图标可调整顺序 ")])]),_:1},8,["title"])])}}});const ye=X(ve,[["__scopeId","data-v-63eb4b21"]]),De=[{fieldName:"id",fieldDesc:"用户id"},{fieldName:"payName",fieldDesc:"付款人"},{fieldName:"status",fieldDesc:"订单状态"},{fieldName:"time",fieldDesc:"下单时间"},{fieldName:"money",fieldDesc:"付款金额"},{fieldName:"remark",fieldDesc:"备注"}],A=[{fieldName:"id",fieldDesc:"用户id"},{fieldName:"payName",fieldDesc:"付款人",formType:"input"},{fieldName:"money",fieldDesc:"付款金额",formType:"number"},{fieldName:"count",fieldDesc:"数量",formType:"number"},{fieldName:"status",fieldDesc:"状态",formType:"tag"},{fieldName:"case",fieldDesc:"开关",formType:"switch"},{fieldName:"img",fieldDesc:"自定义列类型",formType:"slot"},{fieldName:"#",fieldDesc:"操作",formType:"operation",width:155,fixed:"right",operation:[{icon:"el-icon-Edit",label:"编辑",callFunction:()=>{}},{icon:"el-icon-Delete",label:"删除",confirm:!0,callFunction:()=>{}}]}],Ne=[{fieldName:"stripe",fieldDesc:"斑马纹"},{fieldName:"border",fieldDesc:"边框"},{fieldName:"showHeader",fieldDesc:"显示头部"},{fieldName:"highlightCurrentRow",fieldDesc:"高亮当前选中行"},{fieldName:"showSummary",fieldDesc:"合计项"},{fieldName:"showPagination",fieldDesc:"分页显示"},{fieldName:"indexShow",fieldDesc:"index项显示"},{fieldName:"selectionShow",fieldDesc:"勾选项显示"}],xe={class:"com-table-container"},Le={class:"mt30"},Te={key:0},Ee={key:0},Ke=P({__name:"index",setup(u){const f=Y(()=>te(()=>import("./base-table-6803e502.js"),["./base-table-6803e502.js","./el-tag-0d33f1b4.js","../css/el-tag-9382b5ec.css","../css/index-6460d980.css","./componentEnum-0a68df87.js","./index.vue_vue_type_script_setup_true_lang-01f4fa05.js","./index-995dff64.js","./el-popper-dc3a5bde.js","../css/el-popper-47a48cd3.css","./el-checkbox-79a60f38.js","../css/el-checkbox-aa12112c.css","./debounce-1587e553.js","./index-deaf1fc8.js","./index-2dce94ce.js","../css/index-912ddefa.css","./icon-selector-07683be6.js","./dropdown-6cd025a8.js","../css/icon-selector-75183455.css","./localeData-17181642.js","../css/componentEnum-f307622a.css","./el-empty-b013518e.js","../css/el-empty-90106710.css","./el-space-8668735d.js","../css/el-space-99ca034b.css","./index.vue_vue_type_script_setup_true_lang-bf68176a.js","./_initCloneObject-eb280eb6.js","../css/base-table-51133564.css"],import.meta.url)),v=x([{id:"123",payName:"马保国",status:"已付款",time:"2023-02-20",money:1314,remark:"闪电五连鞭"},{id:"124",payName:"Kenneth",status:"已评价",time:"2023-02-20",money:2086,remark:"到了打电话"}]),y=x([{id:"123",status:"成功",img:"https://img1.baidu.com/it/u=901475605,1506635237&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800"},{id:"124",status:"成功,Nice",img:"https://img1.baidu.com/it/u=962503013,598294385&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500"}]),t=E({columns:A}),h=["https://img1.baidu.com/it/u=962503013,598294385&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","https://img1.baidu.com/it/u=901475605,1506635237&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800","https://img2.baidu.com/it/u=4075901265,1581553886&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800"],C=x(["showHeader","highlightCurrentRow"]),d=E({stripe:!1,border:!1,showSummary:!1,indexShow:!1,showPagination:!1,selectionShow:!1,showHeader:!0,highlightCurrentRow:!0}),D=N=>{for(const m in d)d[m]=N.includes(m)};return(N,m)=>{const L=F,T=B,b=de,s=ce,o=ye;return c(),_("div",xe,[l(b,{title:"基础table"},{default:a(()=>[l(e(f),Z({columns:e(De),data:e(v)},e(d)),null,16,["columns","data"]),r("div",Le,[l(T,{modelValue:e(C),"onUpdate:modelValue":m[0]||(m[0]=n=>ee(C)?C.value=n:null),onChange:D},{default:a(()=>[(c(!0),_($,null,z(e(Ne),n=>(c(),w(L,{key:n.fieldName,label:n.fieldName},{default:a(()=>[p(V(n.fieldDesc),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])]),_:1}),l(b,{title:"自定义table"},{default:a(()=>[l(e(f),{columns:e(A),data:e(y)},{tableColumn:a(({scope:n,column:g})=>[g.fieldName==="img"?(c(),_("div",Te,[l(s,{src:n.row.img,"zoom-rate":1.2,"preview-src-list":h,"preview-teleported":"",fit:"cover",style:{width:"120px",height:"80px"}},null,8,["src"])])):k("",!0)]),_:1},8,["columns","data"])]),_:1}),l(b,{title:"列字段配置"},{extra:a(()=>[l(o,{"table-columns":e(t).columns,"onUpdate:tableColumns":m[1]||(m[1]=n=>e(t).columns=n),"show-filter":!1},null,8,["table-columns"])]),default:a(()=>[l(e(f),{columns:e(t).columns,data:e(y),"show-setting":""},{tableColumn:a(({scope:n,column:g})=>[g.fieldName==="img"?(c(),_("div",Ee,[l(s,{src:n.row.img,"zoom-rate":1.2,"preview-src-list":h,"preview-teleported":"",fit:"cover",style:{width:"120px",height:"80px"}},null,8,["src"])])):k("",!0)]),_:1},8,["columns","data"])]),_:1})])}}});export{Ke as default};
